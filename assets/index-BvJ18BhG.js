(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var vc={exports:{}},Ci={},wc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),rf=Symbol.for("react.portal"),nf=Symbol.for("react.fragment"),sf=Symbol.for("react.strict_mode"),af=Symbol.for("react.profiler"),of=Symbol.for("react.provider"),lf=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),cf=Symbol.for("react.suspense"),df=Symbol.for("react.memo"),hf=Symbol.for("react.lazy"),Pl=Symbol.iterator;function ff(e){return e===null||typeof e!="object"?null:(e=Pl&&e[Pl]||e["@@iterator"],typeof e=="function"?e:null)}var xc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bc=Object.assign,_c={};function nn(e,t,r){this.props=e,this.context=t,this.refs=_c,this.updater=r||xc}nn.prototype.isReactComponent={};nn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kc(){}kc.prototype=nn.prototype;function Ro(e,t,r){this.props=e,this.context=t,this.refs=_c,this.updater=r||xc}var Oo=Ro.prototype=new kc;Oo.constructor=Ro;bc(Oo,nn.prototype);Oo.isPureReactComponent=!0;var Rl=Array.isArray,Sc=Object.prototype.hasOwnProperty,Io={current:null},jc={key:!0,ref:!0,__self:!0,__source:!0};function Ec(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Sc.call(t,n)&&!jc.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ls,type:e,key:i,ref:a,props:s,_owner:Io.current}}function pf(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function mf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ol=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mf(""+e.key):t.toString(36)}function Us(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ls:case rf:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ki(a,0):n,Rl(s)?(r="",e!=null&&(r=e.replace(Ol,"$&/")+"/"),Us(s,t,r,"",function(c){return c})):s!=null&&(Lo(s)&&(s=pf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Ol,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Rl(e))for(var l=0;l<e.length;l++){i=e[l];var u=n+Ki(i,l);a+=Us(i,t,r,u,s)}else if(u=ff(e),typeof u=="function")for(e=u.call(e),l=0;!(i=e.next()).done;)i=i.value,u=n+Ki(i,l++),a+=Us(i,t,r,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function gs(e,t,r){if(e==null)return e;var n=[],s=0;return Us(e,n,"","",function(i){return t.call(r,i,s++)}),n}function gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Te={current:null},Fs={transition:null},yf={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Fs,ReactCurrentOwner:Io};function Nc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:gs,forEach:function(e,t,r){gs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!Lo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=nn;M.Fragment=nf;M.Profiler=af;M.PureComponent=Ro;M.StrictMode=sf;M.Suspense=cf;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yf;M.act=Nc;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=bc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Io.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)Sc.call(t,u)&&!jc.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&l!==void 0?l[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:ls,type:e.type,key:s,ref:i,props:n,_owner:a}};M.createContext=function(e){return e={$$typeof:lf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:of,_context:e},e.Consumer=e};M.createElement=Ec;M.createFactory=function(e){var t=Ec.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:uf,render:e}};M.isValidElement=Lo;M.lazy=function(e){return{$$typeof:hf,_payload:{_status:-1,_result:e},_init:gf}};M.memo=function(e,t){return{$$typeof:df,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Fs.transition;Fs.transition={};try{e()}finally{Fs.transition=t}};M.unstable_act=Nc;M.useCallback=function(e,t){return Te.current.useCallback(e,t)};M.useContext=function(e){return Te.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Te.current.useDeferredValue(e)};M.useEffect=function(e,t){return Te.current.useEffect(e,t)};M.useId=function(){return Te.current.useId()};M.useImperativeHandle=function(e,t,r){return Te.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return Te.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Te.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Te.current.useMemo(e,t)};M.useReducer=function(e,t,r){return Te.current.useReducer(e,t,r)};M.useRef=function(e){return Te.current.useRef(e)};M.useState=function(e){return Te.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return Te.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return Te.current.useTransition()};M.version="18.3.1";wc.exports=M;var S=wc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=S,wf=Symbol.for("react.element"),xf=Symbol.for("react.fragment"),bf=Object.prototype.hasOwnProperty,_f=vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kf={key:!0,ref:!0,__self:!0,__source:!0};function Cc(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)bf.call(t,n)&&!kf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wf,type:e,key:i,ref:a,props:s,_owner:_f.current}}Ci.Fragment=xf;Ci.jsx=Cc;Ci.jsxs=Cc;vc.exports=Ci;var o=vc.exports,Tc={exports:{}},Be={},Ac={exports:{}},Pc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,I){var D=C.length;C.push(I);e:for(;0<D;){var Z=D-1>>>1,B=C[Z];if(0<s(B,I))C[Z]=I,C[D]=B,D=Z;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var I=C[0],D=C.pop();if(D!==I){C[0]=D;e:for(var Z=0,B=C.length,Et=B>>>1;Z<Et;){var Ee=2*(Z+1)-1,ln=C[Ee],ft=Ee+1,yr=C[ft];if(0>s(ln,D))ft<B&&0>s(yr,ln)?(C[Z]=yr,C[ft]=D,Z=ft):(C[Z]=ln,C[Ee]=D,Z=Ee);else if(ft<B&&0>s(yr,D))C[Z]=yr,C[ft]=D,Z=ft;else break e}}return I}function s(C,I){var D=C.sortIndex-I.sortIndex;return D!==0?D:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,p=null,h=3,y=!1,g=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(C){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=C)n(c),I.sortIndex=I.expirationTime,t(u,I);else break;I=r(c)}}function x(C){if(w=!1,v(C),!g)if(r(u)!==null)g=!0,T(_);else{var I=r(c);I!==null&&V(x,I.startTime-C)}}function _(C,I){g=!1,w&&(w=!1,m(N),N=-1),y=!0;var D=h;try{for(v(I),p=r(u);p!==null&&(!(p.expirationTime>I)||C&&!Y());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,h=p.priorityLevel;var B=Z(p.expirationTime<=I);I=e.unstable_now(),typeof B=="function"?p.callback=B:p===r(u)&&n(u),v(I)}else n(u);p=r(u)}if(p!==null)var Et=!0;else{var Ee=r(c);Ee!==null&&V(x,Ee.startTime-I),Et=!1}return Et}finally{p=null,h=D,y=!1}}var k=!1,E=null,N=-1,O=5,P=-1;function Y(){return!(e.unstable_now()-P<O)}function z(){if(E!==null){var C=e.unstable_now();P=C;var I=!0;try{I=E(!0,C)}finally{I?ae():(k=!1,E=null)}}else k=!1}var ae;if(typeof f=="function")ae=function(){f(z)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,je=ue.port2;ue.port1.onmessage=z,ae=function(){je.postMessage(null)}}else ae=function(){b(z,0)};function T(C){E=C,k||(k=!0,ae())}function V(C,I){N=b(function(){C(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||y||(g=!0,T(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var D=h;h=I;try{return C()}finally{h=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return I()}finally{h=D}},e.unstable_scheduleCallback=function(C,I,D){var Z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?Z+D:Z):D=Z,C){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=D+B,C={id:d++,callback:I,priorityLevel:C,startTime:D,expirationTime:B,sortIndex:-1},D>Z?(C.sortIndex=D,t(c,C),r(u)===null&&C===r(c)&&(w?(m(N),N=-1):w=!0,V(x,D-Z))):(C.sortIndex=B,t(u,C),g||y||(g=!0,T(_))),C},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(C){var I=h;return function(){var D=h;h=I;try{return C.apply(this,arguments)}finally{h=D}}}})(Pc);Ac.exports=Pc;var Sf=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=S,Fe=Sf;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rc=new Set,$n={};function mr(e,t){Yr(e,t),Yr(e+"Capture",t)}function Yr(e,t){for($n[e]=t,e=0;e<t.length;e++)Rc.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ta=Object.prototype.hasOwnProperty,Ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Il={},Ll={};function Nf(e){return Ta.call(Ll,e)?!0:Ta.call(Il,e)?!1:Ef.test(e)?Ll[e]=!0:(Il[e]=!0,!1)}function Cf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Tf(e,t,r,n){if(t===null||typeof t>"u"||Cf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var $o=/[\-:]([a-z])/g;function Do(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($o,Do);xe[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($o,Do);xe[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($o,Do);xe[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function zo(e,t,r,n){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Tf(t,r,s,n)&&(r=null),n||s===null?Nf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var St=jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ys=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Mo=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Oc=Symbol.for("react.provider"),Ic=Symbol.for("react.context"),Uo=Symbol.for("react.forward_ref"),Pa=Symbol.for("react.suspense"),Ra=Symbol.for("react.suspense_list"),Fo=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Lc=Symbol.for("react.offscreen"),$l=Symbol.iterator;function un(e){return e===null||typeof e!="object"?null:(e=$l&&e[$l]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Ji;function xn(e){if(Ji===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ji=t&&t[1]||""}return`
`+Ji+e}var Yi=!1;function Qi(e,t){if(!e||Yi)return"";Yi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var u=`
`+s[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=l);break}}}finally{Yi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xn(e):""}function Af(e){switch(e.tag){case 5:return xn(e.type);case 16:return xn("Lazy");case 13:return xn("Suspense");case 19:return xn("SuspenseList");case 0:case 2:case 15:return e=Qi(e.type,!1),e;case 11:return e=Qi(e.type.render,!1),e;case 1:return e=Qi(e.type,!0),e;default:return""}}function Oa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pr:return"Fragment";case Ar:return"Portal";case Aa:return"Profiler";case Mo:return"StrictMode";case Pa:return"Suspense";case Ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ic:return(e.displayName||"Context")+".Consumer";case Oc:return(e._context.displayName||"Context")+".Provider";case Uo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fo:return t=e.displayName||null,t!==null?t:Oa(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return Oa(e(t))}catch{}}return null}function Pf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oa(t);case 8:return t===Mo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $c(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Rf(e){var t=$c(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vs(e){e._valueTracker||(e._valueTracker=Rf(e))}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$c(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ia(e,t){var r=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Dl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zc(e,t){t=t.checked,t!=null&&zo(e,"checked",t,!1)}function La(e,t){zc(e,t);var r=qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$a(e,t.type,r):t.hasOwnProperty("defaultValue")&&$a(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zl(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $a(e,t,r){(t!=="number"||Xs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function Wr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ml(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(j(92));if(bn(r)){if(1<r.length)throw Error(j(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qt(r)}}function Mc(e,t){var r=qt(t.value),n=qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ul(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Uc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Uc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ws,Fc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ws.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Of=["Webkit","ms","Moz","O"];Object.keys(jn).forEach(function(e){Of.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jn[t]=jn[e]})});function Bc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jn.hasOwnProperty(e)&&jn[e]?(""+t).trim():t+"px"}function Wc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Bc(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var If=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ma(e,t){if(t){if(If[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Ua(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fa=null;function Bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ba=null,qr=null,Vr=null;function Fl(e){if(e=ds(e)){if(typeof Ba!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Oi(t),Ba(e.stateNode,e.type,t))}}function qc(e){qr?Vr?Vr.push(e):Vr=[e]:qr=e}function Vc(){if(qr){var e=qr,t=Vr;if(Vr=qr=null,Fl(e),t)for(e=0;e<t.length;e++)Fl(t[e])}}function Hc(e,t){return e(t)}function Gc(){}var Xi=!1;function Kc(e,t,r){if(Xi)return e(t,r);Xi=!0;try{return Hc(e,t,r)}finally{Xi=!1,(qr!==null||Vr!==null)&&(Gc(),Vc())}}function zn(e,t){var r=e.stateNode;if(r===null)return null;var n=Oi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(j(231,t,typeof r));return r}var Wa=!1;if(xt)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){Wa=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{Wa=!1}function Lf(e,t,r,n,s,i,a,l,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var En=!1,Zs=null,ei=!1,qa=null,$f={onError:function(e){En=!0,Zs=e}};function Df(e,t,r,n,s,i,a,l,u){En=!1,Zs=null,Lf.apply($f,arguments)}function zf(e,t,r,n,s,i,a,l,u){if(Df.apply(this,arguments),En){if(En){var c=Zs;En=!1,Zs=null}else throw Error(j(198));ei||(ei=!0,qa=c)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bl(e){if(gr(e)!==e)throw Error(j(188))}function Mf(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(j(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Bl(s),e;if(i===n)return Bl(s),t;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?e:t}function Yc(e){return e=Mf(e),e!==null?Qc(e):null}function Qc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Qc(e);if(t!==null)return t;e=e.sibling}return null}var Xc=Fe.unstable_scheduleCallback,Wl=Fe.unstable_cancelCallback,Uf=Fe.unstable_shouldYield,Ff=Fe.unstable_requestPaint,ie=Fe.unstable_now,Bf=Fe.unstable_getCurrentPriorityLevel,Wo=Fe.unstable_ImmediatePriority,Zc=Fe.unstable_UserBlockingPriority,ti=Fe.unstable_NormalPriority,Wf=Fe.unstable_LowPriority,ed=Fe.unstable_IdlePriority,Ti=null,ct=null;function qf(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:Gf,Vf=Math.log,Hf=Math.LN2;function Gf(e){return e>>>=0,e===0?32:31-(Vf(e)/Hf|0)|0}var xs=64,bs=4194304;function _n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ri(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=_n(l):(i&=a,i!==0&&(n=_n(i)))}else a=r&~s,a!==0?n=_n(a):i!==0&&(n=_n(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-nt(t),s=1<<r,n|=e[r],t&=~s;return n}function Kf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jf(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-nt(i),l=1<<a,u=s[a];u===-1?(!(l&r)||l&n)&&(s[a]=Kf(l,t)):u<=t&&(e.expiredLanes|=l),i&=~l}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function td(){var e=xs;return xs<<=1,!(xs&4194240)&&(xs=64),e}function Zi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function us(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=r}function Yf(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-nt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function qo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nd,Vo,sd,id,ad,Ha=!1,_s=[],$t=null,Dt=null,zt=null,Mn=new Map,Un=new Map,Pt=[],Qf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Mn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(t.pointerId)}}function dn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ds(t),t!==null&&Vo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Xf(e,t,r,n,s){switch(t){case"focusin":return $t=dn($t,e,t,r,n,s),!0;case"dragenter":return Dt=dn(Dt,e,t,r,n,s),!0;case"mouseover":return zt=dn(zt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Mn.set(i,dn(Mn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Un.set(i,dn(Un.get(i)||null,e,t,r,n,s)),!0}return!1}function od(e){var t=nr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=Jc(r),t!==null){e.blockedOn=t,ad(e.priority,function(){sd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ga(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fa=n,r.target.dispatchEvent(n),Fa=null}else return t=ds(r),t!==null&&Vo(t),e.blockedOn=r,!1;t.shift()}return!0}function Vl(e,t,r){Bs(e)&&r.delete(t)}function Zf(){Ha=!1,$t!==null&&Bs($t)&&($t=null),Dt!==null&&Bs(Dt)&&(Dt=null),zt!==null&&Bs(zt)&&(zt=null),Mn.forEach(Vl),Un.forEach(Vl)}function hn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ha||(Ha=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,Zf)))}function Fn(e){function t(s){return hn(s,e)}if(0<_s.length){hn(_s[0],e);for(var r=1;r<_s.length;r++){var n=_s[r];n.blockedOn===e&&(n.blockedOn=null)}}for($t!==null&&hn($t,e),Dt!==null&&hn(Dt,e),zt!==null&&hn(zt,e),Mn.forEach(t),Un.forEach(t),r=0;r<Pt.length;r++)n=Pt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pt.length&&(r=Pt[0],r.blockedOn===null);)od(r),r.blockedOn===null&&Pt.shift()}var Hr=St.ReactCurrentBatchConfig,ni=!0;function ep(e,t,r,n){var s=W,i=Hr.transition;Hr.transition=null;try{W=1,Ho(e,t,r,n)}finally{W=s,Hr.transition=i}}function tp(e,t,r,n){var s=W,i=Hr.transition;Hr.transition=null;try{W=4,Ho(e,t,r,n)}finally{W=s,Hr.transition=i}}function Ho(e,t,r,n){if(ni){var s=Ga(e,t,r,n);if(s===null)ua(e,t,n,si,r),ql(e,n);else if(Xf(s,e,t,r,n))n.stopPropagation();else if(ql(e,n),t&4&&-1<Qf.indexOf(e)){for(;s!==null;){var i=ds(s);if(i!==null&&nd(i),i=Ga(e,t,r,n),i===null&&ua(e,t,n,si,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ua(e,t,n,null,r)}}var si=null;function Ga(e,t,r,n){if(si=null,e=Bo(n),e=nr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return si=e,null}function ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bf()){case Wo:return 1;case Zc:return 4;case ti:case Wf:return 16;case ed:return 536870912;default:return 16}default:return 16}}var It=null,Go=null,Ws=null;function ud(){if(Ws)return Ws;var e,t=Go,r=t.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ws=s.slice(e,1<n?1-n:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function Hl(){return!1}function We(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ks:Hl,this.isPropagationStopped=Hl,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=We(sn),cs=re({},sn,{view:0,detail:0}),rp=We(cs),ea,ta,fn,Ai=re({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&e.type==="mousemove"?(ea=e.screenX-fn.screenX,ta=e.screenY-fn.screenY):ta=ea=0,fn=e),ea)},movementY:function(e){return"movementY"in e?e.movementY:ta}}),Gl=We(Ai),np=re({},Ai,{dataTransfer:0}),sp=We(np),ip=re({},cs,{relatedTarget:0}),ra=We(ip),ap=re({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),op=We(ap),lp=re({},sn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),up=We(lp),cp=re({},sn,{data:0}),Kl=We(cp),dp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fp[e])?!!t[e]:!1}function Jo(){return pp}var mp=re({},cs,{key:function(e){if(e.key){var t=dp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gp=We(mp),yp=re({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jl=We(yp),vp=re({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),wp=We(vp),xp=re({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),bp=We(xp),_p=re({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=We(_p),Sp=[9,13,27,32],Yo=xt&&"CompositionEvent"in window,Nn=null;xt&&"documentMode"in document&&(Nn=document.documentMode);var jp=xt&&"TextEvent"in window&&!Nn,cd=xt&&(!Yo||Nn&&8<Nn&&11>=Nn),Yl=" ",Ql=!1;function dd(e,t){switch(e){case"keyup":return Sp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Rr=!1;function Ep(e,t){switch(e){case"compositionend":return hd(t);case"keypress":return t.which!==32?null:(Ql=!0,Yl);case"textInput":return e=t.data,e===Yl&&Ql?null:e;default:return null}}function Np(e,t){if(Rr)return e==="compositionend"||!Yo&&dd(e,t)?(e=ud(),Ws=Go=It=null,Rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cd&&t.locale!=="ko"?null:t.data;default:return null}}var Cp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Cp[e.type]:t==="textarea"}function fd(e,t,r,n){qc(n),t=ii(t,"onChange"),0<t.length&&(r=new Ko("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Cn=null,Bn=null;function Tp(e){Sd(e,0)}function Pi(e){var t=Lr(e);if(Dc(t))return e}function Ap(e,t){if(e==="change")return t}var pd=!1;if(xt){var na;if(xt){var sa="oninput"in document;if(!sa){var Zl=document.createElement("div");Zl.setAttribute("oninput","return;"),sa=typeof Zl.oninput=="function"}na=sa}else na=!1;pd=na&&(!document.documentMode||9<document.documentMode)}function eu(){Cn&&(Cn.detachEvent("onpropertychange",md),Bn=Cn=null)}function md(e){if(e.propertyName==="value"&&Pi(Bn)){var t=[];fd(t,Bn,e,Bo(e)),Kc(Tp,t)}}function Pp(e,t,r){e==="focusin"?(eu(),Cn=t,Bn=r,Cn.attachEvent("onpropertychange",md)):e==="focusout"&&eu()}function Rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pi(Bn)}function Op(e,t){if(e==="click")return Pi(t)}function Ip(e,t){if(e==="input"||e==="change")return Pi(t)}function Lp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var it=typeof Object.is=="function"?Object.is:Lp;function Wn(e,t){if(it(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ta.call(t,s)||!it(e[s],t[s]))return!1}return!0}function tu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ru(e,t){var r=tu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tu(r)}}function gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yd(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $p(e){var t=yd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gd(r.ownerDocument.documentElement,r)){if(n!==null&&Qo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=ru(r,i);var a=ru(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dp=xt&&"documentMode"in document&&11>=document.documentMode,Or=null,Ka=null,Tn=null,Ja=!1;function nu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ja||Or==null||Or!==Xs(n)||(n=Or,"selectionStart"in n&&Qo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tn&&Wn(Tn,n)||(Tn=n,n=ii(Ka,"onSelect"),0<n.length&&(t=new Ko("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Or)))}function Ss(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ir={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},ia={},vd={};xt&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Ri(e){if(ia[e])return ia[e];if(!Ir[e])return e;var t=Ir[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vd)return ia[e]=t[r];return e}var wd=Ri("animationend"),xd=Ri("animationiteration"),bd=Ri("animationstart"),_d=Ri("transitionend"),kd=new Map,su="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gt(e,t){kd.set(e,t),mr(t,[e])}for(var aa=0;aa<su.length;aa++){var oa=su[aa],zp=oa.toLowerCase(),Mp=oa[0].toUpperCase()+oa.slice(1);Gt(zp,"on"+Mp)}Gt(wd,"onAnimationEnd");Gt(xd,"onAnimationIteration");Gt(bd,"onAnimationStart");Gt("dblclick","onDoubleClick");Gt("focusin","onFocus");Gt("focusout","onBlur");Gt(_d,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Up=new Set("cancel close invalid load scroll toggle".split(" ").concat(kn));function iu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zf(n,t,void 0,e),e.currentTarget=null}function Sd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;iu(s,l,c),i=u}else for(a=0;a<n.length;a++){if(l=n[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;iu(s,l,c),i=u}}}if(ei)throw e=qa,ei=!1,qa=null,e}function K(e,t){var r=t[eo];r===void 0&&(r=t[eo]=new Set);var n=e+"__bubble";r.has(n)||(jd(t,e,2,!1),r.add(n))}function la(e,t,r){var n=0;t&&(n|=4),jd(r,e,n,t)}var js="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[js]){e[js]=!0,Rc.forEach(function(r){r!=="selectionchange"&&(Up.has(r)||la(r,!1,e),la(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[js]||(t[js]=!0,la("selectionchange",!1,t))}}function jd(e,t,r,n){switch(ld(t)){case 1:var s=ep;break;case 4:s=tp;break;default:s=Ho}r=s.bind(null,t,r,e),s=void 0,!Wa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ua(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;a=a.return}for(;l!==null;){if(a=nr(l),a===null)return;if(u=a.tag,u===5||u===6){n=i=a;continue e}l=l.parentNode}}n=n.return}Kc(function(){var c=i,d=Bo(r),p=[];e:{var h=kd.get(e);if(h!==void 0){var y=Ko,g=e;switch(e){case"keypress":if(qs(r)===0)break e;case"keydown":case"keyup":y=gp;break;case"focusin":g="focus",y=ra;break;case"focusout":g="blur",y=ra;break;case"beforeblur":case"afterblur":y=ra;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wp;break;case wd:case xd:case bd:y=op;break;case _d:y=bp;break;case"scroll":y=rp;break;case"wheel":y=kp;break;case"copy":case"cut":case"paste":y=up;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Jl}var w=(t&4)!==0,b=!w&&e==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var f=c,v;f!==null;){v=f;var x=v.stateNode;if(v.tag===5&&x!==null&&(v=x,m!==null&&(x=zn(f,m),x!=null&&w.push(Vn(f,x,v)))),b)break;f=f.return}0<w.length&&(h=new y(h,g,null,r,d),p.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",h&&r!==Fa&&(g=r.relatedTarget||r.fromElement)&&(nr(g)||g[bt]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(g=r.relatedTarget||r.toElement,y=c,g=g?nr(g):null,g!==null&&(b=gr(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(y=null,g=c),y!==g)){if(w=Gl,x="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Jl,x="onPointerLeave",m="onPointerEnter",f="pointer"),b=y==null?h:Lr(y),v=g==null?h:Lr(g),h=new w(x,f+"leave",y,r,d),h.target=b,h.relatedTarget=v,x=null,nr(d)===c&&(w=new w(m,f+"enter",g,r,d),w.target=v,w.relatedTarget=b,x=w),b=x,y&&g)t:{for(w=y,m=g,f=0,v=w;v;v=xr(v))f++;for(v=0,x=m;x;x=xr(x))v++;for(;0<f-v;)w=xr(w),f--;for(;0<v-f;)m=xr(m),v--;for(;f--;){if(w===m||m!==null&&w===m.alternate)break t;w=xr(w),m=xr(m)}w=null}else w=null;y!==null&&au(p,h,y,w,!1),g!==null&&b!==null&&au(p,b,g,w,!0)}}e:{if(h=c?Lr(c):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var _=Ap;else if(Xl(h))if(pd)_=Ip;else{_=Rp;var k=Pp}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Op);if(_&&(_=_(e,c))){fd(p,_,r,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&$a(h,"number",h.value)}switch(k=c?Lr(c):window,e){case"focusin":(Xl(k)||k.contentEditable==="true")&&(Or=k,Ka=c,Tn=null);break;case"focusout":Tn=Ka=Or=null;break;case"mousedown":Ja=!0;break;case"contextmenu":case"mouseup":case"dragend":Ja=!1,nu(p,r,d);break;case"selectionchange":if(Dp)break;case"keydown":case"keyup":nu(p,r,d)}var E;if(Yo)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Rr?dd(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(cd&&r.locale!=="ko"&&(Rr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Rr&&(E=ud()):(It=d,Go="value"in It?It.value:It.textContent,Rr=!0)),k=ii(c,N),0<k.length&&(N=new Kl(N,e,null,r,d),p.push({event:N,listeners:k}),E?N.data=E:(E=hd(r),E!==null&&(N.data=E)))),(E=jp?Ep(e,r):Np(e,r))&&(c=ii(c,"onBeforeInput"),0<c.length&&(d=new Kl("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=E))}Sd(p,t)})}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ii(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zn(e,r),i!=null&&n.unshift(Vn(e,i,s)),i=zn(e,t),i!=null&&n.push(Vn(e,i,s))),e=e.return}return n}function xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function au(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,u=l.alternate,c=l.stateNode;if(u!==null&&u===n)break;l.tag===5&&c!==null&&(l=c,s?(u=zn(r,i),u!=null&&a.unshift(Vn(r,u,l))):s||(u=zn(r,i),u!=null&&a.push(Vn(r,u,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Fp=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function ou(e){return(typeof e=="string"?e:""+e).replace(Fp,`
`).replace(Bp,"")}function Es(e,t,r){if(t=ou(t),ou(e)!==t&&r)throw Error(j(425))}function ai(){}var Ya=null,Qa=null;function Xa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Za=typeof setTimeout=="function"?setTimeout:void 0,Wp=typeof clearTimeout=="function"?clearTimeout:void 0,lu=typeof Promise=="function"?Promise:void 0,qp=typeof queueMicrotask=="function"?queueMicrotask:typeof lu<"u"?function(e){return lu.resolve(null).then(e).catch(Vp)}:Za;function Vp(e){setTimeout(function(){throw e})}function ca(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Fn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fn(t)}function Mt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var an=Math.random().toString(36).slice(2),ut="__reactFiber$"+an,Hn="__reactProps$"+an,bt="__reactContainer$"+an,eo="__reactEvents$"+an,Hp="__reactListeners$"+an,Gp="__reactHandles$"+an;function nr(e){var t=e[ut];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bt]||r[ut]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uu(e);e!==null;){if(r=e[ut])return r;e=uu(e)}return t}e=r,r=e.parentNode}return null}function ds(e){return e=e[ut]||e[bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Oi(e){return e[Hn]||null}var to=[],$r=-1;function Kt(e){return{current:e}}function J(e){0>$r||(e.current=to[$r],to[$r]=null,$r--)}function G(e,t){$r++,to[$r]=e.current,e.current=t}var Vt={},Se=Kt(Vt),Oe=Kt(!1),cr=Vt;function Qr(e,t){var r=e.type.contextTypes;if(!r)return Vt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function oi(){J(Oe),J(Se)}function cu(e,t,r){if(Se.current!==Vt)throw Error(j(168));G(Se,t),G(Oe,r)}function Ed(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(j(108,Pf(e)||"Unknown",s));return re({},r,n)}function li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vt,cr=Se.current,G(Se,e),G(Oe,Oe.current),!0}function du(e,t,r){var n=e.stateNode;if(!n)throw Error(j(169));r?(e=Ed(e,t,cr),n.__reactInternalMemoizedMergedChildContext=e,J(Oe),J(Se),G(Se,e)):J(Oe),G(Oe,r)}var gt=null,Ii=!1,da=!1;function Nd(e){gt===null?gt=[e]:gt.push(e)}function Kp(e){Ii=!0,Nd(e)}function Jt(){if(!da&&gt!==null){da=!0;var e=0,t=W;try{var r=gt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gt=null,Ii=!1}catch(s){throw gt!==null&&(gt=gt.slice(e+1)),Xc(Wo,Jt),s}finally{W=t,da=!1}}return null}var Dr=[],zr=0,ui=null,ci=0,qe=[],Ve=0,dr=null,yt=1,vt="";function Xt(e,t){Dr[zr++]=ci,Dr[zr++]=ui,ui=e,ci=t}function Cd(e,t,r){qe[Ve++]=yt,qe[Ve++]=vt,qe[Ve++]=dr,dr=e;var n=yt;e=vt;var s=32-nt(n)-1;n&=~(1<<s),r+=1;var i=32-nt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,yt=1<<32-nt(t)+s|r<<s|n,vt=i+e}else yt=1<<i|r<<s|n,vt=e}function Xo(e){e.return!==null&&(Xt(e,1),Cd(e,1,0))}function Zo(e){for(;e===ui;)ui=Dr[--zr],Dr[zr]=null,ci=Dr[--zr],Dr[zr]=null;for(;e===dr;)dr=qe[--Ve],qe[Ve]=null,vt=qe[--Ve],qe[Ve]=null,yt=qe[--Ve],qe[Ve]=null}var Ue=null,Me=null,Q=!1,rt=null;function Td(e,t){var r=He(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,Me=Mt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=dr!==null?{id:yt,overflow:vt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=He(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ue=e,Me=null,!0):!1;default:return!1}}function ro(e){return(e.mode&1)!==0&&(e.flags&128)===0}function no(e){if(Q){var t=Me;if(t){var r=t;if(!hu(e,t)){if(ro(e))throw Error(j(418));t=Mt(r.nextSibling);var n=Ue;t&&hu(e,t)?Td(n,r):(e.flags=e.flags&-4097|2,Q=!1,Ue=e)}}else{if(ro(e))throw Error(j(418));e.flags=e.flags&-4097|2,Q=!1,Ue=e}}}function fu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function Ns(e){if(e!==Ue)return!1;if(!Q)return fu(e),Q=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xa(e.type,e.memoizedProps)),t&&(t=Me)){if(ro(e))throw Ad(),Error(j(418));for(;t;)Td(e,t),t=Mt(t.nextSibling)}if(fu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=Mt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=Ue?Mt(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=Me;e;)e=Mt(e.nextSibling)}function Xr(){Me=Ue=null,Q=!1}function el(e){rt===null?rt=[e]:rt.push(e)}var Jp=St.ReactCurrentBatchConfig;function pn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pu(e){var t=e._init;return t(e._payload)}function Pd(e){function t(m,f){if(e){var v=m.deletions;v===null?(m.deletions=[f],m.flags|=16):v.push(f)}}function r(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function n(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function s(m,f){return m=Wt(m,f),m.index=0,m.sibling=null,m}function i(m,f,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<f?(m.flags|=2,f):v):(m.flags|=2,f)):(m.flags|=1048576,f)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,f,v,x){return f===null||f.tag!==6?(f=va(v,m.mode,x),f.return=m,f):(f=s(f,v),f.return=m,f)}function u(m,f,v,x){var _=v.type;return _===Pr?d(m,f,v.props.children,x,v.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ct&&pu(_)===f.type)?(x=s(f,v.props),x.ref=pn(m,f,v),x.return=m,x):(x=Qs(v.type,v.key,v.props,null,m.mode,x),x.ref=pn(m,f,v),x.return=m,x)}function c(m,f,v,x){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=wa(v,m.mode,x),f.return=m,f):(f=s(f,v.children||[]),f.return=m,f)}function d(m,f,v,x,_){return f===null||f.tag!==7?(f=lr(v,m.mode,x,_),f.return=m,f):(f=s(f,v),f.return=m,f)}function p(m,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=va(""+f,m.mode,v),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ys:return v=Qs(f.type,f.key,f.props,null,m.mode,v),v.ref=pn(m,null,f),v.return=m,v;case Ar:return f=wa(f,m.mode,v),f.return=m,f;case Ct:var x=f._init;return p(m,x(f._payload),v)}if(bn(f)||un(f))return f=lr(f,m.mode,v,null),f.return=m,f;Cs(m,f)}return null}function h(m,f,v,x){var _=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:l(m,f,""+v,x);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:return v.key===_?u(m,f,v,x):null;case Ar:return v.key===_?c(m,f,v,x):null;case Ct:return _=v._init,h(m,f,_(v._payload),x)}if(bn(v)||un(v))return _!==null?null:d(m,f,v,x,null);Cs(m,v)}return null}function y(m,f,v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(v)||null,l(f,m,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ys:return m=m.get(x.key===null?v:x.key)||null,u(f,m,x,_);case Ar:return m=m.get(x.key===null?v:x.key)||null,c(f,m,x,_);case Ct:var k=x._init;return y(m,f,v,k(x._payload),_)}if(bn(x)||un(x))return m=m.get(v)||null,d(f,m,x,_,null);Cs(f,x)}return null}function g(m,f,v,x){for(var _=null,k=null,E=f,N=f=0,O=null;E!==null&&N<v.length;N++){E.index>N?(O=E,E=null):O=E.sibling;var P=h(m,E,v[N],x);if(P===null){E===null&&(E=O);break}e&&E&&P.alternate===null&&t(m,E),f=i(P,f,N),k===null?_=P:k.sibling=P,k=P,E=O}if(N===v.length)return r(m,E),Q&&Xt(m,N),_;if(E===null){for(;N<v.length;N++)E=p(m,v[N],x),E!==null&&(f=i(E,f,N),k===null?_=E:k.sibling=E,k=E);return Q&&Xt(m,N),_}for(E=n(m,E);N<v.length;N++)O=y(E,m,N,v[N],x),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?N:O.key),f=i(O,f,N),k===null?_=O:k.sibling=O,k=O);return e&&E.forEach(function(Y){return t(m,Y)}),Q&&Xt(m,N),_}function w(m,f,v,x){var _=un(v);if(typeof _!="function")throw Error(j(150));if(v=_.call(v),v==null)throw Error(j(151));for(var k=_=null,E=f,N=f=0,O=null,P=v.next();E!==null&&!P.done;N++,P=v.next()){E.index>N?(O=E,E=null):O=E.sibling;var Y=h(m,E,P.value,x);if(Y===null){E===null&&(E=O);break}e&&E&&Y.alternate===null&&t(m,E),f=i(Y,f,N),k===null?_=Y:k.sibling=Y,k=Y,E=O}if(P.done)return r(m,E),Q&&Xt(m,N),_;if(E===null){for(;!P.done;N++,P=v.next())P=p(m,P.value,x),P!==null&&(f=i(P,f,N),k===null?_=P:k.sibling=P,k=P);return Q&&Xt(m,N),_}for(E=n(m,E);!P.done;N++,P=v.next())P=y(E,m,N,P.value,x),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?N:P.key),f=i(P,f,N),k===null?_=P:k.sibling=P,k=P);return e&&E.forEach(function(z){return t(m,z)}),Q&&Xt(m,N),_}function b(m,f,v,x){if(typeof v=="object"&&v!==null&&v.type===Pr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case ys:e:{for(var _=v.key,k=f;k!==null;){if(k.key===_){if(_=v.type,_===Pr){if(k.tag===7){r(m,k.sibling),f=s(k,v.props.children),f.return=m,m=f;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ct&&pu(_)===k.type){r(m,k.sibling),f=s(k,v.props),f.ref=pn(m,k,v),f.return=m,m=f;break e}r(m,k);break}else t(m,k);k=k.sibling}v.type===Pr?(f=lr(v.props.children,m.mode,x,v.key),f.return=m,m=f):(x=Qs(v.type,v.key,v.props,null,m.mode,x),x.ref=pn(m,f,v),x.return=m,m=x)}return a(m);case Ar:e:{for(k=v.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){r(m,f.sibling),f=s(f,v.children||[]),f.return=m,m=f;break e}else{r(m,f);break}else t(m,f);f=f.sibling}f=wa(v,m.mode,x),f.return=m,m=f}return a(m);case Ct:return k=v._init,b(m,f,k(v._payload),x)}if(bn(v))return g(m,f,v,x);if(un(v))return w(m,f,v,x);Cs(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(r(m,f.sibling),f=s(f,v),f.return=m,m=f):(r(m,f),f=va(v,m.mode,x),f.return=m,m=f),a(m)):r(m,f)}return b}var Zr=Pd(!0),Rd=Pd(!1),di=Kt(null),hi=null,Mr=null,tl=null;function rl(){tl=Mr=hi=null}function nl(e){var t=di.current;J(di),e._currentValue=t}function so(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gr(e,t){hi=e,tl=Mr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},Mr===null){if(hi===null)throw Error(j(308));Mr=e,hi.dependencies={lanes:0,firstContext:e}}else Mr=Mr.next=e;return t}var sr=null;function sl(e){sr===null?sr=[e]:sr.push(e)}function Od(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,sl(t)):(r.next=s.next,s.next=r),t.interleaved=r,_t(e,n)}function _t(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tt=!1;function il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Id(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ut(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,_t(e,r)}return s=n.interleaved,s===null?(t.next=t,sl(n)):(t.next=s.next,s.next=t),n.interleaved=t,_t(e,r)}function Vs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qo(e,r)}}function mu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fi(e,t,r,n){var s=e.updateQueue;Tt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?i=c:a.next=c,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;a=0,d=c=u=null,l=i;do{var h=l.lane,y=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,w=l;switch(h=t,y=r,w.tag){case 1:if(g=w.payload,typeof g=="function"){p=g.call(y,p,h);break e}p=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=w.payload,h=typeof g=="function"?g.call(y,p,h):g,h==null)break e;p=re({},p,h);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else y={eventTime:y,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=p):d=d.next=y,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fr|=a,e.lanes=a,e.memoizedState=p}}function gu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var hs={},dt=Kt(hs),Gn=Kt(hs),Kn=Kt(hs);function ir(e){if(e===hs)throw Error(j(174));return e}function al(e,t){switch(G(Kn,t),G(Gn,e),G(dt,hs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:za(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=za(t,e)}J(dt),G(dt,t)}function en(){J(dt),J(Gn),J(Kn)}function Ld(e){ir(Kn.current);var t=ir(dt.current),r=za(t,e.type);t!==r&&(G(Gn,e),G(dt,r))}function ol(e){Gn.current===e&&(J(dt),J(Gn))}var ee=Kt(0);function pi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=[];function ll(){for(var e=0;e<ha.length;e++)ha[e]._workInProgressVersionPrimary=null;ha.length=0}var Hs=St.ReactCurrentDispatcher,fa=St.ReactCurrentBatchConfig,hr=0,te=null,de=null,fe=null,mi=!1,An=!1,Jn=0,Yp=0;function be(){throw Error(j(321))}function ul(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!it(e[r],t[r]))return!1;return!0}function cl(e,t,r,n,s,i){if(hr=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hs.current=e===null||e.memoizedState===null?em:tm,e=r(n,s),An){i=0;do{if(An=!1,Jn=0,25<=i)throw Error(j(301));i+=1,fe=de=null,t.updateQueue=null,Hs.current=rm,e=r(n,s)}while(An)}if(Hs.current=gi,t=de!==null&&de.next!==null,hr=0,fe=de=te=null,mi=!1,t)throw Error(j(300));return e}function dl(){var e=Jn!==0;return Jn=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?te.memoizedState=fe=e:fe=fe.next=e,fe}function Je(){if(de===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=fe===null?te.memoizedState:fe.next;if(t!==null)fe=t,de=e;else{if(e===null)throw Error(j(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},fe===null?te.memoizedState=fe=e:fe=fe.next=e}return fe}function Yn(e,t){return typeof t=="function"?t(e):t}function pa(e){var t=Je(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=de,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,u=null,c=i;do{var d=c.lane;if((hr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,a=n):u=u.next=p,te.lanes|=d,fr|=d}c=c.next}while(c!==null&&c!==i);u===null?a=n:u.next=l,it(n,t.memoizedState)||(Re=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=u,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,te.lanes|=i,fr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ma(e){var t=Je(),r=t.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);it(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $d(){}function Dd(e,t){var r=te,n=Je(),s=t(),i=!it(n.memoizedState,s);if(i&&(n.memoizedState=s,Re=!0),n=n.queue,hl(Ud.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||fe!==null&&fe.memoizedState.tag&1){if(r.flags|=2048,Qn(9,Md.bind(null,r,n,s,t),void 0,null),pe===null)throw Error(j(349));hr&30||zd(r,t,s)}return s}function zd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Md(e,t,r,n){t.value=r,t.getSnapshot=n,Fd(t)&&Bd(e)}function Ud(e,t,r){return r(function(){Fd(t)&&Bd(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!it(e,r)}catch{return!0}}function Bd(e){var t=_t(e,1);t!==null&&st(t,e,1,-1)}function yu(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t.queue=e,e=e.dispatch=Zp.bind(null,te,e),[t.memoizedState,e]}function Qn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Wd(){return Je().memoizedState}function Gs(e,t,r,n){var s=lt();te.flags|=e,s.memoizedState=Qn(1|t,r,void 0,n===void 0?null:n)}function Li(e,t,r,n){var s=Je();n=n===void 0?null:n;var i=void 0;if(de!==null){var a=de.memoizedState;if(i=a.destroy,n!==null&&ul(n,a.deps)){s.memoizedState=Qn(t,r,i,n);return}}te.flags|=e,s.memoizedState=Qn(1|t,r,i,n)}function vu(e,t){return Gs(8390656,8,e,t)}function hl(e,t){return Li(2048,8,e,t)}function qd(e,t){return Li(4,2,e,t)}function Vd(e,t){return Li(4,4,e,t)}function Hd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,r){return r=r!=null?r.concat([e]):null,Li(4,4,Hd.bind(null,t,e),r)}function fl(){}function Kd(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ul(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jd(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ul(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Yd(e,t,r){return hr&21?(it(r,t)||(r=td(),te.lanes|=r,fr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=r)}function Qp(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=fa.transition;fa.transition={};try{e(!1),t()}finally{W=r,fa.transition=n}}function Qd(){return Je().memoizedState}function Xp(e,t,r){var n=Bt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xd(e))Zd(t,r);else if(r=Od(e,t,r,n),r!==null){var s=Ce();st(r,e,n,s),eh(r,t,n)}}function Zp(e,t,r){var n=Bt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xd(e))Zd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,it(l,a)){var u=t.interleaved;u===null?(s.next=s,sl(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}r=Od(e,t,s,n),r!==null&&(s=Ce(),st(r,e,n,s),eh(r,t,n))}}function Xd(e){var t=e.alternate;return e===te||t!==null&&t===te}function Zd(e,t){An=mi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qo(e,r)}}var gi={readContext:Ke,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},em={readContext:Ke,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:vu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gs(4194308,4,Hd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gs(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=lt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Xp.bind(null,te,e),[n.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:yu,useDebugValue:fl,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=yu(!1),t=e[0];return e=Qp.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=te,s=lt();if(Q){if(r===void 0)throw Error(j(407));r=r()}else{if(r=t(),pe===null)throw Error(j(349));hr&30||zd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,vu(Ud.bind(null,n,i,e),[e]),n.flags|=2048,Qn(9,Md.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=lt(),t=pe.identifierPrefix;if(Q){var r=vt,n=yt;r=(n&~(1<<32-nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Yp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tm={readContext:Ke,useCallback:Kd,useContext:Ke,useEffect:hl,useImperativeHandle:Gd,useInsertionEffect:qd,useLayoutEffect:Vd,useMemo:Jd,useReducer:pa,useRef:Wd,useState:function(){return pa(Yn)},useDebugValue:fl,useDeferredValue:function(e){var t=Je();return Yd(t,de.memoizedState,e)},useTransition:function(){var e=pa(Yn)[0],t=Je().memoizedState;return[e,t]},useMutableSource:$d,useSyncExternalStore:Dd,useId:Qd,unstable_isNewReconciler:!1},rm={readContext:Ke,useCallback:Kd,useContext:Ke,useEffect:hl,useImperativeHandle:Gd,useInsertionEffect:qd,useLayoutEffect:Vd,useMemo:Jd,useReducer:ma,useRef:Wd,useState:function(){return ma(Yn)},useDebugValue:fl,useDeferredValue:function(e){var t=Je();return de===null?t.memoizedState=e:Yd(t,de.memoizedState,e)},useTransition:function(){var e=ma(Yn)[0],t=Je().memoizedState;return[e,t]},useMutableSource:$d,useSyncExternalStore:Dd,useId:Qd,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function io(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var $i={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ce(),s=Bt(e),i=wt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Ut(e,i,s),t!==null&&(st(t,e,s,n),Vs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ce(),s=Bt(e),i=wt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ut(e,i,s),t!==null&&(st(t,e,s,n),Vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ce(),n=Bt(e),s=wt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Ut(e,s,n),t!==null&&(st(t,e,n,r),Vs(t,e,n))}};function wu(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Wn(r,n)||!Wn(s,i):!0}function th(e,t,r){var n=!1,s=Vt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ie(t)?cr:Se.current,n=t.contextTypes,i=(n=n!=null)?Qr(e,s):Vt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$i,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function xu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&$i.enqueueReplaceState(t,t.state,null)}function ao(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},il(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ie(t)?cr:Se.current,s.context=Qr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(io(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$i.enqueueReplaceState(s,s.state,null),fi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function tn(e,t){try{var r="",n=t;do r+=Af(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ga(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function oo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var nm=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vi||(vi=!0,vo=n),oo(e,t)},r}function nh(e,t,r){r=wt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){oo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){oo(e,t),typeof n!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function bu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=ym.bind(null,e,t,r),t.then(e,e))}function _u(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ku(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Ut(r,t,1))),r.lanes|=1),e)}var sm=St.ReactCurrentOwner,Re=!1;function Ne(e,t,r,n){t.child=e===null?Rd(t,null,r,n):Zr(t,e.child,r,n)}function Su(e,t,r,n,s){r=r.render;var i=t.ref;return Gr(t,s),n=cl(e,t,r,n,i,s),r=dl(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(Q&&r&&Xo(t),t.flags|=1,Ne(e,t,n,s),t.child)}function ju(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!bl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,sh(e,t,i,n,s)):(e=Qs(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Wn,r(a,n)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Wt(i,n),e.ref=t.ref,e.return=t,t.child=e}function sh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Wn(i,n)&&e.ref===t.ref)if(Re=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,kt(e,t,s)}return lo(e,t,r,n,s)}function ih(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Fr,De),De|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,G(Fr,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Fr,De),De|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,G(Fr,De),De|=n;return Ne(e,t,s,r),t.child}function ah(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lo(e,t,r,n,s){var i=Ie(r)?cr:Se.current;return i=Qr(t,i),Gr(t,s),r=cl(e,t,r,n,i,s),n=dl(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(Q&&n&&Xo(t),t.flags|=1,Ne(e,t,r,s),t.child)}function Eu(e,t,r,n,s){if(Ie(r)){var i=!0;li(t)}else i=!1;if(Gr(t,s),t.stateNode===null)Ks(e,t),th(t,r,n),ao(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ke(c):(c=Ie(r)?cr:Se.current,c=Qr(t,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||u!==c)&&xu(t,a,n,c),Tt=!1;var h=t.memoizedState;a.state=h,fi(t,n,a,s),u=t.memoizedState,l!==n||h!==u||Oe.current||Tt?(typeof d=="function"&&(io(t,r,d,n),u=t.memoizedState),(l=Tt||wu(t,r,l,n,h,u,c))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Id(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:Xe(t.type,l),a.props=c,p=t.pendingProps,h=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Ke(u):(u=Ie(r)?cr:Se.current,u=Qr(t,u));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||h!==u)&&xu(t,a,n,u),Tt=!1,h=t.memoizedState,a.state=h,fi(t,n,a,s);var g=t.memoizedState;l!==p||h!==g||Oe.current||Tt?(typeof y=="function"&&(io(t,r,y,n),g=t.memoizedState),(c=Tt||wu(t,r,c,n,h,g,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return uo(e,t,r,n,i,s)}function uo(e,t,r,n,s,i){ah(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&du(t,r,!1),kt(e,t,i);n=t.stateNode,sm.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Zr(t,e.child,null,i),t.child=Zr(t,null,l,i)):Ne(e,t,l,i),t.memoizedState=n.state,s&&du(t,r,!0),t.child}function oh(e){var t=e.stateNode;t.pendingContext?cu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cu(e,t.context,!1),al(e,t.containerInfo)}function Nu(e,t,r,n,s){return Xr(),el(s),t.flags|=256,Ne(e,t,r,n),t.child}var co={dehydrated:null,treeContext:null,retryLane:0};function ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function lh(e,t,r){var n=t.pendingProps,s=ee.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),G(ee,s&1),e===null)return no(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Mi(a,n,0,null),e=lr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=ho(r),t.memoizedState=co,e):pl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return im(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=u,t.deletions=null):(n=Wt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wt(l,i):(i=lr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?ho(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=co,n}return i=e.child,e=i.sibling,n=Wt(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function pl(e,t){return t=Mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ts(e,t,r,n){return n!==null&&el(n),Zr(t,e.child,null,r),e=pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function im(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ga(Error(j(422))),Ts(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Mi({mode:"visible",children:n.children},s,0,null),i=lr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zr(t,e.child,null,a),t.child.memoizedState=ho(a),t.memoizedState=co,i);if(!(t.mode&1))return Ts(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(j(419)),n=ga(i,n,void 0),Ts(e,t,a,n)}if(l=(a&e.childLanes)!==0,Re||l){if(n=pe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_t(e,s),st(n,e,s,-1))}return xl(),n=ga(Error(j(421))),Ts(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=vm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Me=Mt(s.nextSibling),Ue=t,Q=!0,rt=null,e!==null&&(qe[Ve++]=yt,qe[Ve++]=vt,qe[Ve++]=dr,yt=e.id,vt=e.overflow,dr=t),t=pl(t,n.children),t.flags|=4096,t)}function Cu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),so(e.return,t,r)}function ya(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function uh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ne(e,t,n.children,r),n=ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cu(e,r,t);else if(e.tag===19)Cu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(G(ee,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&pi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ya(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ya(t,!0,r,null,i);break;case"together":ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function am(e,t,r){switch(t.tag){case 3:oh(t),Xr();break;case 5:Ld(t);break;case 1:Ie(t.type)&&li(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;G(di,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(G(ee,ee.current&1),t.flags|=128,null):r&t.child.childLanes?lh(e,t,r):(G(ee,ee.current&1),e=kt(e,t,r),e!==null?e.sibling:null);G(ee,ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return uh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(ee,ee.current),n)break;return null;case 22:case 23:return t.lanes=0,ih(e,t,r)}return kt(e,t,r)}var ch,fo,dh,hh;ch=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fo=function(){};dh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ir(dt.current);var i=null;switch(r){case"input":s=Ia(e,s),n=Ia(e,n),i=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),i=[];break;case"textarea":s=Da(e,s),n=Da(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ai)}Ma(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($n.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(l=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($n.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&K("scroll",e),i||l===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};hh=function(e,t,r,n){r!==n&&(t.flags|=4)};function mn(e,t){if(!Q)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function om(e,t,r){var n=t.pendingProps;switch(Zo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ie(t.type)&&oi(),_e(t),null;case 3:return n=t.stateNode,en(),J(Oe),J(Se),ll(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(bo(rt),rt=null))),fo(e,t),_e(t),null;case 5:ol(t);var s=ir(Kn.current);if(r=t.type,e!==null&&t.stateNode!=null)dh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(j(166));return _e(t),null}if(e=ir(dt.current),Ns(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[ut]=t,n[Hn]=i,e=(t.mode&1)!==0,r){case"dialog":K("cancel",n),K("close",n);break;case"iframe":case"object":case"embed":K("load",n);break;case"video":case"audio":for(s=0;s<kn.length;s++)K(kn[s],n);break;case"source":K("error",n);break;case"img":case"image":case"link":K("error",n),K("load",n);break;case"details":K("toggle",n);break;case"input":Dl(n,i),K("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},K("invalid",n);break;case"textarea":Ml(n,i),K("invalid",n)}Ma(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Es(n.textContent,l,e),s=["children",""+l]):$n.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&K("scroll",n)}switch(r){case"input":vs(n),zl(n,i,!0);break;case"textarea":vs(n),Ul(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ai)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Uc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[ut]=t,e[Hn]=n,ch(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ua(r,n),r){case"dialog":K("cancel",e),K("close",e),s=n;break;case"iframe":case"object":case"embed":K("load",e),s=n;break;case"video":case"audio":for(s=0;s<kn.length;s++)K(kn[s],e);s=n;break;case"source":K("error",e),s=n;break;case"img":case"image":case"link":K("error",e),K("load",e),s=n;break;case"details":K("toggle",e),s=n;break;case"input":Dl(e,n),s=Ia(e,n),K("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),K("invalid",e);break;case"textarea":Ml(e,n),s=Da(e,n),K("invalid",e);break;default:s=n}Ma(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Wc(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Fc(e,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Dn(e,u):typeof u=="number"&&Dn(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($n.hasOwnProperty(i)?u!=null&&i==="onScroll"&&K("scroll",e):u!=null&&zo(e,i,u,a))}switch(r){case"input":vs(e),zl(e,n,!1);break;case"textarea":vs(e),Ul(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qt(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Wr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Wr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ai)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)hh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(j(166));if(r=ir(Kn.current),ir(dt.current),Ns(t)){if(n=t.stateNode,r=t.memoizedProps,n[ut]=t,(i=n.nodeValue!==r)&&(e=Ue,e!==null))switch(e.tag){case 3:Es(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Es(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=t,t.stateNode=n}return _e(t),null;case 13:if(J(ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Q&&Me!==null&&t.mode&1&&!(t.flags&128))Ad(),Xr(),t.flags|=98560,i=!1;else if(i=Ns(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ut]=t}else Xr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else rt!==null&&(bo(rt),rt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?he===0&&(he=3):xl())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return en(),fo(e,t),e===null&&qn(t.stateNode.containerInfo),_e(t),null;case 10:return nl(t.type._context),_e(t),null;case 17:return Ie(t.type)&&oi(),_e(t),null;case 19:if(J(ee),i=t.memoizedState,i===null)return _e(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)mn(i,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=pi(e),a!==null){for(t.flags|=128,mn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return G(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&ie()>rn&&(t.flags|=128,n=!0,mn(i,!1),t.lanes=4194304)}else{if(!n)if(e=pi(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Q)return _e(t),null}else 2*ie()-i.renderingStartTime>rn&&r!==1073741824&&(t.flags|=128,n=!0,mn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ie(),t.sibling=null,r=ee.current,G(ee,n?r&1|2:r&1),t):(_e(t),null);case 22:case 23:return wl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?De&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function lm(e,t){switch(Zo(t),t.tag){case 1:return Ie(t.type)&&oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return en(),J(Oe),J(Se),ll(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ol(t),null;case 13:if(J(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(ee),null;case 4:return en(),null;case 10:return nl(t.type._context),null;case 22:case 23:return wl(),null;case 24:return null;default:return null}}var As=!1,ke=!1,um=typeof WeakSet=="function"?WeakSet:Set,A=null;function Ur(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function po(e,t,r){try{r()}catch(n){se(e,t,n)}}var Tu=!1;function cm(e,t){if(Ya=ni,e=yd(),Qo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var y;p!==r||s!==0&&p.nodeType!==3||(l=a+s),p!==i||n!==0&&p.nodeType!==3||(u=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===e)break t;if(h===r&&++c===s&&(l=a),h===i&&++d===n&&(u=a),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}r=l===-1||u===-1?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qa={focusedElem:e,selectionRange:r},ni=!1,A=t;A!==null;)if(t=A,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,A=e;else for(;A!==null;){t=A;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var w=g.memoizedProps,b=g.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?w:Xe(t.type,w),b);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){se(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,A=e;break}A=t.return}return g=Tu,Tu=!1,g}function Pn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&po(t,r,i)}s=s.next}while(s!==n)}}function Di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function fh(e){var t=e.alternate;t!==null&&(e.alternate=null,fh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ut],delete t[Hn],delete t[eo],delete t[Hp],delete t[Gp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ph(e){return e.tag===5||e.tag===3||e.tag===4}function Au(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function go(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ai));else if(n!==4&&(e=e.child,e!==null))for(go(e,t,r),e=e.sibling;e!==null;)go(e,t,r),e=e.sibling}function yo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yo(e,t,r),e=e.sibling;e!==null;)yo(e,t,r),e=e.sibling}var ve=null,et=!1;function Nt(e,t,r){for(r=r.child;r!==null;)mh(e,t,r),r=r.sibling}function mh(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(Ti,r)}catch{}switch(r.tag){case 5:ke||Ur(r,t);case 6:var n=ve,s=et;ve=null,Nt(e,t,r),ve=n,et=s,ve!==null&&(et?(e=ve,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(et?(e=ve,r=r.stateNode,e.nodeType===8?ca(e.parentNode,r):e.nodeType===1&&ca(e,r),Fn(e)):ca(ve,r.stateNode));break;case 4:n=ve,s=et,ve=r.stateNode.containerInfo,et=!0,Nt(e,t,r),ve=n,et=s;break;case 0:case 11:case 14:case 15:if(!ke&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&po(r,t,a),s=s.next}while(s!==n)}Nt(e,t,r);break;case 1:if(!ke&&(Ur(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){se(r,t,l)}Nt(e,t,r);break;case 21:Nt(e,t,r);break;case 22:r.mode&1?(ke=(n=ke)||r.memoizedState!==null,Nt(e,t,r),ke=n):Nt(e,t,r);break;default:Nt(e,t,r)}}function Pu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new um),t.forEach(function(n){var s=wm.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ye(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,et=!1;break e;case 3:ve=l.stateNode.containerInfo,et=!0;break e;case 4:ve=l.stateNode.containerInfo,et=!0;break e}l=l.return}if(ve===null)throw Error(j(160));mh(i,a,s),ve=null,et=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){se(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)gh(t,e),t=t.sibling}function gh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ye(t,e),ot(e),n&4){try{Pn(3,e,e.return),Di(3,e)}catch(w){se(e,e.return,w)}try{Pn(5,e,e.return)}catch(w){se(e,e.return,w)}}break;case 1:Ye(t,e),ot(e),n&512&&r!==null&&Ur(r,r.return);break;case 5:if(Ye(t,e),ot(e),n&512&&r!==null&&Ur(r,r.return),e.flags&32){var s=e.stateNode;try{Dn(s,"")}catch(w){se(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&zc(s,i),Ua(l,a);var c=Ua(l,i);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];d==="style"?Wc(s,p):d==="dangerouslySetInnerHTML"?Fc(s,p):d==="children"?Dn(s,p):zo(s,d,p,c)}switch(l){case"input":La(s,i);break;case"textarea":Mc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Wr(s,!!i.multiple,y,!1):h!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hn]=i}catch(w){se(e,e.return,w)}}break;case 6:if(Ye(t,e),ot(e),n&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){se(e,e.return,w)}}break;case 3:if(Ye(t,e),ot(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(t.containerInfo)}catch(w){se(e,e.return,w)}break;case 4:Ye(t,e),ot(e);break;case 13:Ye(t,e),ot(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yl=ie())),n&4&&Pu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ke=(c=ke)||d,Ye(t,e),ke=c):Ye(t,e),ot(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(A=e,d=e.child;d!==null;){for(p=A=d;A!==null;){switch(h=A,y=h.child,h.tag){case 0:case 11:case 14:case 15:Pn(4,h,h.return);break;case 1:Ur(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(w){se(n,r,w)}}break;case 5:Ur(h,h.return);break;case 22:if(h.memoizedState!==null){Ou(p);continue}}y!==null?(y.return=h,A=y):Ou(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Bc("display",a))}catch(w){se(e,e.return,w)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(w){se(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ye(t,e),ot(e),n&4&&Pu(e);break;case 21:break;default:Ye(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ph(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Dn(s,""),n.flags&=-33);var i=Au(e);yo(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Au(e);go(e,l,a);break;default:throw Error(j(161))}}catch(u){se(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dm(e,t,r){A=e,yh(e)}function yh(e,t,r){for(var n=(e.mode&1)!==0;A!==null;){var s=A,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||As;if(!a){var l=s.alternate,u=l!==null&&l.memoizedState!==null||ke;l=As;var c=ke;if(As=a,(ke=u)&&!c)for(A=s;A!==null;)a=A,u=a.child,a.tag===22&&a.memoizedState!==null?Iu(s):u!==null?(u.return=a,A=u):Iu(s);for(;i!==null;)A=i,yh(i),i=i.sibling;A=s,As=l,ke=c}Ru(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,A=i):Ru(e)}}function Ru(e){for(;A!==null;){var t=A;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ke||Di(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ke)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&gu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gu(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Fn(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}ke||t.flags&512&&mo(t)}catch(h){se(t,t.return,h)}}if(t===e){A=null;break}if(r=t.sibling,r!==null){r.return=t.return,A=r;break}A=t.return}}function Ou(e){for(;A!==null;){var t=A;if(t===e){A=null;break}var r=t.sibling;if(r!==null){r.return=t.return,A=r;break}A=t.return}}function Iu(e){for(;A!==null;){var t=A;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Di(4,t)}catch(u){se(t,r,u)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(u){se(t,s,u)}}var i=t.return;try{mo(t)}catch(u){se(t,i,u)}break;case 5:var a=t.return;try{mo(t)}catch(u){se(t,a,u)}}}catch(u){se(t,t.return,u)}if(t===e){A=null;break}var l=t.sibling;if(l!==null){l.return=t.return,A=l;break}A=t.return}}var hm=Math.ceil,yi=St.ReactCurrentDispatcher,ml=St.ReactCurrentOwner,Ge=St.ReactCurrentBatchConfig,F=0,pe=null,le=null,we=0,De=0,Fr=Kt(0),he=0,Xn=null,fr=0,zi=0,gl=0,Rn=null,Pe=null,yl=0,rn=1/0,pt=null,vi=!1,vo=null,Ft=null,Ps=!1,Lt=null,wi=0,On=0,wo=null,Js=-1,Ys=0;function Ce(){return F&6?ie():Js!==-1?Js:Js=ie()}function Bt(e){return e.mode&1?F&2&&we!==0?we&-we:Jp.transition!==null?(Ys===0&&(Ys=td()),Ys):(e=W,e!==0||(e=window.event,e=e===void 0?16:ld(e.type)),e):1}function st(e,t,r,n){if(50<On)throw On=0,wo=null,Error(j(185));us(e,r,n),(!(F&2)||e!==pe)&&(e===pe&&(!(F&2)&&(zi|=r),he===4&&Rt(e,we)),Le(e,n),r===1&&F===0&&!(t.mode&1)&&(rn=ie()+500,Ii&&Jt()))}function Le(e,t){var r=e.callbackNode;Jf(e,t);var n=ri(e,e===pe?we:0);if(n===0)r!==null&&Wl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wl(r),t===1)e.tag===0?Kp(Lu.bind(null,e)):Nd(Lu.bind(null,e)),qp(function(){!(F&6)&&Jt()}),r=null;else{switch(rd(n)){case 1:r=Wo;break;case 4:r=Zc;break;case 16:r=ti;break;case 536870912:r=ed;break;default:r=ti}r=jh(r,vh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vh(e,t){if(Js=-1,Ys=0,F&6)throw Error(j(327));var r=e.callbackNode;if(Kr()&&e.callbackNode!==r)return null;var n=ri(e,e===pe?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xi(e,n);else{t=n;var s=F;F|=2;var i=xh();(pe!==e||we!==t)&&(pt=null,rn=ie()+500,or(e,t));do try{mm();break}catch(l){wh(e,l)}while(!0);rl(),yi.current=i,F=s,le!==null?t=0:(pe=null,we=0,t=he)}if(t!==0){if(t===2&&(s=Va(e),s!==0&&(n=s,t=xo(e,s))),t===1)throw r=Xn,or(e,0),Rt(e,n),Le(e,ie()),r;if(t===6)Rt(e,n);else{if(s=e.current.alternate,!(n&30)&&!fm(s)&&(t=xi(e,n),t===2&&(i=Va(e),i!==0&&(n=i,t=xo(e,i))),t===1))throw r=Xn,or(e,0),Rt(e,n),Le(e,ie()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(j(345));case 2:Zt(e,Pe,pt);break;case 3:if(Rt(e,n),(n&130023424)===n&&(t=yl+500-ie(),10<t)){if(ri(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ce(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Za(Zt.bind(null,e,Pe,pt),t);break}Zt(e,Pe,pt);break;case 4:if(Rt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-nt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*hm(n/1960))-n,10<n){e.timeoutHandle=Za(Zt.bind(null,e,Pe,pt),n);break}Zt(e,Pe,pt);break;case 5:Zt(e,Pe,pt);break;default:throw Error(j(329))}}}return Le(e,ie()),e.callbackNode===r?vh.bind(null,e):null}function xo(e,t){var r=Rn;return e.current.memoizedState.isDehydrated&&(or(e,t).flags|=256),e=xi(e,t),e!==2&&(t=Pe,Pe=r,t!==null&&bo(t)),e}function bo(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function fm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rt(e,t){for(t&=~gl,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nt(t),n=1<<r;e[r]=-1,t&=~n}}function Lu(e){if(F&6)throw Error(j(327));Kr();var t=ri(e,0);if(!(t&1))return Le(e,ie()),null;var r=xi(e,t);if(e.tag!==0&&r===2){var n=Va(e);n!==0&&(t=n,r=xo(e,n))}if(r===1)throw r=Xn,or(e,0),Rt(e,t),Le(e,ie()),r;if(r===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zt(e,Pe,pt),Le(e,ie()),null}function vl(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(rn=ie()+500,Ii&&Jt())}}function pr(e){Lt!==null&&Lt.tag===0&&!(F&6)&&Kr();var t=F;F|=1;var r=Ge.transition,n=W;try{if(Ge.transition=null,W=1,e)return e()}finally{W=n,Ge.transition=r,F=t,!(F&6)&&Jt()}}function wl(){De=Fr.current,J(Fr)}function or(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Wp(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(Zo(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&oi();break;case 3:en(),J(Oe),J(Se),ll();break;case 5:ol(n);break;case 4:en();break;case 13:J(ee);break;case 19:J(ee);break;case 10:nl(n.type._context);break;case 22:case 23:wl()}r=r.return}if(pe=e,le=e=Wt(e.current,null),we=De=t,he=0,Xn=null,gl=zi=fr=0,Pe=Rn=null,sr!==null){for(t=0;t<sr.length;t++)if(r=sr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}sr=null}return e}function wh(e,t){do{var r=le;try{if(rl(),Hs.current=gi,mi){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}mi=!1}if(hr=0,fe=de=te=null,An=!1,Jn=0,ml.current=null,r===null||r.return===null){he=1,Xn=t,le=null;break}e:{var i=e,a=r.return,l=r,u=t;if(t=we,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=_u(a);if(y!==null){y.flags&=-257,ku(y,a,l,i,t),y.mode&1&&bu(i,c,t),t=y,u=c;var g=t.updateQueue;if(g===null){var w=new Set;w.add(u),t.updateQueue=w}else g.add(u);break e}else{if(!(t&1)){bu(i,c,t),xl();break e}u=Error(j(426))}}else if(Q&&l.mode&1){var b=_u(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),ku(b,a,l,i,t),el(tn(u,l));break e}}i=u=tn(u,l),he!==4&&(he=2),Rn===null?Rn=[i]:Rn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=rh(i,u,t);mu(i,m);break e;case 1:l=u;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ft===null||!Ft.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=nh(i,l,t);mu(i,x);break e}}i=i.return}while(i!==null)}_h(r)}catch(_){t=_,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function xh(){var e=yi.current;return yi.current=gi,e===null?gi:e}function xl(){(he===0||he===3||he===2)&&(he=4),pe===null||!(fr&268435455)&&!(zi&268435455)||Rt(pe,we)}function xi(e,t){var r=F;F|=2;var n=xh();(pe!==e||we!==t)&&(pt=null,or(e,t));do try{pm();break}catch(s){wh(e,s)}while(!0);if(rl(),F=r,yi.current=n,le!==null)throw Error(j(261));return pe=null,we=0,he}function pm(){for(;le!==null;)bh(le)}function mm(){for(;le!==null&&!Uf();)bh(le)}function bh(e){var t=Sh(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?_h(e):le=t,ml.current=null}function _h(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=lm(r,t),r!==null){r.flags&=32767,le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,le=null;return}}else if(r=om(r,t,De),r!==null){le=r;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);he===0&&(he=5)}function Zt(e,t,r){var n=W,s=Ge.transition;try{Ge.transition=null,W=1,gm(e,t,r,n)}finally{Ge.transition=s,W=n}return null}function gm(e,t,r,n){do Kr();while(Lt!==null);if(F&6)throw Error(j(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Yf(e,i),e===pe&&(le=pe=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ps||(Ps=!0,jh(ti,function(){return Kr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var a=W;W=1;var l=F;F|=4,ml.current=null,cm(e,r),gh(r,e),$p(Qa),ni=!!Ya,Qa=Ya=null,e.current=r,dm(r),Ff(),F=l,W=a,Ge.transition=i}else e.current=r;if(Ps&&(Ps=!1,Lt=e,wi=s),i=e.pendingLanes,i===0&&(Ft=null),qf(r.stateNode),Le(e,ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,e=vo,vo=null,e;return wi&1&&e.tag!==0&&Kr(),i=e.pendingLanes,i&1?e===wo?On++:(On=0,wo=e):On=0,Jt(),null}function Kr(){if(Lt!==null){var e=rd(wi),t=Ge.transition,r=W;try{if(Ge.transition=null,W=16>e?16:e,Lt===null)var n=!1;else{if(e=Lt,Lt=null,wi=0,F&6)throw Error(j(331));var s=F;for(F|=4,A=e.current;A!==null;){var i=A,a=i.child;if(A.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(A=c;A!==null;){var d=A;switch(d.tag){case 0:case 11:case 15:Pn(8,d,i)}var p=d.child;if(p!==null)p.return=d,A=p;else for(;A!==null;){d=A;var h=d.sibling,y=d.return;if(fh(d),d===c){A=null;break}if(h!==null){h.return=y,A=h;break}A=y}}}var g=i.alternate;if(g!==null){var w=g.child;if(w!==null){g.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}A=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,A=a;else e:for(;A!==null;){if(i=A,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,A=m;break e}A=i.return}}var f=e.current;for(A=f;A!==null;){a=A;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,A=v;else e:for(a=f;A!==null;){if(l=A,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Di(9,l)}}catch(_){se(l,l.return,_)}if(l===a){A=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,A=x;break e}A=l.return}}if(F=s,Jt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(Ti,e)}catch{}n=!0}return n}finally{W=r,Ge.transition=t}}return!1}function $u(e,t,r){t=tn(r,t),t=rh(e,t,1),e=Ut(e,t,1),t=Ce(),e!==null&&(us(e,1,t),Le(e,t))}function se(e,t,r){if(e.tag===3)$u(e,e,r);else for(;t!==null;){if(t.tag===3){$u(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ft===null||!Ft.has(n))){e=tn(r,e),e=nh(t,e,1),t=Ut(t,e,1),e=Ce(),t!==null&&(us(t,1,e),Le(t,e));break}}t=t.return}}function ym(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&r,pe===e&&(we&r)===r&&(he===4||he===3&&(we&130023424)===we&&500>ie()-yl?or(e,0):gl|=r),Le(e,t)}function kh(e,t){t===0&&(e.mode&1?(t=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):t=1);var r=Ce();e=_t(e,t),e!==null&&(us(e,t,r),Le(e,r))}function vm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kh(e,r)}function wm(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(t),kh(e,r)}var Sh;Sh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Re=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Re=!1,am(e,t,r);Re=!!(e.flags&131072)}else Re=!1,Q&&t.flags&1048576&&Cd(t,ci,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ks(e,t),e=t.pendingProps;var s=Qr(t,Se.current);Gr(t,r),s=cl(null,t,n,e,s,r);var i=dl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(n)?(i=!0,li(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,il(t),s.updater=$i,t.stateNode=s,s._reactInternals=t,ao(t,n,e,r),t=uo(null,t,n,!0,i,r)):(t.tag=0,Q&&i&&Xo(t),Ne(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ks(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=bm(n),e=Xe(n,e),s){case 0:t=lo(null,t,n,e,r);break e;case 1:t=Eu(null,t,n,e,r);break e;case 11:t=Su(null,t,n,e,r);break e;case 14:t=ju(null,t,n,Xe(n.type,e),r);break e}throw Error(j(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),lo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Eu(e,t,n,s,r);case 3:e:{if(oh(t),e===null)throw Error(j(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Id(e,t),fi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=tn(Error(j(423)),t),t=Nu(e,t,n,r,s);break e}else if(n!==s){s=tn(Error(j(424)),t),t=Nu(e,t,n,r,s);break e}else for(Me=Mt(t.stateNode.containerInfo.firstChild),Ue=t,Q=!0,rt=null,r=Rd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xr(),n===s){t=kt(e,t,r);break e}Ne(e,t,n,r)}t=t.child}return t;case 5:return Ld(t),e===null&&no(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Xa(n,s)?a=null:i!==null&&Xa(n,i)&&(t.flags|=32),ah(e,t),Ne(e,t,a,r),t.child;case 6:return e===null&&no(t),null;case 13:return lh(e,t,r);case 4:return al(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zr(t,null,n,r):Ne(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Su(e,t,n,s,r);case 7:return Ne(e,t,t.pendingProps,r),t.child;case 8:return Ne(e,t,t.pendingProps.children,r),t.child;case 12:return Ne(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,G(di,n._currentValue),n._currentValue=a,i!==null)if(it(i.value,a)){if(i.children===s.children&&!Oe.current){t=kt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var u=l.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=wt(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),so(i.return,r,t),l.lanes|=r;break}u=u.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),so(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ne(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Gr(t,r),s=Ke(s),n=n(s),t.flags|=1,Ne(e,t,n,r),t.child;case 14:return n=t.type,s=Xe(n,t.pendingProps),s=Xe(n.type,s),ju(e,t,n,s,r);case 15:return sh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Ks(e,t),t.tag=1,Ie(n)?(e=!0,li(t)):e=!1,Gr(t,r),th(t,n,s),ao(t,n,s,r),uo(null,t,n,!0,e,r);case 19:return uh(e,t,r);case 22:return ih(e,t,r)}throw Error(j(156,t.tag))};function jh(e,t){return Xc(e,t)}function xm(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,r,n){return new xm(e,t,r,n)}function bl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bm(e){if(typeof e=="function")return bl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uo)return 11;if(e===Fo)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=He(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Qs(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")bl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Pr:return lr(r.children,s,i,t);case Mo:a=8,s|=8;break;case Aa:return e=He(12,r,t,s|2),e.elementType=Aa,e.lanes=i,e;case Pa:return e=He(13,r,t,s),e.elementType=Pa,e.lanes=i,e;case Ra:return e=He(19,r,t,s),e.elementType=Ra,e.lanes=i,e;case Lc:return Mi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Oc:a=10;break e;case Ic:a=9;break e;case Uo:a=11;break e;case Fo:a=14;break e;case Ct:a=16,n=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=He(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function lr(e,t,r,n){return e=He(7,e,n,t),e.lanes=r,e}function Mi(e,t,r,n){return e=He(22,e,n,t),e.elementType=Lc,e.lanes=r,e.stateNode={isHidden:!1},e}function va(e,t,r){return e=He(6,e,null,t),e.lanes=r,e}function wa(e,t,r){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _m(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zi(0),this.expirationTimes=Zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _l(e,t,r,n,s,i,a,l,u){return e=new _m(e,t,r,l,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=He(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(i),e}function km(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Eh(e){if(!e)return Vt;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var r=e.type;if(Ie(r))return Ed(e,r,t)}return t}function Nh(e,t,r,n,s,i,a,l,u){return e=_l(r,n,!0,e,s,i,a,l,u),e.context=Eh(null),r=e.current,n=Ce(),s=Bt(r),i=wt(n,s),i.callback=t??null,Ut(r,i,s),e.current.lanes=s,us(e,s,n),Le(e,n),e}function Ui(e,t,r,n){var s=t.current,i=Ce(),a=Bt(s);return r=Eh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ut(s,t,a),e!==null&&(st(e,s,a,i),Vs(e,s,a)),a}function bi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Du(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kl(e,t){Du(e,t),(e=e.alternate)&&Du(e,t)}function Sm(){return null}var Ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sl(e){this._internalRoot=e}Fi.prototype.render=Sl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Ui(e,t,null,null)};Fi.prototype.unmount=Sl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pr(function(){Ui(null,e,null,null)}),t[bt]=null}};function Fi(e){this._internalRoot=e}Fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=id();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pt.length&&t!==0&&t<Pt[r].priority;r++);Pt.splice(r,0,e),r===0&&od(e)}};function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zu(){}function jm(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=bi(a);i.call(c)}}var a=Nh(t,n,e,0,null,!1,!1,"",zu);return e._reactRootContainer=a,e[bt]=a.current,qn(e.nodeType===8?e.parentNode:e),pr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var c=bi(u);l.call(c)}}var u=_l(e,0,!1,null,null,!1,!1,"",zu);return e._reactRootContainer=u,e[bt]=u.current,qn(e.nodeType===8?e.parentNode:e),pr(function(){Ui(t,u,r,n)}),u}function Wi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var u=bi(a);l.call(u)}}Ui(t,a,e,s)}else a=jm(r,t,e,s,n);return bi(a)}nd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_n(t.pendingLanes);r!==0&&(qo(t,r|1),Le(t,ie()),!(F&6)&&(rn=ie()+500,Jt()))}break;case 13:pr(function(){var n=_t(e,1);if(n!==null){var s=Ce();st(n,e,1,s)}}),kl(e,1)}};Vo=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var r=Ce();st(t,e,134217728,r)}kl(e,134217728)}};sd=function(e){if(e.tag===13){var t=Bt(e),r=_t(e,t);if(r!==null){var n=Ce();st(r,e,t,n)}kl(e,t)}};id=function(){return W};ad=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};Ba=function(e,t,r){switch(t){case"input":if(La(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Oi(n);if(!s)throw Error(j(90));Dc(n),La(n,s)}}}break;case"textarea":Mc(e,r);break;case"select":t=r.value,t!=null&&Wr(e,!!r.multiple,t,!1)}};Hc=vl;Gc=pr;var Em={usingClientEntryPoint:!1,Events:[ds,Lr,Oi,qc,Vc,vl]},gn={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nm={bundleType:gn.bundleType,version:gn.version,rendererPackageName:gn.rendererPackageName,rendererConfig:gn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:St.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yc(e),e===null?null:e.stateNode},findFiberByHostInstance:gn.findFiberByHostInstance||Sm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rs.isDisabled&&Rs.supportsFiber)try{Ti=Rs.inject(Nm),ct=Rs}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Em;Be.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(t))throw Error(j(200));return km(e,t,null,r)};Be.createRoot=function(e,t){if(!jl(e))throw Error(j(299));var r=!1,n="",s=Ch;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=_l(e,1,!1,null,null,r,!1,n,s),e[bt]=t.current,qn(e.nodeType===8?e.parentNode:e),new Sl(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=Yc(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return pr(e)};Be.hydrate=function(e,t,r){if(!Bi(t))throw Error(j(200));return Wi(null,e,t,!0,r)};Be.hydrateRoot=function(e,t,r){if(!jl(e))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Ch;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Nh(t,null,e,1,r??null,s,!1,i,a),e[bt]=t.current,qn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Fi(t)};Be.render=function(e,t,r){if(!Bi(t))throw Error(j(200));return Wi(null,e,t,!1,r)};Be.unmountComponentAtNode=function(e){if(!Bi(e))throw Error(j(40));return e._reactRootContainer?(pr(function(){Wi(null,null,e,!1,function(){e._reactRootContainer=null,e[bt]=null})}),!0):!1};Be.unstable_batchedUpdates=vl;Be.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bi(r))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Wi(e,t,r,!1,n)};Be.version="18.3.1-next-f1338f8080-20240426";function Th(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Th)}catch(e){console.error(e)}}Th(),Tc.exports=Be;var Cm=Tc.exports,Ah,Mu=Cm;Ah=Mu.createRoot,Mu.hydrateRoot;function qi(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Tm(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{c(n.next(d))}catch(p){a(p)}}function u(d){try{c(n.throw(d))}catch(p){a(p)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((n=n.apply(e,t||[])).next())})}const Am=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class El extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Pm extends El{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Uu extends El{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Fu extends El{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _o;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(_o||(_o={}));class Rm{constructor(t,{headers:r={},customFetch:n,region:s=_o.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Am(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Tm(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:l,method:u,body:c,signal:d,timeout:p}=n;let h={},{region:y}=n;y||(y=this.region);const g=new URL(`${this.url}/${r}`);y&&y!=="any"&&(h["x-region"]=y,g.searchParams.set("forceFunctionRegion",y));let w;c&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(h["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(h["Content-Type"]="application/json",w=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?w=JSON.stringify(c):w=c;let b=d;p&&(a=new AbortController,i=setTimeout(()=>a.abort(),p),d?(b=a.signal,d.addEventListener("abort",()=>a.abort())):b=a.signal);const m=yield this.fetch(g.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:w,signal:b}).catch(_=>{throw new Pm(_)}),f=m.headers.get("x-relay-error");if(f&&f==="true")throw new Uu(m);if(!m.ok)throw new Fu(m);let v=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield m.json():v==="application/octet-stream"||v==="application/pdf"?x=yield m.blob():v==="text/event-stream"?x=m:v==="multipart/form-data"?x=yield m.formData():x=yield m.text(),{data:x,error:null,response:m}}catch(l){return{data:null,error:l,response:l instanceof Fu||l instanceof Uu?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Om=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Im=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,l=null,u=null,c=i.status,d=i.statusText;if(i.ok){var p,h;if(r.method!=="HEAD"){var y;const m=await i.text();m===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?l=m:l=JSON.parse(m))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),b=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");w&&b&&b.length>1&&(u=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(a={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,c=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(l=[],a=null,c=200,d="OK")}catch{i.status===404&&w===""?(c=204,d="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(g=a.details)===null||g===void 0)&&g.includes("0 rows"))&&(a=null,c=200,d="OK"),a&&r.shouldThrowOnError)throw new Om(a)}return{error:a,data:l,count:u,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let l="",u="",c="";const d=i==null?void 0:i.cause;if(d){var p,h,y,g;const m=(p=d==null?void 0:d.message)!==null&&p!==void 0?p:"",f=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";l=`${(y=i==null?void 0:i.name)!==null&&y!==void 0?y:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(g=d==null?void 0:d.name)!==null&&g!==void 0?g:"Error"}: ${m}`,f&&(l+=` (${f})`),d!=null&&d.stack&&(l+=`
${d.stack}`)}else{var w;l=(w=i==null?void 0:i.stack)!==null&&w!==void 0?w:""}const b=this.url.toString().length;return(i==null?void 0:i.name)==="AbortError"||(i==null?void 0:i.code)==="ABORT_ERR"?(c="",u="Request was aborted (timeout or manual cancellation)",b>this.urlLengthLimit&&(u+=`. Note: Your request URL is ${b} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",u="HTTP headers exceeded server limits (typically 16KB)",b>this.urlLengthLimit&&(u+=`. Your request URL is ${b} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:u,code:c},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Lm=class extends Im{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Bu=new RegExp("[,()]");var Nr=class extends Lm{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Bu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Bu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},$m=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",a),n&&u.append("Prefer",`count=${n}`),new Nr({method:s,url:l,headers:u,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);i.searchParams.set("columns",u.join(","))}}return new Nr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&u.append("Prefer",`count=${n}`),s||u.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(c.length>0){const d=[...new Set(c)].map(p=>`"${p}"`);l.searchParams.set("columns",d.join(","))}}return new Nr({method:a,url:l,headers:u,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Nr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Nr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Zn(e){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(e)}function Dm(e,t){if(Zn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zm(e){var t=Dm(e,"string");return Zn(t)=="symbol"?t:t+""}function Mm(e,t,r){return(t=zm(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wu(Object(r),!0).forEach(function(n){Mm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Um=class Ph{constructor(t,{headers:r={},schema:n,fetch:s,timeout:i,urlLengthLimit:a=8e3}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.urlLengthLimit=a;const l=s??globalThis.fetch;i!==void 0&&i>0?this.fetch=(u,c)=>{const d=new AbortController,p=setTimeout(()=>d.abort(),i),h=c==null?void 0:c.signal;if(h){if(h.aborted)return clearTimeout(p),l(u,c);const y=()=>{clearTimeout(p),d.abort()};return h.addEventListener("abort",y,{once:!0}),l(u,Os(Os({},c),{},{signal:d.signal})).finally(()=>{clearTimeout(p),h.removeEventListener("abort",y)})}return l(u,Os(Os({},c),{},{signal:d.signal})).finally(()=>clearTimeout(p))}:this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new $m(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Ph(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let l;const u=new URL(`${this.url}/rpc/${t}`);let c;const d=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(d)),p=n&&Object.values(r).some(d);p?(l="POST",c=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([y,g])=>g!==void 0).map(([y,g])=>[y,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([y,g])=>{u.searchParams.append(y,g)})):(l="POST",c=r);const h=new Headers(this.headers);return p?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Nr({method:l,url:u,headers:h,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class Fm{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Bm="2.97.0",Wm=`realtime-js/${Bm}`,qm="1.0.0",Rh="2.0.0",qu=Rh,ko=1e4,Vm=1e3,Hm=100;var At;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(At||(At={}));var ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ce||(ce={}));var tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tt||(tt={}));var So;(function(e){e.websocket="websocket"})(So||(So={}));var tr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(tr||(tr={}));class Gm{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",u=(i=t.join_ref)!==null&&i!==void 0?i:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+a.length+c.length+p.length,y=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(y),w=0;g.setUint8(w++,this.KINDS.userBroadcastPush),g.setUint8(w++,u.length),g.setUint8(w++,l.length),g.setUint8(w++,a.length),g.setUint8(w++,c.length),g.setUint8(w++,p.length),g.setUint8(w++,r),Array.from(u,m=>g.setUint8(w++,m.charCodeAt(0))),Array.from(l,m=>g.setUint8(w++,m.charCodeAt(0))),Array.from(a,m=>g.setUint8(w++,m.charCodeAt(0))),Array.from(c,m=>g.setUint8(w++,m.charCodeAt(0))),Array.from(p,m=>g.setUint8(w++,m.charCodeAt(0)));var b=new Uint8Array(y.byteLength+n.byteLength);return b.set(new Uint8Array(y),0),b.set(new Uint8Array(n),y.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,l,u]=n;return r({join_ref:s,ref:i,topic:a,event:l,payload:u})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),l=r.getUint8(4);let u=this.HEADER_LENGTH+4;const c=n.decode(t.slice(u,u+s));u=u+s;const d=n.decode(t.slice(u,u+i));u=u+i;const p=n.decode(t.slice(u,u+a));u=u+a;const h=t.slice(u,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:y};return a>0&&(g.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Oh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const Vu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Km(a,e,t,s),i),{}):{}},Km=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Ih(i,a):jo(a)},Ih=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xm(t,r)}switch(e){case H.bool:return Jm(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return Ym(t);case H.json:case H.jsonb:return Qm(t);case H.timestamp:return Zm(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return jo(t);default:return jo(t)}},jo=e=>e,Jm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ym=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Xm=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>Ih(t,l))}return e},Zm=e=>typeof e=="string"?e.replace(" ","T"):e,Lh=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class xa{constructor(t,r,n={},s=ko){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hu||(Hu={}));class In{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,a),this.pendingDiffs.forEach(u=>{this.state=In.syncDiff(this.state,u,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},u={};return this.map(i,(c,d)=>{a[c]||(u[c]=d)}),this.map(a,(c,d)=>{const p=i[c];if(p){const h=d.map(b=>b.presence_ref),y=p.map(b=>b.presence_ref),g=d.filter(b=>y.indexOf(b.presence_ref)<0),w=p.filter(b=>h.indexOf(b.presence_ref)<0);g.length>0&&(l[c]=g),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(u),d.length>0){const p=t[l].map(y=>y.presence_ref),h=d.filter(y=>p.indexOf(y.presence_ref)<0);t[l].unshift(...h)}n(l,d,u)}),this.map(a,(l,u)=>{let c=t[l];if(!c)return;const d=u.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),t[l]=c,s(l,c,u),c.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gu||(Gu={}));var Ln;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ln||(Ln={}));var mt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class Br{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new xa(this,tt.join,this.params,this.timeout),this.rejoinTimer=new Oh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new In(this),this.broadcastEndpointURL=Lh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:a,presence:l,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},h={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(mt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,m=[];for(let f=0;f<b;f++){const v=w[f],{filter:{event:x,schema:_,table:k,filter:E}}=v,N=y&&y[f];if(N&&N.event===x&&Br.isFilterValueEqual(N.schema,_)&&Br.isFilterValueEqual(N.table,k)&&Br.isFilterValueEqual(N.filter,E))m.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),this.state=ce.errored,t==null||t(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(mt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ce.errored,t==null||t(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ce.joined&&t===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const c=await l.json();u=c.error||c.message||u}catch{}return Promise.reject(new Error(u))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,u;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new xa(this,tt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new xa(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hm){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=tt;if(n&&[l,u,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var g,w,b;return((g=y.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(y=>y.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var g,w,b,m,f,v;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const x=y.id,_=(g=y.filter)===null||g===void 0?void 0:g.event;return x&&((w=r.ids)===null||w===void 0?void 0:w.includes(x))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(f=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return x==="*"||x===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:w,table:b,commit_timestamp:m,type:f,errors:v}=g;h=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:f,new:{},old:{},errors:v}),this._getPayloadRecords(g))}y.callback(h,n)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Br.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tt.close,{},t)}_onError(t){this._on(tt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Vu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Vu(t.columns,t.old_record)),r}}const ba=()=>{},Is={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eg=[1e3,2e3,5e3,1e4],tg=1e4,rg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ng{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ko,this.transport=null,this.heartbeatIntervalMs=Is.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ba,this.ref=0,this.reconnectTimer=null,this.vsn=qu,this.logger=ba,this.conn=null,this.sendBuffer=[],this.serializer=new Gm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${So.websocket}`,this.httpEndpoint=Lh(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case At.connecting:return tr.Connecting;case At.open:return tr.Open;case At.closing:return tr.Closing;default:return tr.Closed}}isConnected(){return this.connectionState()===tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Br(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Vm,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Is.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,l=a?`(${a})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===At.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===At.open||this.conn.readyState===At.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(tt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([rg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:Wm};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Oh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Is.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,l,u,c,d,p,h,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ko,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Is.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ba,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:qu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:g=>eg[g-1]||tg,this.vsn){case qm:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,w)=>w(JSON.stringify(g)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:(g,w)=>w(JSON.parse(g));break;case Rh:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var es=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function sg(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function ig(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ag(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const l=sg(e.baseUrl,n,s),u=await ig(e.auth),c=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...u,...a},body:i?JSON.stringify(i):void 0}),d=await c.text(),p=(c.headers.get("content-type")||"").includes("application/json"),h=p&&d?JSON.parse(d):d;if(!c.ok){const y=p?h:void 0,g=y==null?void 0:y.error;throw new es((g==null?void 0:g.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:y})}return{status:c.status,headers:c.headers,data:h}}}}function Ls(e){return e.join("")}var og=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Ls(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ls(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ls(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ls(e.namespace)}`}),!0}catch(t){if(t instanceof es&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof es&&r.status===409)return;throw r}}};function br(e){return e.join("")}var lg=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${br(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof es&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof es&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},ug=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ag({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new og(this.client,t),this.tableOps=new lg(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Vi=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Hi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var $s=class extends Vi{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},$h=class extends Vi{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const cg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dg=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eo=e=>{if(Array.isArray(e))return e.map(r=>Eo(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Eo(n)}),t},hg=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function fg(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pg(e){var t=fg(e,"string");return ts(t)=="symbol"?t:t+""}function mg(e,t,r){return(t=pg(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ku(Object(r),!0).forEach(function(n){mg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ku(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ju=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},gg=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const l=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new $s(Ju(a),i,l,n))}).catch(()=>{if(n==="vectors"){const a=i+"";t(new $s(s.statusText||`HTTP ${i} error`,i,a,n))}else{const a=i+"";t(new $s(s.statusText||`HTTP ${i} error`,i,a,n))}});else{const a=i+"";t(new $s(s.statusText||`HTTP ${i} error`,i,a,n))}}else t(new $h(Ju(e),e,n))},yg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?L(L({},s),r):(dg(n)?(s.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),L(L({},s),r))};async function yn(e,t,r,n,s,i,a){return new Promise((l,u)=>{e(r,yg(t,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(a==="vectors"){const d=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>l(c)).catch(c=>gg(c,u,n,a))})}function Dh(e="storage"){return{get:async(t,r,n,s)=>yn(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>yn(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>yn(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>yn(t,"HEAD",r,L(L({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>yn(t,"DELETE",r,s,i,n,e)}}const vg=Dh("storage"),{get:rs,post:Ze,put:No,head:wg,remove:Nl}=vg,ze=Dh("vectors");var on=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=cg(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=L(L({},this.headers),{},{[e]:t}),this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Hi(r))return{data:null,error:r};throw r}}},xg=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Hi(t))return{data:null,error:t};throw t}}};let zh;zh=Symbol.toStringTag;var bg=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[zh]="BlobDownloadBuilder",this.promise=null}asStream(){return new xg(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Hi(t))return{data:null,error:t};throw t}}};const _g={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kg=class extends on{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const a=L(L({},Yu),n);let l=L(L({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const u=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),u&&i.append("metadata",s.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),u&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,u&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(u))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(l=L(L({},l),n.headers));const c=s._removeEmptyFolders(t),d=s._getFinalPath(c),p=await(e=="PUT"?No:Ze)(s.fetch,`${s.url}/object/${d}`,i,L({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:c,id:p.Id,fullPath:p.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${a}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let u;const c=L({upsert:Yu.upsert},n),d=L(L({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:i,fullPath:(await No(s.fetch,l.toString(),u,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=L({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await Ze(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),l=a.searchParams.get("token");if(!l)throw new Vi("No token returned by API");return{signedUrl:a.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ze(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ze(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await Ze(n.fetch,`${n.url}/object/sign/${s}`,L({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Ze(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(a=>L(L({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null}))})}download(e,t,r){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=s?`?${s}`:"",a=this._getFinalPath(e),l=()=>rs(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0},r);return new bg(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Eo(await rs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await wg(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Hi(n)&&n instanceof $h){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Nl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=L(L(L({},_g),t),{},{prefix:e||""});return await Ze(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=L({},e);return await Ze(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Sg="2.97.0",fs={"X-Client-Info":`storage-js/${Sg}`};var jg=class extends on{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=L(L({},fs),t);super(i,a,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await rs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await rs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ze(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await No(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ze(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Nl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Eg=class extends on{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=L(L({},fs),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ze(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await rs(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Nl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!hg(e))throw new Vi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new ug({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...l)=>{try{return{data:await a.apply(s,l),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}}}})}},Ng=class extends on{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=L(L({},fs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ze.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ze.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},Cg=class extends on{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=L(L({},fs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Tg=class extends on{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=L(L({},fs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Ag=class extends Tg{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Pg(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Pg=class extends Ng{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Rg(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Rg=class extends Cg{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Og=class extends jg{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new kg(this.url,this.headers,e,this.fetch)}get vectors(){return new Ag(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Eg(this.url+"/iceberg",this.headers,this.fetch)}};const Mh="2.97.0",Cr=30*1e3,Co=3,_a=Co*Cr,Ig="http://localhost:9999",Lg="supabase.auth.token",$g={"X-Client-Info":`gotrue-js/${Mh}`},To="X-Supabase-Api-Version",Uh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zg=10*60*1e3;class ns extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Mg extends ns{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ug(e){return R(e)&&e.name==="AuthApiError"}class rr extends ns{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class jt extends ns{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $e extends jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ka(e){return R(e)&&e.name==="AuthSessionMissingError"}class _r extends jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ds extends jt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zs extends jt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Fg(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qu extends jt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bg extends jt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ao extends jt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Sa(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Xu extends jt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Po extends jt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zu=` 	
\r=`.split(""),Wg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zu.length;t+=1)e[Zu[t].charCodeAt(0)]=-2;for(let t=0;t<_i.length;t+=1)e[_i[t].charCodeAt(0)]=t;return e})();function ec(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_i[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_i[n]),t.queuedBits-=6}}function Fh(e,t,r){const n=Wg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{Hg(a,n,r)};for(let a=0;a<e.length;a+=1)Fh(e.charCodeAt(a),s,i);return t.join("")}function qg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Vg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}qg(n,t)}}function Hg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Jr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Fh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Gg(e){const t=[];return Vg(e,r=>t.push(r)),new Uint8Array(t)}function ar(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>ec(s,r,n)),ec(null,r,n),t.join("")}function Kg(e){return Math.round(Date.now()/1e3)+e}function Jg(){return Symbol("auth-callback")}const ye=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},Bh=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function Yg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Wh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Tr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Qt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ge=async(e,t)=>{await e.removeItem(t)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Gi.promiseConstructor=Promise;function Ms(e){const t=e.split(".");if(t.length!==3)throw new Po("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Dg.test(t[n]))throw new Po("JWT not in base64url format");return{header:JSON.parse(tc(t[0])),payload:JSON.parse(tc(t[1])),signature:Jr(t[2]),raw:{header:t[0],payload:t[1]}}}async function Xg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zg(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function ey(e){return("0"+e.toString(16)).substr(-2)}function ty(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,ey).join("")}async function ry(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function ny(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ry(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kr(e,t,r=!1){const n=ty();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Tr(e,`${t}-code-verifier`,s);const i=await ny(n);return[i,n===i?"plain":"s256"]}const sy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iy(e){const t=e.headers.get(To);if(!t||!t.match(sy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ay(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function oy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ly=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(e){if(!ly.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ja(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function uy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function rc(e){return JSON.parse(JSON.stringify(e))}const er=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cy=[502,503,504];async function nc(e){var t;if(!Qg(e))throw new Ao(er(e),0);if(cy.includes(e.status))throw new Ao(er(e),e.status);let r;try{r=await e.json()}catch(i){throw new rr(er(i),i)}let n;const s=iy(e);if(s&&s.getTime()>=Uh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xu(er(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Xu(er(r),e.status,r.weak_password.reasons);throw new Mg(er(r),e.status||500,n)}const dy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[To]||(i[To]=Uh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",u=await hy(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function hy(e,t,r,n,s,i){const a=dy(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(u){throw console.error(u),new Ao(er(u),0)}if(l.ok||await nc(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(u){await nc(u)}}function Qe(e){var t;let r=null;my(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Kg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function sc(e){const t=Qe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ot(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fy(e){return{data:e,error:null}}function py(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=qi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},a);return{data:{properties:l,user:u},error:null}}function ic(e){return e}function my(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ea=["global","local","others"];class gy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Wh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ea[0]){if(Ea.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ea.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ot})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qi(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:py,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ot})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ic});if(d.error)throw d.error;const p=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Sr(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ot})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Sr(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ot})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Sr(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ot})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Sr(t.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Sr(t.userId),Sr(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ic});if(d.error)throw d.error;const p=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(g=>{const w=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(R(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}}function ac(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jr={debug:!!(globalThis&&Bh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class oc extends qh{}async function yy(e,t,r){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;t>0&&setTimeout(()=>{n.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new oc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}})}catch(s){throw(s==null?void 0:s.name)==="AbortError"?new oc(`Acquiring an exclusive Navigator LockManager lock "${e}" timed out waiting ${t}ms`):s}}function vy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Vh(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function wy(e){return parseInt(e,16)}function xy(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function by(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:l,requestId:u,resources:c,scheme:d,uri:p,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=Vh(e.address),g=d?`${d}://${n}`:n,w=e.statement?`${e.statement}
`:"",b=`${g} wants you to sign in with your Ethereum account:
${y}

${w}`;let m=`URI: ${p}
Version: ${h}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),l&&(m+=`
Not Before: ${l.toISOString()}`),u&&(m+=`
Request ID: ${u}`),c){let f=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);f+=`
- ${v}`}m+=f}return`${b}
${m}`}class oe extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ki extends oe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function _y({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Hh(a)){if(i.rp.id!==a)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ky({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new oe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Hh(n)){if(r.rpId!==n)return new oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Sy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const jy=new Sy;function Ey(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=qi(e,["challenge","user","excludeCredentials"]),i=Jr(t).buffer,a=Object.assign(Object.assign({},r),{id:Jr(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const c=n[u];l.excludeCredentials[u]=Object.assign(Object.assign({},c),{id:Jr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return l}function Ny(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=qi(e,["challenge","allowCredentials"]),s=Jr(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const l=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},l),{id:Jr(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function Cy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ar(new Uint8Array(e.response.attestationObject)),clientDataJSON:ar(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ty(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ar(new Uint8Array(s.authenticatorData)),clientDataJSON:ar(new Uint8Array(s.clientDataJSON)),signature:ar(new Uint8Array(s.signature)),userHandle:s.userHandle?ar(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Hh(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function lc(){var e,t;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ay(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ki("Browser returned unexpected credential type",t)}:{data:null,error:new ki("Empty credential response",t)}}catch(t){return{data:null,error:_y({error:t,options:e})}}}async function Py(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ki("Browser returned unexpected credential type",t)}:{data:null,error:new ki("Empty credential response",t)}}catch(t){return{data:null,error:ky({error:t,options:e})}}}const Ry={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Oy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Si(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const l=n[i];t(l)?n[i]=Si(l,a):n[i]=Si(a)}else n[i]=a}return n}function Iy(e,t){return Si(Ry,e,t||{})}function Ly(e,t){return Si(Oy,e,t||{})}class $y{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var a;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:u};const c=s??jy.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const p=n;if(p)d.name=`${d.id}:${p}`;else{const y=(await this.client.getUser()).data.user,g=((a=y==null?void 0:y.user_metadata)===null||a===void 0?void 0:a.name)||(y==null?void 0:y.email)||(y==null?void 0:y.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=Iy(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:h}=await Ay({publicKey:d,signal:c});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}case"request":{const d=Ly(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:h}=await Py(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:c}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:h}}}}catch(l){return R(l)?{data:null,error:l}:{data:null,error:new rr("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn authentication")};try{if(!lc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:l};const{webauthn:u}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:u.type,rpId:r,rpOrigins:n,credential_response:u.credential_response}})}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new rr("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn registration")};try{if(!lc())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:u,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return u?this._verify({factorId:a.id,challengeId:u.challengeId,webauthn:{rpId:r,rpOrigins:n,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:c}}catch(a){return R(a)?{data:null,error:a}:{data:null,error:new rr("Unexpected error in register",a)}}}}vy();const Dy={url:Ig,storageKey:Lg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$g,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function uc(e,t,r){return await r()}const Er={};class ss{get jwks(){var t,r;return(r=(t=Er[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Er[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Dy),t);if(this.storageKey=i.storageKey,this.instanceID=(r=ss.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ss.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ye()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Wh(i.fetch),this.lock=i.lock||uc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=yy:this.lock=uc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new $y(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Bh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ac(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=ac(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}i.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Mh}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ye()&&(r=Yg(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Fg(i)){const u=(t=i.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new rr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qe}),{data:a,error:l}=i;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:p,options:h}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await kr(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:p,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:y,code_challenge_method:g},xform:Qe})}else if("phone"in t){const{phone:d,password:p,options:h}=t;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qe})}else throw new Ds("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return await ge(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(i){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sc})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:sc})}else throw new Ds("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new _r;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,l,u,c,d,p,h;let y,g;if("message"in t)y=t.message,g=t.signature;else{const{chain:w,wallet:b,statement:m,options:f}=t;let v;if(ye())if(typeof b=="object")v=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")v=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=b}const x=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),_=await v.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=Vh(_[0]);let E=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const O=await v.request({method:"eth_chainId"});E=wy(O)}const N={domain:x.host,address:k,statement:m,uri:x.href,version:"1",chainId:E,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=f==null?void 0:f.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=by(N),g=await v.request({method:"personal_sign",params:[xy(y),k]})}try{const{data:w,error:b}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:g},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qe});if(b)throw b;if(!w||!w.session||!w.user){const m=new _r;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,l,u,c,d,p,h,y;let g,w;if("message"in t)g=t.message,w=t.signature;else{const{chain:b,wallet:m,statement:f,options:v}=t;let x;if(ye())if(typeof m=="object")x=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))x=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=m}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in x&&x.signIn){const k=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),w=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((p=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await x.signMessage(new TextEncoder().encode(g),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:b,error:m}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ar(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qe});if(m)throw m;if(!b||!b.session||!b.user){const f=new _r;return this._returnResult({data:{user:null,session:null},error:f})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:m})}catch(b){if(R(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Bg;const{data:i,error:a}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qe});if(await ge(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const l=new _r;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qe}),{data:u,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!u||!u.session||!u.user){const d=new _r;return this._returnResult({data:{user:null,session:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:c})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:u}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await kr(this.storage,this.storageKey));const{error:p}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:l,options:u}=t,{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(a=u==null?void 0:u.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Ds("You must provide either an email or phone number.")}catch(l){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qe});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const u=a.session,c=a.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:c,session:u},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await kr(this.storage,this.storageKey));const c=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:fy});return!((i=c.data)===null||i===void 0)&&i.url&&ye()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(l){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $e;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(R(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l})}throw new Ds("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<_a:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Qt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ja()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=uy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ot}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(r){if(R(r))return ka(r)&&(await this._removeSession(),await ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $e;const a=s.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await kr(this.storage,this.storageKey));const{data:c,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:a.access_token,xform:Ot});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Ms(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ye())throw new zs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qu("No code detected.");const{data:f,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:u,token_type:c}=t;if(!i||!l||!a||!c)throw new zs("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(l);let h=d+p;u&&(h=parseInt(u));const y=h-d;y*1e3<=Cr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);const g=h-p;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:h,refresh_token:a,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:t.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!ka(i))return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Ug(l)&&(l.status===404||l.status===401||l.status===403)||ka(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await ge(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Jg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await kr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,u,c,d;const{data:p,error:h}=i;if(h)throw h;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ye()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:l,token:u,access_token:c,nonce:d}=t,p=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:u,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qe}),{data:h,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _r}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(s){if(await ge(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Zg(async s=>(s>0&&await Xg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Sa(i)&&Date.now()+a-n<Cr})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Tr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ja()}else if(s&&!s.user&&!s.user){const a=await Qt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ge(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,s)):s.user=ja()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_a;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${_a}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Sa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const a={data:null,error:i};return Sa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(u){i.push(u)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ge(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=rc(s);await Tr(this.storage,this.storageKey,i)}else{const s=rc(r);await Tr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ge(this.storage,this.storageKey),await ge(this.storage,this.storageKey+"-code-verifier"),await ge(this.storage,this.storageKey+"-user"),this.userStorage&&await ge(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Cr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Cr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cr}ms, refresh threshold is ${Co} ticks`),s<=Co&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await kr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&u.type==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Cy(t.webauthn.credential_response):Ty(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Ey(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Ny(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:y}=Ms(t);let g=null;y.aal&&(g=y.aal);let w=g;const{data:{user:b},error:m}=await this.getUser(t);if(m)return this._returnResult({data:null,error:m});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(w="aal2");const v=y.amr||[];return{data:{currentLevel:g,nextLevel:w,currentAuthenticationMethods:v},error:null}}catch(y){if(R(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ms(a.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(t){if(R(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+zg>s)return n;const{data:i,error:a}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:g}=await this.getSession();if(g||!y.session)return this._returnResult({data:null,error:g});n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:u}}=Ms(n);r!=null&&r.allowExpired||ay(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=oy(s.alg),p=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,a,Gg(`${l}.${u}`)))throw new Po("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}}ss.nextInstanceID={};const zy=ss,My="2.97.0";let Sn="";typeof Deno<"u"?Sn="deno":typeof document<"u"?Sn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Sn="react-native":Sn="node";const Uy={"X-Client-Info":`supabase-js-${Sn}/${My}`},Fy={headers:Uy},By={schema:"public"},Wy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qy={};function is(e){"@babel/helpers - typeof";return is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function Vy(e,t){if(is(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(is(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hy(e){var t=Vy(e,"string");return is(t)=="symbol"?t:t+""}function Gy(e,t,r){return(t=Hy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cc(Object(r),!0).forEach(function(n){Gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Ky=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jy=()=>Headers,Yy=(e,t,r)=>{const n=Ky(r),s=Jy();return async(i,a)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,ne(ne({},a),{},{headers:c}))}};function Qy(e){return e.endsWith("/")?e:e+"/"}function Xy(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:u,auth:c,realtime:d,global:p}=t,h={db:ne(ne({},u),s),auth:ne(ne({},c),i),realtime:ne(ne({},d),a),storage:{},global:ne(ne(ne({},p),l),{},{headers:ne(ne({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Zy(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qy(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var ev=class extends zy{constructor(e){super(e)}},tv=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=Zy(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:By,realtime:qy,auth:ne(ne({},Wy),{},{storageKey:a}),global:Fy},u=Xy(r??{},l);if(this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=u.auth)!==null&&c!==void 0?c:{},this.headers,u.global.fetch)}this.fetch=Yy(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new Um(new URL("rest/v1",i).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch,timeout:u.db.timeout,urlLengthLimit:u.db.urlLengthLimit}),this.storage=new Og(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Rm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:l,debug:u,throwOnError:c},d,p){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ev({url:this.authUrl.href,headers:ne(ne({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:l,debug:u,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ng(this.realtimeUrl.href,ne(ne({},e),{},{params:ne(ne({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const rv=(e,t,r)=>new tv(e,t,r);function nv(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}nv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sv="https://ccgukqrmqutzarkdcwxy.supabase.co",iv="sb_publishable_Xdb9s2QERp0vWyWjGf0UgQ_zgPe1-35",q=rv(sv,iv);function ht(e){if(!e)return"";const t=e.split("-");if(t.length!==3)return"";const r=parseInt(t[1],10),n=parseInt(t[2],10);return isNaN(r)||isNaN(n)?"":r===3&&n>=21||r===4&&n<=19?"Aries":r===4&&n>=20||r===5&&n<=20?"Taurus":r===5&&n>=21||r===6&&n<=20?"Gemini":r===6&&n>=21||r===7&&n<=22?"Cancer":r===7&&n>=23||r===8&&n<=22?"Leo":r===8&&n>=23||r===9&&n<=22?"Virgo":r===9&&n>=23||r===10&&n<=22?"Libra":r===10&&n>=23||r===11&&n<=21?"Scorpio":r===11&&n>=22||r===12&&n<=21?"Sagittarius":r===12&&n>=22||r===1&&n<=19?"Capricorn":r===1&&n>=20||r===2&&n<=18?"Aquarius":r===2&&n>=19||r===3&&n<=20?"Pisces":""}const Gh=S.createContext({user:null,profile:null,loading:!0,signOut:async()=>{},refreshProfile:async()=>{}});function av({children:e}){const[t,r]=S.useState(null),[n,s]=S.useState(null),[i,a]=S.useState(!0);function l(p,h){return Promise.race([p,new Promise(y=>setTimeout(()=>y(null),h))])}async function u(p){try{const h=await l(q.from("profiles").select("*").eq("id",p).maybeSingle(),5e3);if(!h)return console.warn("fetchProfile timed out for user:",p),null;const{data:y,error:g}=h;if(g)return console.error("fetchProfile error:",g.message),null;if(!y)return null;const w=y;if(w.date_of_birth){const b=ht(w.date_of_birth);if(b&&b!==w.zodiac_sign)return console.info(`[AuthContext] Correcting zodiac_sign "${w.zodiac_sign}"  "${b}" for user ${p}`),q.from("profiles").update({zodiac_sign:b}).eq("id",p).then(({error:m})=>{m&&console.error("zodiac_sign update error:",m.message)}),{...w,zodiac_sign:b}}return w}catch(h){return console.error("fetchProfile exception:",h),null}}async function c(){try{const p=await l(q.auth.getSession(),5e3);if(!p)return;const{data:{session:h}}=p;if(h!=null&&h.user){r(h.user);const y=await u(h.user.id);s(y)}}catch(p){console.error("refreshProfile error:",p)}}S.useEffect(()=>{let p=!0;async function h(){try{const g=await l(q.auth.getSession(),8e3);if(!p)return;if(!g){console.warn("getSession() timed out  treating as no session");return}const{data:{session:w},error:b}=g;b&&console.error("getSession error:",b.message);const m=(w==null?void 0:w.user)??null;if(r(m),m){const f=await u(m.id);p&&s(f)}}catch(g){console.error("Auth init error:",g)}finally{p&&a(!1)}}h();const{data:{subscription:y}}=q.auth.onAuthStateChange(async(g,w)=>{if(!p||g==="INITIAL_SESSION")return;const b=(w==null?void 0:w.user)??null;if(r(b),b){const m=await u(b.id);p&&s(m)}else p&&s(null)});return()=>{p=!1,y.unsubscribe()}},[]);async function d(){await q.auth.signOut(),r(null),s(null)}return o.jsx(Gh.Provider,{value:{user:t,profile:n,loading:i,signOut:d,refreshProfile:c},children:e})}function at(){return S.useContext(Gh)}function Kh(){const e=S.useRef(null);return S.useEffect(()=>{const t=e.current;if(!t)return;const r=t.getContext("2d");if(!r)return;let n;const s=[];let i=window.innerWidth;function a(){t&&(t.width=window.innerWidth,t.height=window.innerHeight)}function l(){s.length=0;const d=Math.floor(window.innerWidth*window.innerHeight/3e3);for(let p=0;p<d;p++)s.push({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,radius:Math.random()*1.5+.2,opacity:Math.random(),speed:Math.random()*.3+.05,twinkle:Math.random()*Math.PI*2})}function u(d){if(!(!t||!r)){r.clearRect(0,0,t.width,t.height);for(const p of s){p.twinkle+=p.speed*.05;const h=.3+.7*Math.abs(Math.sin(p.twinkle+d*.001*p.speed));r.beginPath(),r.arc(p.x,p.y,p.radius,0,Math.PI*2),r.fillStyle=`rgba(200, 185, 255, ${h})`,r.fill()}n=requestAnimationFrame(u)}}a(),l(),n=requestAnimationFrame(u);const c=()=>{window.innerWidth!==i?(i=window.innerWidth,a(),l()):a()};return window.addEventListener("resize",c),()=>{cancelAnimationFrame(n),window.removeEventListener("resize",c)}},[]),o.jsx("canvas",{ref:e,className:"fixed inset-0 pointer-events-none z-0 block",style:{background:"transparent"}})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ov={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),X=(e,t)=>{const r=S.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:u,...c},d)=>S.createElement("svg",{ref:d,...ov,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${lv(e)}`,l].join(" "),...c},[...t.map(([p,h])=>S.createElement(p,h)),...Array.isArray(u)?u:[u]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=X("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=X("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=X("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=X("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=X("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=X("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=X("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=X("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=X("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=X("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=X("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=X("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=X("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gv=[{page:"dashboard",icon:Jh,label:"Dashboard"},{page:"my-zodiac",icon:os,label:"My Zodiac Sign"},{page:"daily",icon:Xh,label:"Daily Horoscope"},{page:"monthly",icon:Cl,label:"Monthly Horoscope"},{page:"profile",icon:Al,label:"My Profile"}];function yv({currentPage:e,onNavigate:t}){const{profile:r,signOut:n}=at();return o.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 z-40 flex flex-col",style:{background:"linear-gradient(180deg, #1A0533 0%, #2D1B69 100%)",borderRight:"1px solid rgba(123,97,255,0.3)",boxShadow:"4px 0 20px rgba(91,45,142,0.4)"},children:[o.jsxs("div",{className:"px-6 py-6 border-b border-purple-900/40",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"radial-gradient(circle, #7B61FF, #2D1B69)"},children:o.jsx(Ht,{size:20,className:"text-cyan-300"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-white font-bold text-lg tracking-wide",style:{fontFamily:"Cinzel, serif"},children:"AstroSoul"}),o.jsx("p",{className:"text-purple-300 text-xs",children:"Cosmic Identity"})]})]}),r&&o.jsxs("div",{className:"mt-4 text-sm",children:[o.jsx("p",{className:"text-purple-200 truncate",children:r.full_name}),o.jsx("p",{className:"text-cyan-400 text-xs font-medium",children:r.zodiac_sign})]})]}),o.jsx("nav",{className:"flex-1 py-4 overflow-y-auto",children:gv.map(({page:s,icon:i,label:a})=>{const l=e===s;return o.jsxs("button",{onClick:()=>t(s),className:"w-full flex items-center gap-3 px-5 py-3.5 text-sm transition-all duration-300 text-left",style:{color:l?"#00BFFF":"#F0EAFF",borderLeft:l?"3px solid #00BFFF":"3px solid transparent",background:l?"rgba(0,191,255,0.1)":"transparent",textShadow:l?"0 0 10px rgba(0,191,255,0.5)":"none"},children:[o.jsx(i,{size:18}),o.jsx("span",{children:a})]},s)})}),o.jsx("div",{className:"px-5 py-4 border-t border-purple-900/40",children:o.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm text-purple-300 hover:text-red-400 transition-all",style:{background:"rgba(255,255,255,0.04)"},children:[o.jsx(Yh,{size:16}),o.jsx("span",{children:"Sign Out"})]})})]})}function vv({children:e,currentPage:t,onNavigate:r}){return o.jsxs("div",{className:"min-h-screen flex",children:[o.jsx(yv,{currentPage:t,onNavigate:r}),o.jsx("main",{className:"ml-64 flex-1 min-h-screen overflow-y-auto",style:{background:"transparent"},children:e})]})}const wv=[{page:"admin-dashboard",icon:Jh,label:"Dashboard"},{page:"admin-signs",icon:Ht,label:"Manage Zodiac Signs"},{page:"admin-users",icon:Ni,label:"Manage Users"}];function xv({currentPage:e,onNavigate:t}){const{signOut:r}=at(),n=async()=>{try{await r(),t("login")}catch(s){console.error("Logout failed:",s)}};return o.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 z-40 flex flex-col",style:{background:"linear-gradient(180deg, #0A1628 0%, #1A2744 100%)",borderRight:"1px solid rgba(0,191,255,0.2)",boxShadow:"4px 0 20px rgba(0,100,160,0.3)"},children:[o.jsx("div",{className:"px-6 py-6 border-b border-blue-900/40",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"radial-gradient(circle, #00BFFF, #1A2744)"},children:o.jsx(Ht,{size:20,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-white font-bold text-lg tracking-wide",style:{fontFamily:"Cinzel, serif"},children:"AstroSoul"}),o.jsx("p",{className:"text-cyan-400 text-xs font-medium",children:"Admin Panel"})]})]})}),o.jsx("nav",{className:"flex-1 py-4",children:wv.map(({page:s,icon:i,label:a})=>{const l=e===s;return o.jsxs("button",{onClick:()=>t(s),className:"w-full flex items-center gap-3 px-5 py-3.5 text-sm transition-all duration-300 text-left",style:{color:l?"#00BFFF":"#CBD5E1",borderLeft:l?"3px solid #00BFFF":"3px solid transparent",background:l?"rgba(0,191,255,0.08)":"transparent"},children:[o.jsx(i,{size:18}),o.jsx("span",{children:a})]},s)})}),o.jsx("div",{className:"px-4 py-4 border-t border-blue-900/40",children:o.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm text-red-400 hover:bg-red-900/20 transition-all duration-200",children:[o.jsx(Yh,{size:18}),o.jsx("span",{children:"Logout"})]})})]})}function bv({children:e,currentPage:t,onNavigate:r}){return o.jsxs("div",{className:"min-h-screen flex",children:[o.jsx(xv,{currentPage:t,onNavigate:r}),o.jsx("main",{className:"ml-64 flex-1 min-h-screen overflow-y-auto",style:{background:"transparent"},children:e})]})}const _v=["","","","","","","","","","","",""];function hc({onNavigate:e}){return o.jsxs("div",{className:"min-h-screen relative z-10",children:[o.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 px-6 py-4 flex items-center justify-between",style:{background:"rgba(26,5,51,0.88)",backdropFilter:"blur(14px)",borderBottom:"1px solid rgba(123,97,255,0.15)"},children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ht,{size:20,className:"text-cyan-400"}),o.jsx("span",{className:"text-white font-bold text-xl tracking-wide",style:{fontFamily:"Cinzel, serif"},children:"AstroSoul"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:()=>e("login"),className:"px-4 py-2 text-sm font-medium rounded-lg transition-all hover:bg-white/5",style:{color:"rgba(196,181,253,0.8)"},children:"Login"}),o.jsx("button",{onClick:()=>e("register"),className:"px-4 py-2 text-sm rounded-lg font-medium transition-all hover:scale-105",style:{background:"linear-gradient(135deg, #5B2D8E, #2D1B69)",border:"1px solid rgba(123,97,255,0.5)",color:"#fff",boxShadow:"0 0 18px rgba(91,45,142,0.4)"},children:"Get Started"}),o.jsx("div",{className:"w-px h-5 mx-1",style:{background:"rgba(255,255,255,0.1)"}}),o.jsxs("button",{onClick:()=>e("login"),className:"px-3 py-2 text-xs rounded-lg font-medium transition-all hover:scale-105 flex items-center gap-1.5",style:{background:"rgba(0,191,255,0.08)",border:"1px solid rgba(0,191,255,0.22)",color:"#7dd3fc"},children:[o.jsx(ur,{size:12}),"Admin"]})]})]}),o.jsxs("section",{className:"min-h-screen flex flex-col items-center justify-center text-center px-4 pt-20",children:[o.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-xs text-cyan-300 mb-8",style:{background:"rgba(0,191,255,0.08)",border:"1px solid rgba(0,191,255,0.2)"},children:[o.jsx(os,{size:12,fill:"currentColor"})," Your cosmic journey begins here"]}),o.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-5 leading-tight",style:{fontFamily:"Cinzel, serif",textShadow:"0 0 40px rgba(123,97,255,0.5)"},children:["Discover Your",o.jsx("br",{}),o.jsx("span",{style:{background:"linear-gradient(135deg, #7B61FF, #00BFFF)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Cosmic Identity"})]}),o.jsx("p",{className:"text-purple-200/80 text-lg md:text-xl max-w-2xl mb-10 leading-relaxed",children:"Explore the ancient wisdom of the stars. Personalized horoscopes, zodiac insights, and cosmic guidance  tailored to your celestial blueprint."}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-16",children:[o.jsx("button",{onClick:()=>e("register"),className:"px-8 py-4 rounded-full text-white font-semibold text-base transition-all hover:scale-105",style:{background:"linear-gradient(135deg, #5B2D8E, #2D1B69)",boxShadow:"0 0 30px rgba(91,45,142,0.5)",border:"1px solid rgba(123,97,255,0.4)"},children:"Begin Your Journey"}),o.jsx("button",{onClick:()=>e("login"),className:"px-8 py-4 rounded-full text-purple-200 font-semibold text-base transition-all hover:text-white",style:{border:"1px solid rgba(123,97,255,0.3)",background:"rgba(123,97,255,0.05)"},children:"Sign In"})]}),o.jsx("div",{className:"flex flex-wrap justify-center gap-3 max-w-sm mb-14",children:_v.map((t,r)=>o.jsx("div",{className:"w-11 h-11 rounded-full flex items-center justify-center text-lg transition-all hover:scale-125 cursor-default",style:{background:"radial-gradient(circle, rgba(123,97,255,0.15), rgba(26,5,51,0.8))",border:"1px solid rgba(123,97,255,0.22)"},children:t},r))}),o.jsx(cv,{size:22,className:"text-purple-400/60 animate-bounce"})]}),o.jsx("section",{className:"py-24 px-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-14",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-3",style:{fontFamily:"Cinzel, serif"},children:"What AstroSoul Offers"}),o.jsx("p",{className:"text-purple-300/70 text-base",children:"Everything you need to navigate your celestial path"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[{icon:"",title:"Zodiac Profiles",desc:"Deep dive into your sign  traits, element, ruling planet, compatibility and more."},{icon:"",title:"Daily Horoscopes",desc:"Fresh cosmic guidance every day, personalized to your unique zodiac sign."},{icon:"",title:"Monthly Forecasts",desc:"Plan ahead with detailed monthly horoscopes covering love, career, and growth."}].map(t=>o.jsxs("div",{className:"rounded-2xl p-8 text-center transition-all hover:-translate-y-1.5 hover:shadow-2xl",style:{background:"linear-gradient(135deg, rgba(45,27,105,0.4), rgba(10,1,24,0.8))",border:"1px solid rgba(123,97,255,0.2)"},children:[o.jsx("div",{className:"text-4xl mb-4",children:t.icon}),o.jsx("h3",{className:"text-white font-bold text-base mb-2",style:{fontFamily:"Cinzel, serif"},children:t.title}),o.jsx("p",{className:"text-purple-300/70 text-sm leading-relaxed",children:t.desc})]},t.title))})]})}),o.jsxs("footer",{className:"py-8 text-center",style:{borderTop:"1px solid rgba(123,97,255,0.12)"},children:[o.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1.5",children:[o.jsx(Ht,{size:14,className:"text-cyan-400"}),o.jsx("span",{className:"text-white text-sm font-bold",style:{fontFamily:"Cinzel, serif"},children:"AstroSoul"})]}),o.jsx("p",{className:"text-purple-500/60 text-xs mb-3",children:" 2024 AstroSoul. Navigate by the stars."}),o.jsxs("button",{onClick:()=>e("login"),className:"inline-flex items-center gap-1.5 text-xs transition-colors",style:{color:"rgba(255,255,255,0.15)"},onMouseEnter:t=>t.currentTarget.style.color="#7dd3fc",onMouseLeave:t=>t.currentTarget.style.color="rgba(255,255,255,0.15)",children:[o.jsx(ur,{size:10})," Admin Portal"]})]})]})}function kv({onNavigate:e}){const[t,r]=S.useState("user"),[n,s]=S.useState(""),[i,a]=S.useState(""),[l,u]=S.useState(!1),[c,d]=S.useState(!1),[p,h]=S.useState("");async function y(x){x.preventDefault(),d(!0),h("");try{const{data:_,error:k}=await q.auth.signInWithPassword({email:n.trim(),password:i});if(k){h(k.message);return}if(!_.session||!_.user){h("Login failed  no session returned. Please try again.");return}const{data:E,error:N}=await q.from("profiles").select("role").eq("id",_.user.id).maybeSingle();if(N||!E){await q.auth.signOut(),h(N?`Could not load profile: ${N.message}`:"No profile found for this account. Please register first.");return}const O=E.role;if(t==="admin"&&O!=="admin"){await q.auth.signOut(),h("Access denied  this account does not have admin privileges.");return}e(O==="admin"?"admin-dashboard":"dashboard")}catch(_){h("An unexpected error occurred. Please try again."),console.error("Login error:",_)}finally{d(!1)}}const g=t==="admin",w=g?"#00BFFF":"#7B61FF",b=g?"#0369a1":"#2D1B69",m=g?"#7dd3fc":"#c4b5fd",f=g?"rgba(0,15,35,0.8)":"rgba(26,5,51,0.6)",v=g?"rgba(0,191,255,0.35)":"rgba(123,97,255,0.35)";return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 relative z-10",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4",style:{background:`radial-gradient(circle, ${w}, ${b})`,boxShadow:`0 0 35px ${w}55`,transition:"all 0.3s ease"},children:g?o.jsx(ur,{size:28,className:"text-white"}):o.jsx(Ht,{size:28,className:"text-cyan-300"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:g?"Admin Portal":"Welcome Back"}),o.jsx("p",{className:"text-sm",style:{color:m},children:g?"AstroSoul administration access":"Sign in to your cosmic portal"})]}),o.jsx("div",{className:"flex rounded-xl overflow-hidden mb-6",style:{border:"1px solid rgba(255,255,255,0.1)",background:"rgba(0,0,0,0.3)"},children:["user","admin"].map(x=>o.jsxs("button",{onClick:()=>{r(x),h(""),s(""),a("")},className:"flex-1 py-2.5 text-sm font-medium transition-all flex items-center justify-center gap-1.5",style:{background:t===x?x==="admin"?"rgba(0,191,255,0.2)":"rgba(123,97,255,0.3)":"transparent",color:t===x?x==="admin"?"#7dd3fc":"#e0d7ff":"rgba(255,255,255,0.3)"},children:[x==="admin"?o.jsx(ur,{size:13}):o.jsx(Ht,{size:13}),x==="user"?"User Login":"Admin Login"]},x))}),o.jsxs("div",{className:"rounded-2xl p-8",style:{background:g?"linear-gradient(135deg, rgba(5,15,35,0.97), rgba(0,30,70,0.9))":"linear-gradient(135deg, rgba(45,27,105,0.75), rgba(26,5,51,0.92))",border:`1px solid ${g?"rgba(0,191,255,0.22)":"rgba(123,97,255,0.22)"}`,boxShadow:`0 0 60px ${g?"rgba(0,100,180,0.3)":"rgba(91,45,142,0.3)"}`,backdropFilter:"blur(14px)",transition:"all 0.3s ease"},children:[g&&o.jsxs("div",{className:"mb-5 p-3.5 rounded-xl flex items-start gap-3",style:{background:"rgba(0,191,255,0.07)",border:"1px solid rgba(0,191,255,0.18)"},children:[o.jsx(ur,{size:15,className:"text-cyan-400 flex-shrink-0 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-cyan-300 text-xs font-semibold",children:"Restricted Access"}),o.jsxs("p",{className:"text-slate-400 text-xs mt-0.5",children:["Don't have an admin account?"," ",o.jsx("button",{type:"button",onClick:()=>e("admin-register"),className:"text-cyan-400 underline hover:text-white transition-colors font-medium",children:"Register as Admin"})]})]})]}),o.jsxs("form",{onSubmit:y,className:"space-y-5",children:[p&&o.jsxs("div",{className:"p-3 rounded-xl text-sm",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.28)",color:"#fca5a5"},children:[" ",p]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:m},children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tl,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2",style:{color:w}}),o.jsx("input",{type:"email",value:n,onChange:x=>s(x.target.value),required:!0,placeholder:g?"admin@example.com":"you@example.com",className:"w-full pl-10 pr-4 py-3 rounded-xl text-white placeholder-slate-600 outline-none text-sm",style:{background:f,border:`1px solid ${v}`}})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:m},children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(as,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2",style:{color:w}}),o.jsx("input",{type:l?"text":"password",value:i,onChange:x=>a(x.target.value),required:!0,placeholder:"",className:"w-full pl-10 pr-10 py-3 rounded-xl text-white placeholder-slate-600 outline-none text-sm",style:{background:f,border:`1px solid ${v}`}}),o.jsx("button",{type:"button",onClick:()=>u(x=>!x),className:"absolute right-3.5 top-1/2 -translate-y-1/2 transition-opacity hover:opacity-100 opacity-60",style:{color:w},children:l?o.jsx(ji,{size:15}):o.jsx(Ei,{size:15})})]})]}),o.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 rounded-xl text-white font-semibold text-sm transition-all hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",style:{background:`linear-gradient(135deg, ${w}cc, ${b})`,boxShadow:`0 4px 20px ${w}33`,border:`1px solid ${w}44`},children:c?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("span",{className:"w-4 h-4 border-2 border-white/40 border-t-white rounded-full animate-spin"}),"Signing in..."]}):g?" Sign In as Admin":"Sign In"})]}),!g&&o.jsxs("p",{className:"text-center text-sm mt-6",style:{color:"rgba(168,139,250,0.6)"},children:["Don't have an account?"," ",o.jsx("button",{onClick:()=>e("register"),className:"text-cyan-400 hover:text-cyan-200 font-semibold transition-colors",children:"Create one"})]})]}),o.jsx("button",{onClick:()=>e("landing"),className:"block text-center text-xs mt-5 mx-auto transition-colors",style:{color:"rgba(255,255,255,0.18)"},onMouseEnter:x=>x.currentTarget.style.color="rgba(255,255,255,0.55)",onMouseLeave:x=>x.currentTarget.style.color="rgba(255,255,255,0.18)",children:" Back to home"})]})})}function Sv({onNavigate:e}){const{refreshProfile:t}=at(),[r,n]=S.useState(""),[s,i]=S.useState(""),[a,l]=S.useState(""),[u,c]=S.useState(""),[d,p]=S.useState(""),[h,y]=S.useState(""),[g,w]=S.useState(!1),[b,m]=S.useState(!1),[f,v]=S.useState(""),[x,_]=S.useState(""),k=a?ht(a):"";async function E(P){if(P.preventDefault(),d!==h){v("Passwords do not match.");return}if(d.length<6){v("Password must be at least 6 characters.");return}m(!0),v(""),_("");const Y=ht(a),{data:z,error:ae}=await q.auth.signUp({email:u,password:d});if(ae){v(ae.message),m(!1);return}if(!z.session){_("Account created! Please check your email to confirm your account, then sign in."),m(!1);return}if(z.user){const{error:ue}=await q.from("profiles").insert({id:z.user.id,full_name:r,gender:s,date_of_birth:a,zodiac_sign:Y,role:"user"});if(ue){v(ue.message),m(!1);return}await t(),e("dashboard")}else m(!1)}const N="w-full px-4 py-3 rounded-xl text-white placeholder-purple-500 outline-none text-sm",O={background:"rgba(26,5,51,0.6)",border:"1px solid rgba(123,97,255,0.3)"};return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10 relative z-10",children:o.jsxs("div",{className:"w-full max-w-lg",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4",style:{background:"radial-gradient(circle, #7B61FF, #2D1B69)",boxShadow:"0 0 30px rgba(123,97,255,0.4)"},children:o.jsx(Ht,{size:28,className:"text-cyan-300"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:"Join AstroSoul"}),o.jsx("p",{className:"text-purple-300 text-sm",children:"Begin your cosmic journey today"})]}),o.jsxs("div",{className:"rounded-2xl p-8",style:{background:"linear-gradient(135deg, rgba(45,27,105,0.7), rgba(26,5,51,0.9))",border:"1px solid rgba(123,97,255,0.25)",boxShadow:"0 0 60px rgba(91,45,142,0.3)",backdropFilter:"blur(12px)"},children:[o.jsxs("form",{onSubmit:E,className:"space-y-4",children:[f&&o.jsx("div",{className:"p-3 rounded-lg text-red-300 text-sm",style:{background:"rgba(239,68,68,0.1)",border:"1px solid rgba(239,68,68,0.25)"},children:f}),x&&o.jsx("div",{className:"p-3 rounded-lg text-cyan-300 text-sm",style:{background:"rgba(0,191,255,0.1)",border:"1px solid rgba(0,191,255,0.3)"},children:x}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-purple-200 text-sm mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Al,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400"}),o.jsx("input",{type:"text",value:r,onChange:P=>n(P.target.value),required:!0,placeholder:"Your full name",className:`${N} pl-10`,style:O})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-purple-200 text-sm mb-2",children:"Gender"}),o.jsxs("select",{value:s,onChange:P=>i(P.target.value),required:!0,className:N,style:{...O,WebkitAppearance:"none"},children:[o.jsx("option",{value:"",disabled:!0,children:"Select gender"}),o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-purple-200 text-sm mb-2",children:"Date of Birth"}),o.jsxs("div",{className:"relative",children:[o.jsx(Cl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400"}),o.jsx("input",{type:"date",value:a,onChange:P=>l(P.target.value),required:!0,className:`${N} pl-10`,style:{...O,colorScheme:"dark"}})]}),k&&o.jsxs("p",{className:"mt-1.5 text-xs text-cyan-400 flex items-center gap-1",children:[o.jsx("span",{children:"Detected zodiac sign:"}),o.jsx("span",{className:"font-semibold",children:k})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-purple-200 text-sm mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tl,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400"}),o.jsx("input",{type:"email",value:u,onChange:P=>c(P.target.value),required:!0,placeholder:"you@example.com",className:`${N} pl-10`,style:O})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-purple-200 text-sm mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(as,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400"}),o.jsx("input",{type:g?"text":"password",value:d,onChange:P=>p(P.target.value),required:!0,placeholder:"",className:`${N} pl-10 pr-10`,style:O}),o.jsx("button",{type:"button",onClick:()=>w(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-purple-400 hover:text-purple-200",children:g?o.jsx(ji,{size:15}):o.jsx(Ei,{size:15})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-purple-200 text-sm mb-2",children:"Confirm"}),o.jsxs("div",{className:"relative",children:[o.jsx(as,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-purple-400"}),o.jsx("input",{type:g?"text":"password",value:h,onChange:P=>y(P.target.value),required:!0,placeholder:"",className:`${N} pl-10`,style:O})]})]})]}),o.jsx("button",{type:"submit",disabled:b,className:"w-full py-3.5 rounded-xl text-white font-semibold transition-all hover:scale-105 disabled:opacity-60 mt-2",style:{background:"linear-gradient(135deg, #5B2D8E, #2D1B69)",boxShadow:"0 0 20px rgba(91,45,142,0.4)",border:"1px solid rgba(123,97,255,0.4)"},children:b?"Creating Account...":"Create My Account"})]}),o.jsxs("p",{className:"text-center text-purple-400 text-sm mt-6",children:["Already have an account?"," ",o.jsx("button",{onClick:()=>e("login"),className:"text-cyan-400 hover:text-cyan-300 font-medium",children:"Sign in"})]})]}),o.jsx("button",{onClick:()=>e("landing"),className:"block text-center text-purple-500 hover:text-purple-300 text-sm mt-4 mx-auto transition-colors",children:"Back to home"})]})})}function jv({title:e,subtitle:t,children:r,accentColor:n="#7B61FF",icon:s}){return o.jsxs("div",{className:"rounded-2xl p-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, #1A0533 0%, #2D1B69 100%)",border:`1px solid ${n}33`,boxShadow:`0 0 40px ${n}18`},children:[o.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 rounded-t-2xl",style:{background:`linear-gradient(90deg, transparent, ${n}, transparent)`}}),o.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s&&o.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${n}22`,border:`1px solid ${n}44`},children:s}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold text-lg",style:{fontFamily:"Cinzel, serif"},children:e}),t&&o.jsx("p",{className:"text-purple-400 text-sm mt-0.5",children:t})]})]}),o.jsx("div",{className:"text-purple-100 leading-relaxed text-sm",children:r})]})}function Ev({onNavigate:e}){var u;const{profile:t,loading:r}=at(),[n,s]=S.useState(null);S.useEffect(()=>{if(!t)return;const d=(t.date_of_birth?ht(t.date_of_birth):null)||t.zodiac_sign||"Aries";q.from("zodiac_signs").select("*").eq("sign_name",d).maybeSingle().then(({data:p})=>s(p))},[t]);const i=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),a=new Date().getHours(),l=a<12?"Good Morning":a<17?"Good Afternoon":"Good Evening";return r?o.jsx("div",{className:"p-8 text-purple-300",children:"Aligning the stars..."}):o.jsxs("div",{className:"p-8 max-w-4xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("p",{className:"text-purple-400 text-sm mb-1",children:i}),o.jsxs("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:[l,", ",((u=t==null?void 0:t.full_name)==null?void 0:u.split(" ")[0])||"Seeker"," "]}),o.jsx("p",{className:"text-purple-300",children:"Your cosmic dashboard awaits."})]}),n?o.jsxs("div",{className:"rounded-2xl p-6 mb-6 relative overflow-hidden transition-all duration-500",style:{background:`linear-gradient(135deg, ${n.color_hex}18 0%, #1A0533 100%)`,border:`1px solid ${n.color_hex}33`,boxShadow:`0 0 40px ${n.color_hex}15`},children:[o.jsx("div",{className:"absolute top-0 right-0 text-9xl opacity-10 leading-none select-none pr-4 pt-2",children:n.symbol}),o.jsxs("div",{className:"relative flex flex-col sm:flex-row sm:items-center gap-4",children:[o.jsx("div",{className:"w-20 h-20 rounded-2xl flex items-center justify-center text-5xl flex-shrink-0",style:{background:`radial-gradient(circle, ${n.color_hex}33, transparent)`,border:`2px solid ${n.color_hex}55`},children:n.symbol}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-1",children:[o.jsx("h2",{className:"text-white font-bold text-xl",style:{fontFamily:"Cinzel, serif"},children:n.sign_name}),o.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs",style:{background:`${n.color_hex}22`,color:n.color_hex,border:`1px solid ${n.color_hex}44`},children:[n.element," Sign"]})]}),o.jsx("p",{className:"text-purple-300 text-sm mb-3",children:n.date_range}),o.jsxs("div",{className:"flex gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-purple-400 text-xs block",children:"Ruling Planet"}),o.jsx("span",{className:"text-cyan-400",children:n.ruling_planet})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-purple-400 text-xs block",children:"Compatibility"}),o.jsx("span",{className:"text-cyan-400",children:n.compatibility.split(",")[0].trim()})]})]})]})]})]}):o.jsx("div",{className:"rounded-2xl p-6 mb-6 border border-purple-500/20 bg-purple-900/10 text-center text-purple-300",children:"Loading your astrological chart..."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[{icon:Xh,label:"Daily Horoscope",page:"daily",color:"#FF851B"},{icon:Cl,label:"Monthly Forecast",page:"monthly",color:"#00BFFF"},{icon:os,label:"My Zodiac Sign",page:"my-zodiac",color:"#7B61FF"}].map(({icon:c,label:d,page:p,color:h})=>o.jsxs("button",{onClick:()=>e(p),className:"rounded-xl p-5 text-left transition-all hover:scale-105 hover:-translate-y-0.5",style:{background:`linear-gradient(135deg, ${h}15, rgba(26,5,51,0.8))`,border:`1px solid ${h}33`,boxShadow:`0 4px 20px ${h}15`},children:[o.jsx(c,{size:20,style:{color:h},className:"mb-3"}),o.jsx("span",{className:"text-white font-medium text-sm",children:d}),o.jsx("p",{className:"text-purple-400 text-xs mt-1",children:"View your reading "})]},p))}),n&&o.jsx(jv,{title:"Today's Horoscope Preview",subtitle:n.sign_name,accentColor:n.color_hex,icon:o.jsx(ef,{size:18,style:{color:n.color_hex}}),children:o.jsxs("p",{children:[n.daily_horoscope.slice(0,220),"..."," ",o.jsx("button",{onClick:()=>e("daily"),className:"text-cyan-400 hover:text-cyan-300 text-xs underline",children:"Read full horoscope"})]})})]})}const Nv="ASTROSOUL_ADMIN_2024";function Cv({onNavigate:e}){const[t,r]=S.useState("verify"),[n,s]=S.useState(""),[i,a]=S.useState(""),[l,u]=S.useState(!1),[c,d]=S.useState(""),[p,h]=S.useState(""),[y,g]=S.useState(""),[w,b]=S.useState(""),[m,f]=S.useState(!1),[v,x]=S.useState(!1),[_,k]=S.useState("");function E(z){z.preventDefault(),n.trim()===Nv?r("form"):a("Wrong access code. Contact the system administrator.")}async function N(z){if(z.preventDefault(),!c.trim()){k("Full name is required.");return}if(y.length<6){k("Password must be at least 6 characters.");return}if(y!==w){k("Passwords do not match.");return}x(!0),k("");try{const{data:ae,error:ue}=await q.auth.signUp({email:p.trim(),password:y});if(ue){k(ue.message);return}if(!ae.user){k("Registration failed  please try again.");return}const{error:je}=await q.from("profiles").insert({id:ae.user.id,full_name:c.trim(),gender:"Other",date_of_birth:null,zodiac_sign:"",role:"admin"});if(je){k(`Profile creation failed: ${je.message}`),await q.auth.signOut();return}ae.session?e("admin-dashboard"):r("success")}catch(ae){k("An unexpected error occurred. Please try again."),console.error("Admin register error:",ae)}finally{x(!1)}}const O={background:"linear-gradient(135deg, rgba(5,15,35,0.97), rgba(0,30,70,0.92))",border:"1px solid rgba(0,191,255,0.22)",boxShadow:"0 0 60px rgba(0,100,180,0.3)",backdropFilter:"blur(14px)"},P={background:"rgba(0,15,35,0.8)",border:"1px solid rgba(0,191,255,0.3)"},Y="w-full py-3 rounded-xl text-white placeholder-slate-600 outline-none text-sm";return o.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10 relative z-10",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full mb-4",style:{background:"radial-gradient(circle, #00BFFF, #0369a1)",boxShadow:"0 0 35px rgba(0,191,255,0.5)"},children:o.jsx(ur,{size:28,className:"text-white"})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:"Admin Registration"}),o.jsx("p",{className:"text-cyan-400/60 text-sm",children:"Create a new AstroSoul admin account"})]}),t!=="success"&&o.jsx("div",{className:"flex items-center mb-7",children:[{n:1,label:"Verify Code"},{n:2,label:"Create Account"}].map(({n:z,label:ae},ue)=>{const je=z===1&&t==="form",T=z===1&&t==="verify"||z===2&&t==="form";return o.jsxs("div",{className:"flex items-center flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold flex-shrink-0",style:{background:je?"#22c55e":T?"rgba(0,191,255,0.25)":"rgba(255,255,255,0.06)",border:`1px solid ${je?"#22c55e":T?"rgba(0,191,255,0.5)":"rgba(255,255,255,0.1)"}`,color:je?"white":T?"#7dd3fc":"rgba(255,255,255,0.2)"},children:je?"":z}),o.jsx("span",{className:"text-xs whitespace-nowrap",style:{color:T?"#7dd3fc":"rgba(255,255,255,0.25)"},children:ae})]}),ue<1&&o.jsx("div",{className:"flex-1 mx-3 h-px",style:{background:je?"rgba(34,197,94,0.5)":"rgba(255,255,255,0.08)"}})]},z)})}),o.jsxs("div",{className:"rounded-2xl p-8",style:O,children:[t==="success"&&o.jsxs("div",{className:"text-center py-4",children:[o.jsx(uv,{size:48,className:"text-green-400 mx-auto mb-4"}),o.jsx("h2",{className:"text-white font-bold text-xl mb-2",children:"Account Created!"}),o.jsx("p",{className:"text-slate-300 text-sm mb-2",children:"Your admin account has been created successfully."}),o.jsx("button",{onClick:()=>e("login"),className:"w-full py-3 rounded-xl text-white font-semibold text-sm",style:{background:"linear-gradient(135deg, #0284c7, #0a1628)",border:"1px solid rgba(0,191,255,0.4)"},children:"Go to Admin Login "})]}),t==="verify"&&o.jsxs("form",{onSubmit:E,className:"space-y-5",children:[o.jsxs("div",{className:"text-center mb-1",children:[o.jsx(dc,{size:28,className:"text-cyan-400 mx-auto mb-2"}),o.jsx("p",{className:"text-white font-semibold text-sm",children:"Enter Admin Access Code"})]}),i&&o.jsxs("div",{className:"p-3 rounded-xl text-sm",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.28)",color:"#fca5a5"},children:[" ",i]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-cyan-300/60 text-xs mb-2 uppercase tracking-wider font-medium",children:"Access Code"}),o.jsxs("div",{className:"relative",children:[o.jsx(dc,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-cyan-500"}),o.jsx("input",{type:l?"text":"password",value:n,onChange:z=>s(z.target.value),required:!0,placeholder:"Enter secret admin code",className:`${Y} pl-10 pr-10 tracking-widest`,style:P}),o.jsx("button",{type:"button",onClick:()=>u(z=>!z),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-cyan-500 opacity-60 hover:opacity-100",children:l?o.jsx(ji,{size:15}):o.jsx(Ei,{size:15})})]})]}),o.jsx("button",{type:"submit",className:"w-full py-3.5 rounded-xl text-white font-semibold text-sm transition-all hover:scale-[1.02]",style:{background:"linear-gradient(135deg, #0284c7cc, #0a1628)",boxShadow:"0 4px 20px rgba(0,191,255,0.25)",border:"1px solid rgba(0,191,255,0.4)"},children:"Verify Code "})]}),t==="form"&&o.jsxs("form",{onSubmit:N,className:"space-y-4",children:[_&&o.jsxs("div",{className:"p-3 rounded-xl text-sm",style:{background:"rgba(239,68,68,0.12)",border:"1px solid rgba(239,68,68,0.28)",color:"#fca5a5"},children:[" ",_]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-cyan-300/60 text-xs mb-1.5 uppercase tracking-wider font-medium",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(Al,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-cyan-500"}),o.jsx("input",{type:"text",value:c,onChange:z=>d(z.target.value),required:!0,placeholder:"Your full name",className:`${Y} pl-10 pr-4`,style:P})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-cyan-300/60 text-xs mb-1.5 uppercase tracking-wider font-medium",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Tl,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-cyan-500"}),o.jsx("input",{type:"email",value:p,onChange:z=>h(z.target.value),required:!0,placeholder:"admin@example.com",className:`${Y} pl-10 pr-4`,style:P})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-cyan-300/60 text-xs mb-1.5 uppercase tracking-wider font-medium",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(as,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-cyan-500"}),o.jsx("input",{type:m?"text":"password",value:y,onChange:z=>g(z.target.value),required:!0,placeholder:"Min. 6 characters",className:`${Y} pl-10 pr-10`,style:P}),o.jsx("button",{type:"button",onClick:()=>f(z=>!z),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-cyan-500 opacity-60 hover:opacity-100",children:m?o.jsx(ji,{size:14}):o.jsx(Ei,{size:14})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-cyan-300/60 text-xs mb-1.5 uppercase tracking-wider font-medium",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(as,{size:14,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-cyan-500"}),o.jsx("input",{type:m?"text":"password",value:w,onChange:z=>b(z.target.value),required:!0,placeholder:"Repeat password",className:`${Y} pl-10 pr-4`,style:P})]})]}),o.jsx("button",{type:"submit",disabled:v,className:"w-full py-3.5 rounded-xl text-white font-semibold text-sm transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 mt-1",style:{background:"linear-gradient(135deg, #0284c7cc, #0a1628)",boxShadow:"0 4px 20px rgba(0,191,255,0.25)",border:"1px solid rgba(0,191,255,0.4)"},children:v?"Creating Account...":" Create Admin Account"})]})]})]})})}const fc={Aries:{symbol:"",element:"Fire",quality:"Cardinal",ruler:"Mars",dates:"Mar 21  Apr 19",color:"#FF4136",stone:"Diamond",day:"Tuesday",numbers:[1,8,17],colors:["Red","Scarlet","Carmine"],traits:["Courageous","Energetic","Passionate","Determined","Impulsive"],strengths:["Natural leader","Fearless","Enthusiastic","Honest","Optimistic"],weaknesses:["Impatient","Short-tempered","Aggressive","Impulsive","Competitive"],description:"Aries is the first sign of the zodiac, and that's exactly how those born under this sign see themselves  first. Ruled by Mars, they are full of raw energy, passion, and an unstoppable desire to conquer.",love:"In love, Aries is passionate and direct. They fall fast and hard, and expect the same intensity in return. They love the chase but need a partner who can keep up.",career:"Aries thrives in leadership roles. Entrepreneurship, sports, the military, or any field that rewards boldness and initiative suits them perfectly.",health:"The head, face, and adrenal glands are ruled by Aries. Regular high-intensity exercise is essential. Watch for headaches, fever, and burnout.",famous:[{name:"Lady Gaga",role:"Artist"},{name:"Elton John",role:"Musician"},{name:"Robert Downey Jr.",role:"Actor"}],compatibility:[{sign:"Leo",level:95,emoji:""},{sign:"Sagittarius",level:90,emoji:""},{sign:"Gemini",level:80,emoji:""},{sign:"Aquarius",level:75,emoji:""},{sign:"Cancer",level:40,emoji:""},{sign:"Capricorn",level:35,emoji:""}],affirmation:"I move forward with courage and ignite the world with my passion.",mantra:"I am. I lead. I conquer."},Taurus:{symbol:"",element:"Earth",quality:"Fixed",ruler:"Venus",dates:"Apr 20  May 20",color:"#2ECC40",stone:"Emerald",day:"Friday",numbers:[2,6,9],colors:["Green","Pink","White"],traits:["Reliable","Patient","Practical","Devoted","Stubborn"],strengths:["Dependable","Persistent","Loyal","Sensual","Grounded"],weaknesses:["Stubborn","Possessive","Materialistic","Resistant to change","Indulgent"],description:"Taurus is the anchor of the zodiac. Ruled by Venus, they appreciate beauty, comfort, and the finer things in life. Their patience and determination are legendary.",love:"Taurus loves deeply and loyally. They take time to open up but once committed, they are unwaveringly devoted partners who express love through touch and acts of service.",career:"Finance, real estate, art, and food industries suit Taurus perfectly. They excel in stable environments where their patience and attention to detail are rewarded.",health:"The neck and throat are Taurus's sensitive areas. Regular relaxation rituals, good food, and time in nature are essential for their wellbeing.",famous:[{name:"Adele",role:"Singer"},{name:"Dwayne Johnson",role:"Actor"},{name:"David Beckham",role:"Athlete"}],compatibility:[{sign:"Virgo",level:95,emoji:""},{sign:"Capricorn",level:92,emoji:""},{sign:"Cancer",level:85,emoji:""},{sign:"Pisces",level:80,emoji:""},{sign:"Leo",level:45,emoji:""},{sign:"Aquarius",level:35,emoji:""}],affirmation:"I am grounded, secure, and worthy of all the beauty the universe offers.",mantra:"I have. I build. I endure."},Gemini:{symbol:"",element:"Air",quality:"Mutable",ruler:"Mercury",dates:"May 21  Jun 20",color:"#FFDC00",stone:"Agate",day:"Wednesday",numbers:[3,8,12],colors:["Yellow","Green","Peach"],traits:["Witty","Curious","Adaptable","Communicative","Indecisive"],strengths:["Versatile","Eloquent","Quick learner","Charming","Open-minded"],weaknesses:["Inconsistent","Anxious","Indecisive","Superficial","Easily bored"],description:"Gemini is the social butterfly of the zodiac. Ruled by Mercury, they have quick, agile minds and are gifted communicators with an insatiable curiosity about the world.",love:"Gemini needs mental stimulation in love. They are fun, flirty, and spontaneous. A partner who can match their wit and keep them guessing will hold their heart.",career:"Writing, media, sales, and teaching are ideal for Gemini. They excel in fast-paced environments where they can use their communication skills.",health:"The lungs, arms, and nervous system are Gemini's focus. Breathwork, meditation, and avoiding information overload are essential for their mental health.",famous:[{name:"Marilyn Monroe",role:"Actress"},{name:"Kanye West",role:"Artist"},{name:"Angelina Jolie",role:"Actress"}],compatibility:[{sign:"Libra",level:95,emoji:""},{sign:"Aquarius",level:90,emoji:""},{sign:"Aries",level:82,emoji:""},{sign:"Leo",level:78,emoji:""},{sign:"Pisces",level:38,emoji:""},{sign:"Virgo",level:35,emoji:""}],affirmation:"I embrace all parts of myself and communicate my truth with clarity and grace.",mantra:"I think. I connect. I adapt."},Cancer:{symbol:"",element:"Water",quality:"Cardinal",ruler:"Moon",dates:"Jun 21  Jul 22",color:"#00BFFF",stone:"Pearl",day:"Monday",numbers:[2,3,15],colors:["White","Silver","Sea green"],traits:["Intuitive","Emotional","Nurturing","Protective","Moody"],strengths:["Compassionate","Loyal","Intuitive","Imaginative","Persuasive"],weaknesses:["Moody","Pessimistic","Suspicious","Manipulative","Insecure"],description:"Cancer is the nurturer of the zodiac. Ruled by the Moon, they are deeply intuitive and sentimental, valuing home, family, and emotional security above all else.",love:"Cancer loves with their whole heart. They are incredibly devoted and nurturing partners who create a warm, loving home. They need emotional security and deep loyalty in return.",career:"Healthcare, education, real estate, and hospitality suit Cancer. They thrive in roles where they can care for others and build lasting emotional connections.",health:"The chest, breasts, and stomach are Cancer's sensitive areas. Emotional wellbeing directly affects their physical health  journaling and therapy are highly beneficial.",famous:[{name:"Princess Diana",role:"Royalty"},{name:"Ariana Grande",role:"Singer"},{name:"Elon Musk",role:"Entrepreneur"}],compatibility:[{sign:"Scorpio",level:97,emoji:""},{sign:"Pisces",level:92,emoji:""},{sign:"Taurus",level:84,emoji:""},{sign:"Virgo",level:79,emoji:""},{sign:"Aries",level:38,emoji:""},{sign:"Libra",level:33,emoji:""}],affirmation:"I honor my emotions as my greatest strength and create safe spaces for love to grow.",mantra:"I feel. I nurture. I protect."},Leo:{symbol:"",element:"Fire",quality:"Fixed",ruler:"Sun",dates:"Jul 23  Aug 22",color:"#FF851B",stone:"Ruby",day:"Sunday",numbers:[1,3,10],colors:["Gold","Orange","Purple"],traits:["Generous","Warm-hearted","Cheerful","Humorous","Arrogant"],strengths:["Creative","Passionate","Generous","Warm-hearted","Cheerful"],weaknesses:["Arrogant","Stubborn","Self-centered","Lazy","Inflexible"],description:"Leo is the royalty of the zodiac. Ruled by the Sun, Leos radiate warmth, confidence, and charisma wherever they go. They are natural performers who light up every room.",love:"Leo loves grandly and dramatically. They are generous, loyal partners who shower their loved ones with affection and expect the same devotion in return.",career:"Entertainment, leadership, politics, and entrepreneurship suit Leo. They shine in roles where they can lead, inspire, and receive recognition for their talents.",health:"The heart, spine, and back are Leo's sensitive areas. Regular exercise and creative outlets are essential to channel their abundant energy and maintain vitality.",famous:[{name:"Barack Obama",role:"Politician"},{name:"Madonna",role:"Artist"},{name:"Jennifer Lopez",role:"Entertainer"}],compatibility:[{sign:"Aries",level:95,emoji:""},{sign:"Sagittarius",level:92,emoji:""},{sign:"Gemini",level:83,emoji:""},{sign:"Libra",level:79,emoji:""},{sign:"Scorpio",level:40,emoji:""},{sign:"Taurus",level:36,emoji:""}],affirmation:"I shine my light boldly and generously, inspiring everyone I meet.",mantra:"I will. I create. I shine."},Virgo:{symbol:"",element:"Earth",quality:"Mutable",ruler:"Mercury",dates:"Aug 23  Sep 22",color:"#01FF70",stone:"Sapphire",day:"Wednesday",numbers:[5,14,23],colors:["Green","White","Yellow"],traits:["Analytical","Hardworking","Practical","Diligent","Critical"],strengths:["Loyal","Analytical","Kind","Hardworking","Practical"],weaknesses:["Shyness","Worry","Overly critical","All work no play","Perfectionist"],description:"Virgo is the perfectionist of the zodiac. Ruled by Mercury, they are precise, methodical, and deeply service-oriented  always striving to improve themselves and the world around them.",love:"Virgo expresses love through acts of service and attention to detail. They are devoted partners who show care through practical gestures and genuine interest in their partner's wellbeing.",career:"Healthcare, research, writing, data analysis, and accounting suit Virgo. They excel in environments that reward precision, critical thinking, and systematic approaches.",health:"The digestive system and intestines are Virgo's sensitive areas. A clean diet, regular routines, and mindfulness practices are essential for their health.",famous:[{name:"Beyonc",role:"Artist"},{name:"Keanu Reeves",role:"Actor"},{name:"Mother Teresa",role:"Humanitarian"}],compatibility:[{sign:"Taurus",level:95,emoji:""},{sign:"Capricorn",level:92,emoji:""},{sign:"Cancer",level:85,emoji:""},{sign:"Scorpio",level:80,emoji:""},{sign:"Sagittarius",level:38,emoji:""},{sign:"Gemini",level:34,emoji:""}],affirmation:"I trust my process, embrace imperfection, and find beauty in the details of life.",mantra:"I analyze. I serve. I perfect."},Libra:{symbol:"",element:"Air",quality:"Cardinal",ruler:"Venus",dates:"Sep 23  Oct 22",color:"#FF69B4",stone:"Opal",day:"Friday",numbers:[4,6,13],colors:["Pink","Blue","Green"],traits:["Diplomatic","Fair-minded","Social","Idealistic","Indecisive"],strengths:["Cooperative","Diplomatic","Gracious","Fair-minded","Social"],weaknesses:["Indecisive","Avoids confrontation","Self-pitying","Grudge-holder","People-pleaser"],description:"Libra is the diplomat of the zodiac. Ruled by Venus, they are charming, gracious, and deeply committed to justice and harmony in all areas of life.",love:"Libra is a natural romantic who thrives in partnership. They are attentive, charming partners who create beautiful relationships built on mutual respect and intellectual connection.",career:"Law, diplomacy, design, counseling, and the arts suit Libra. They excel in roles requiring negotiation, aesthetic judgment, and the ability to see all sides.",health:"The kidneys and lower back are Libra's sensitive areas. Balance is key  avoiding excess in all things, from diet to work, maintains their health and harmony.",famous:[{name:"Kim Kardashian",role:"Media personality"},{name:"Will Smith",role:"Actor"},{name:"Gandhi",role:"Leader"}],compatibility:[{sign:"Gemini",level:92,emoji:""},{sign:"Aquarius",level:88,emoji:""},{sign:"Leo",level:82,emoji:""},{sign:"Sagittarius",level:78,emoji:""},{sign:"Cancer",level:38,emoji:""},{sign:"Capricorn",level:35,emoji:""}],affirmation:"I create harmony wherever I go, and beauty flows through everything I touch.",mantra:"I balance. I connect. I beautify."},Scorpio:{symbol:"",element:"Water",quality:"Fixed",ruler:"Pluto & Mars",dates:"Oct 23  Nov 21",color:"#85144b",stone:"Topaz",day:"Tuesday",numbers:[8,11,18],colors:["Black","Crimson","Burgundy"],traits:["Intense","Passionate","Determined","Magnetic","Secretive"],strengths:["Perceptive","Brave","Loyal","Resourceful","Transformative"],weaknesses:["Jealous","Controlling","Resentful","Manipulative","Obsessive"],description:"Scorpio is the most intense sign of the zodiac. Ruled by Pluto and Mars, they possess profound depth, magnetic power, and an unwavering will. They see through every facade.",love:"Scorpio loves with volcanic intensity. They are all-or-nothing in love  either completely devoted or completely detached. Trust must be earned; once given, it is absolute.",career:"Psychology, investigation, research, surgery, and finance suit Scorpio perfectly. They excel where depth, secrecy, and transformation are involved.",health:"The reproductive organs and excretory system are Scorpio's sensitive areas. Managing obsessive tendencies and practicing emotional release through therapy is vital.",famous:[{name:"Leonardo DiCaprio",role:"Actor"},{name:"Katy Perry",role:"Singer"},{name:"Pablo Picasso",role:"Artist"}],compatibility:[{sign:"Cancer",level:95,emoji:""},{sign:"Pisces",level:92,emoji:""},{sign:"Virgo",level:84,emoji:""},{sign:"Capricorn",level:80,emoji:""},{sign:"Leo",level:40,emoji:""},{sign:"Aquarius",level:35,emoji:""}],affirmation:"I embrace transformation and rise from every challenge more powerful than before.",mantra:"I desire. I transform. I resurrect."},Sagittarius:{symbol:"",element:"Fire",quality:"Mutable",ruler:"Jupiter",dates:"Nov 22  Dec 21",color:"#3D9970",stone:"Turquoise",day:"Thursday",numbers:[3,7,9],colors:["Blue","Purple","Red"],traits:["Adventurous","Optimistic","Philosophical","Independent","Tactless"],strengths:["Generous","Idealistic","Funny","Enthusiastic","Truth-seeker"],weaknesses:["Restless","Irresponsible","Impatient","Overconfident","Commitment-averse"],description:"Sagittarius is the explorer of the zodiac. Ruled by Jupiter, they are eternal seekers of truth, wisdom, and adventure. Their optimism and humor are infectious.",love:"Sagittarius needs freedom and adventure in love. They are passionate and honest partners who need a fellow adventurer  someone who grows with them, not holds them back.",career:"Travel, philosophy, teaching, publishing, and entrepreneurship suit Sagittarius. They need roles with variety, freedom, and the ability to expand horizons.",health:"The hips, thighs, and liver are Sagittarius's sensitive areas. Outdoor activities, travel, and avoiding excess alcohol are essential for their vitality.",famous:[{name:"Taylor Swift",role:"Singer"},{name:"Brad Pitt",role:"Actor"},{name:"Walt Disney",role:"Creator"}],compatibility:[{sign:"Aries",level:92,emoji:""},{sign:"Leo",level:90,emoji:""},{sign:"Libra",level:80,emoji:""},{sign:"Aquarius",level:78,emoji:""},{sign:"Virgo",level:38,emoji:""},{sign:"Pisces",level:35,emoji:""}],affirmation:"I am free to roam the universe and find truth in every horizon I chase.",mantra:"I seek. I expand. I discover."},Capricorn:{symbol:"",element:"Earth",quality:"Cardinal",ruler:"Saturn",dates:"Dec 22  Jan 19",color:"#AAAAAA",stone:"Garnet",day:"Saturday",numbers:[4,8,13],colors:["Brown","Black","Dark green"],traits:["Disciplined","Ambitious","Patient","Cautious","Reserved"],strengths:["Responsible","Self-controlled","Practical","Persistent","Masterful"],weaknesses:["Cold","Pessimistic","Condescending","Rigid","Workaholic"],description:"Capricorn is the achiever of the zodiac. Ruled by Saturn, they are masters of discipline, ambition, and long-term thinking. They build empires, one determined step at a time.",love:"Capricorn is a serious, committed partner. They take love as seriously as their career. They show affection through stability and providing, and need a partner who respects their ambitions.",career:"Finance, government, architecture, management, and law suit Capricorn perfectly. They excel in structured environments where hard work leads to prestigious results.",health:"The bones, knees, and joints are Capricorn's sensitive areas. Regular exercise, calcium-rich diet, and work-life balance are essential for their longevity.",famous:[{name:"Michelle Obama",role:"Former First Lady"},{name:"LeBron James",role:"Athlete"},{name:"Jeff Bezos",role:"Entrepreneur"}],compatibility:[{sign:"Taurus",level:94,emoji:""},{sign:"Virgo",level:91,emoji:""},{sign:"Scorpio",level:83,emoji:""},{sign:"Pisces",level:77,emoji:""},{sign:"Aries",level:37,emoji:""},{sign:"Libra",level:33,emoji:""}],affirmation:"I climb with patience and intention, knowing that every step leads to my destiny.",mantra:"I use. I master. I achieve."},Aquarius:{symbol:"",element:"Air",quality:"Fixed",ruler:"Uranus",dates:"Jan 20  Feb 18",color:"#7FDBFF",stone:"Amethyst",day:"Saturday",numbers:[4,7,11],colors:["Blue","Silver","Turquoise"],traits:["Progressive","Original","Independent","Humanitarian","Inventive"],strengths:["Visionary","Intellectual","Original","Humanitarian","Independent"],weaknesses:["Emotionally detached","Unpredictable","Stubborn","Aloof","Extremist"],description:"Aquarius is the visionary of the zodiac. Ruled by Uranus, they are progressive, independent thinkers who are deeply committed to humanity and the future. They march to their own cosmic beat.",love:"Aquarius needs intellectual connection above all in love. They are loyal but need space and freedom. A partner who respects their individuality and shares their vision will win their heart.",career:"Technology, science, humanitarian work, activism, and innovation suit Aquarius. They thrive in roles where they can challenge the status quo and create positive change.",health:"The ankles, calves, and circulatory system are Aquarius's sensitive areas. Group sports, unique fitness regimens, and staying socially active support their wellbeing.",famous:[{name:"Oprah Winfrey",role:"Media mogul"},{name:"Ellen DeGeneres",role:"Entertainer"},{name:"Cristiano Ronaldo",role:"Athlete"}],compatibility:[{sign:"Gemini",level:93,emoji:""},{sign:"Libra",level:89,emoji:""},{sign:"Sagittarius",level:82,emoji:""},{sign:"Aries",level:76,emoji:""},{sign:"Taurus",level:37,emoji:""},{sign:"Scorpio",level:33,emoji:""}],affirmation:"I embrace my uniqueness and use my vision to create a better world for all.",mantra:"I know. I innovate. I liberate."},Pisces:{symbol:"",element:"Water",quality:"Mutable",ruler:"Neptune",dates:"Feb 19  Mar 20",color:"#0074D9",stone:"Aquamarine",day:"Thursday",numbers:[3,9,12],colors:["Sea green","Lavender","Purple"],traits:["Compassionate","Artistic","Intuitive","Gentle","Wise"],strengths:["Compassionate","Artistic","Intuitive","Gentle","Wise"],weaknesses:["Fearful","Overly trusting","Sad","Desire to escape reality","Victim mentality"],description:"Pisces is the dreamer of the zodiac. Ruled by Neptune, they are deeply compassionate, artistic, and intuitive souls who experience life through an emotional and spiritual lens.",love:"Pisces loves unconditionally and with their entire soul. They are romantic, empathetic partners who will sacrifice greatly for the ones they love. They need deep emotional connection and loyalty.",career:"Arts, music, healing professions, spirituality, and charity work suit Pisces. They thrive when their work has deep meaning and allows them to express their creativity and compassion.",health:"The feet and lymphatic system are Pisces's sensitive areas. Swimming, yoga, and creative outlets are healing. They must guard against escapism and be mindful of substance use.",famous:[{name:"Rihanna",role:"Artist"},{name:"Albert Einstein",role:"Scientist"},{name:"Steve Jobs",role:"Visionary"}],compatibility:[{sign:"Scorpio",level:95,emoji:""},{sign:"Cancer",level:92,emoji:""},{sign:"Taurus",level:82,emoji:""},{sign:"Capricorn",level:78,emoji:""},{sign:"Gemini",level:40,emoji:""},{sign:"Sagittarius",level:35,emoji:""}],affirmation:"I trust my intuition and surrender to the magic flow of the universe.",mantra:"I believe. I dream. I transcend."}},Tv={Fire:"#FF6B35",Earth:"#8B7355",Air:"#87CEEB",Water:"#4169E1"};function Av(){const{profile:e}=at(),t=(e!=null&&e.date_of_birth?ht(e.date_of_birth):null)||(e==null?void 0:e.zodiac_sign)||"Aries",r=fc[t]||fc.Aries,[n,s]=S.useState("overview"),[i,a]=S.useState(!1),[l,u]=S.useState(!1),c={background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"16px"};return o.jsxs("div",{className:"p-6 space-y-6 relative z-10 max-w-4xl mx-auto pb-16",children:[o.jsx("style",{children:`
        @keyframes orbit { from{transform:rotate(0deg) translateX(60px) rotate(0deg)} to{transform:rotate(360deg) translateX(60px) rotate(-360deg)} }
        @keyframes pulse-ring { 0%,100%{opacity:.4;transform:scale(1)} 50%{opacity:.8;transform:scale(1.05)} }
        @keyframes shimmer { 0%{opacity:.5} 50%{opacity:1} 100%{opacity:.5} }
        .compat-bar { transition: width 1s ease; }
        .tab-active { background: rgba(123,97,255,0.3); border-color: rgba(123,97,255,0.6) !important; }
      `}),o.jsxs("div",{className:"relative overflow-hidden rounded-3xl p-8 text-center",style:{background:`radial-gradient(ellipse at top, ${r.color}22, rgba(10,1,24,0.95))`,border:`1px solid ${r.color}44`},children:[o.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"radial-gradient(circle at 20% 80%, rgba(123,97,255,0.4) 0%, transparent 50%), radial-gradient(circle at 80% 20%, rgba(0,191,255,0.3) 0%, transparent 50%)"}}),o.jsx("div",{className:"absolute left-1/2 top-1/2 w-0 h-0",style:{marginLeft:"-1px",marginTop:"-1px"},children:o.jsx("div",{className:"w-2 h-2 rounded-full",style:{background:r.color,boxShadow:`0 0 8px ${r.color}`,animation:"orbit 6s linear infinite"}})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"text-8xl mb-3",style:{textShadow:`0 0 30px ${r.color}`},children:r.symbol}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:t}),o.jsx("p",{className:"text-sm mb-4",style:{color:r.color},children:r.dates}),o.jsx("div",{className:"flex justify-center gap-3 flex-wrap",children:[{label:"Element",value:r.element,color:Tv[r.element]},{label:"Quality",value:r.quality,color:"#a78bfa"},{label:"Ruler",value:r.ruler,color:"#67e8f9"},{label:"Stone",value:r.stone,color:"#86efac"}].map(d=>o.jsxs("div",{className:"px-4 py-2 rounded-xl text-sm",style:{background:"rgba(255,255,255,0.07)",border:`1px solid ${d.color}44`},children:[o.jsx("span",{className:"text-white/50 text-xs block",children:d.label}),o.jsx("span",{className:"font-semibold",style:{color:d.color},children:d.value})]},d.label))})]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:c,children:[o.jsxs("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[o.jsx("span",{children:""})," Core Traits"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:r.traits.map(d=>o.jsx("span",{className:"px-3 py-1.5 rounded-full text-sm font-medium",style:{background:`${r.color}20`,border:`1px solid ${r.color}40`,color:r.color},children:d},d))}),o.jsx("div",{className:"mt-5 space-y-2",children:[{label:"Emotional Depth",value:r.element==="Water"?90:r.element==="Fire"?65:55},{label:"Intellectual Drive",value:r.element==="Air"?90:r.quality==="Fixed"?70:60},{label:"Physical Energy",value:r.element==="Fire"?92:r.element==="Earth"?70:65},{label:"Social Magnetism",value:r.element==="Air"?88:r.element==="Fire"?82:60}].map(d=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xs text-white/50 w-36 shrink-0",children:d.label}),o.jsx("div",{className:"flex-1 h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.08)"},children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${d.value}%`,background:`linear-gradient(90deg, ${r.color}88, ${r.color})`}})}),o.jsx("span",{className:"text-xs font-bold w-8 text-right",style:{color:r.color},children:d.value})]},d.label))})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"rounded-2xl p-5",style:c,children:[o.jsx("h3",{className:"text-sm font-semibold text-green-400 mb-3",children:" Strengths"}),o.jsx("ul",{className:"space-y-2",children:r.strengths.map(d=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-white/70",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 shrink-0"}),d]},d))})]}),o.jsxs("div",{className:"rounded-2xl p-5",style:c,children:[o.jsx("h3",{className:"text-sm font-semibold text-red-400 mb-3",children:" Weaknesses"}),o.jsx("ul",{className:"space-y-2",children:r.weaknesses.map(d=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-white/70",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-red-400 shrink-0"}),d]},d))})]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:c,children:[o.jsx("div",{className:"flex gap-2 mb-5 flex-wrap",children:["overview","love","career","health"].map(d=>o.jsxs("button",{onClick:()=>s(d),className:`px-4 py-1.5 rounded-lg text-sm font-medium border capitalize transition-all ${n===d?"tab-active text-white":"border-transparent text-white/50 hover:text-white/80"}`,children:[d==="overview"?"":d==="love"?"":d==="career"?"":""," ",d]},d))}),o.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:n==="overview"?r.description:n==="love"?r.love:n==="career"?r.career:r.health})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:c,children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-white",children:" Compatibility"}),o.jsx("button",{onClick:()=>a(!i),className:"text-xs text-purple-400 hover:text-purple-300",children:i?"Hide":"Show all"})]}),o.jsx("div",{className:"space-y-3",children:r.compatibility.slice(0,i?r.compatibility.length:3).map(d=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl w-8",children:d.emoji}),o.jsx("span",{className:"text-sm text-white/70 w-24",children:d.sign}),o.jsx("div",{className:"flex-1 h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.08)"},children:o.jsx("div",{className:"compat-bar h-full rounded-full",style:{width:`${d.level}%`,background:d.level>=80?"linear-gradient(90deg,#22c55e88,#22c55e)":d.level>=60?"linear-gradient(90deg,#f59e0b88,#f59e0b)":"linear-gradient(90deg,#ef444488,#ef4444)"}})}),o.jsxs("span",{className:"text-xs font-bold w-10 text-right",style:{color:d.level>=80?"#22c55e":d.level>=60?"#f59e0b":"#ef4444"},children:[d.level,"%"]})]},d.sign))})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:c,children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:" Lucky Details"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[{label:"Lucky Day",value:r.day},{label:"Lucky Stone",value:r.stone},{label:"Lucky Numbers",value:r.numbers.join(", ")},{label:"Lucky Colors",value:r.colors.join(", ")},{label:"Element",value:r.element},{label:"Ruling Planet",value:r.ruler}].map(d=>o.jsxs("div",{className:"p-3 rounded-xl",style:{background:"rgba(255,255,255,0.04)",border:`1px solid ${r.color}22`},children:[o.jsx("span",{className:"text-xs text-white/40 block mb-1",children:d.label}),o.jsx("span",{className:"text-sm font-medium",style:{color:r.color},children:d.value})]},d.label))})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:c,children:[o.jsxs("h2",{className:"text-lg font-semibold text-white mb-4",children:[" Famous ",t,"s"]}),o.jsx("div",{className:"flex flex-wrap gap-3",children:r.famous.map(d=>o.jsx("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl",style:{background:`${r.color}15`,border:`1px solid ${r.color}33`},children:o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-white",children:d.name}),o.jsx("p",{className:"text-xs text-white/50",children:d.role})]})},d.name))})]}),o.jsxs("div",{className:"rounded-2xl p-6 text-center",style:{background:`radial-gradient(ellipse at center, ${r.color}15, rgba(10,1,24,0.9))`,border:`1px solid ${r.color}33`},children:[o.jsx("p",{className:"text-white/40 text-xs uppercase tracking-widest mb-3",children:"Daily Affirmation"}),o.jsxs("p",{className:"text-white text-lg font-medium italic mb-2",children:['"',r.affirmation,'"']}),o.jsx("p",{className:"text-sm font-bold",style:{color:r.color},children:r.mantra}),o.jsx("button",{onClick:()=>{u(!0),setTimeout(()=>u(!1),2e3)},className:"mt-4 px-5 py-2 rounded-full text-sm font-medium transition-all",style:{background:`${r.color}25`,color:r.color,border:`1px solid ${r.color}44`},children:l?" Saved!":" Save Affirmation"})]})]})}const pc={Aries:{overall:"The universe is igniting your pioneering spirit today, Aries. Mars supercharges your drive, making this a powerful day for bold moves and new beginnings. Trust your instincts  they are sharper than ever.",love:"Passion runs high today. Express your feelings directly; your honesty will be magnetic. Singles may have a charged encounter. Couples benefit from spontaneous adventure together.",career:"Your competitive edge is razor-sharp. Take the lead on that project you've been eyeing. Colleagues respond well to your enthusiasm. An important opportunity may arise before the day ends.",health:"High energy demands physical outlet. A vigorous workout will do wonders. Watch for impulsiveness that could lead to minor injuries  channel that fire into focused exercise.",spiritual:"Fire meditations and working with red crystals like carnelian align your energy. Your warrior spirit is awakened  call upon your inner strength to face any challenge.",tip:"Start something new today. The cosmic energy strongly supports initiating bold actions.",scores:{overall:88,love:82,career:91,health:78,energy:95},lucky:{number:9,color:"Crimson",time:"8:00 AM  10:00 AM",direction:"East",crystal:"Carnelian"},planet:"Mars ",planetEffect:"Mars fuels your ambition and courage, making you unstoppable today."},Taurus:{overall:"Venus wraps your day in a warm, sensual glow, Taurus. Beauty, pleasure, and meaningful connections are highlighted. This is a day to savor the finer things and appreciate what you have built.",love:"Romance is tender and deeply satisfying today. Express love through thoughtful gestures. Long-term partners feel especially close. Singles attract admirers through their natural warmth and sensuality.",career:"Steady persistence pays off beautifully today. A financial decision made now will serve you well long-term. Your patience and reliability impress those in positions of authority.",health:"Your body craves nourishment and rest. A wholesome meal and time in nature will restore you completely. Avoid overindulgence  your body is asking for quality, not quantity.",spiritual:"Earth-based practices and time in gardens or forests deeply nourish your soul today. Work with green crystals like malachite to amplify abundance energy.",tip:"Indulge one genuine pleasure today  your soul needs beauty and satisfaction.",scores:{overall:84,love:92,career:79,health:85,energy:72},lucky:{number:6,color:"Emerald",time:"2:00 PM  4:00 PM",direction:"South",crystal:"Malachite"},planet:"Venus ",planetEffect:"Venus surrounds you with beauty, luxury, and the sweetness of life today."},Gemini:{overall:"Mercury electrifies your already brilliant mind today, Gemini. Ideas flow effortlessly and conversations open doors. This is an exceptional day for communication, learning, and making connections.",love:"Wit and words are your most powerful tools in love today. A meaningful conversation deepens a connection. Singles sparkle with charm  your mind captivates as much as your smile.",career:"Networking and communication are your superpowers today. A pitch, presentation, or important conversation goes exceptionally well. Your versatility impresses everyone in the room.",health:"Mental overstimulation is the only risk today. Schedule quiet time between social engagements. Breathing exercises and short walks between tasks keep your nervous system balanced.",spiritual:"Your mind is a portal to the divine today. Journaling, automatic writing, or oracle cards reveal profound insights. Yellow citrine amplifies your mental clarity and joy.",tip:"Make that important call or send that message today  Mercury's energy guarantees it lands well.",scores:{overall:87,love:80,career:93,health:74,energy:88},lucky:{number:5,color:"Yellow",time:"10:00 AM  12:00 PM",direction:"West",crystal:"Citrine"},planet:"Mercury ",planetEffect:"Mercury sharpens your intellect and accelerates all forms of communication today."},Cancer:{overall:"The Moon cradles you in heightened intuition today, Cancer. Your emotional radar is extraordinarily precise  trust every feeling and instinct. Home, family, and deep connections take center stage.",love:"Emotional intimacy reaches beautiful new depths today. Share your inner world openly; vulnerability creates unbreakable bonds. Family matters bring unexpected joy and warmth.",career:"Your intuition about colleagues and clients is spot-on today. Creative work and projects involving care, hospitality, or nurturing others excel. Trust your gut on business decisions.",health:"Emotional and physical wellbeing are deeply linked today. Honor your feelings fully  suppressed emotions manifest as physical tension. A nurturing bath or gentle yoga works wonders.",spiritual:"Moon rituals and water-based practices are especially powerful today. Meditate near water or with moonstone to amplify your already heightened psychic sensitivity.",tip:"Create a sacred, cozy space today. Your home is your sanctuary and your power source.",scores:{overall:82,love:95,career:76,health:80,energy:70},lucky:{number:2,color:"Silver",time:"8:00 PM  10:00 PM",direction:"North",crystal:"Moonstone"},planet:"Moon ",planetEffect:"The Moon amplifies your intuition and emotional intelligence to extraordinary levels."},Leo:{overall:"The Sun blazes through your chart today, Leo, filling you with radiant confidence and creative fire. You are at your most magnetic and powerful  the whole world notices your light.",love:"Your charisma is irresistible today. Grand romantic gestures land perfectly. Couples reignite passion through playfulness and celebration. Singles command attention effortlessly  embrace it.",career:"Leadership opportunities come to you naturally today. Your vision inspires others and your confidence opens doors. A moment of recognition or praise affirms your hard work.",health:"Vitality is sky-high. Channel this solar energy into physical activity you genuinely enjoy  dance, sports, or anything that makes your heart sing and your body move with joy.",spiritual:"Creative expression IS your spiritual practice today. Art, performance, and heartfelt generosity connect you to the divine. Work with sunstone or golden topaz to amplify your solar energy.",tip:"Step into the spotlight today  you were made for this moment.",scores:{overall:93,love:89,career:95,health:88,energy:97},lucky:{number:1,color:"Gold",time:"12:00 PM  2:00 PM",direction:"East",crystal:"Sunstone"},planet:"Sun ",planetEffect:"The Sun amplifies your natural radiance, leadership, and creative power to its peak."},Virgo:{overall:"Mercury sharpens your already keen analytical mind today, Virgo. Details that others miss are crystal clear to you. This is an ideal day for planning, organizing, and problem-solving with surgical precision.",love:"Small, thoughtful gestures speak volumes in love today. Your attentiveness makes your partner feel deeply cherished. Singles attract through genuine helpfulness and intelligent conversation.",career:"Your eye for detail catches a critical error or reveals an important insight. Process improvements and systematic approaches bring measurable results. Colleagues appreciate your thoroughness.",health:"Your mind-body connection is especially strong today. A clean, nutritious meal and an organized environment dramatically improve your energy. Digestive health responds well to mindful eating.",spiritual:"Service and ritual are your spiritual languages today. Organizing a sacred space, crafting detailed intentions, or helping someone in need connects you deeply to the divine.",tip:"Fix or improve one system or process today  your precision brings outsized rewards.",scores:{overall:85,love:77,career:92,health:88,energy:80},lucky:{number:5,color:"Forest Green",time:"7:00 AM  9:00 AM",direction:"South",crystal:"Jade"},planet:"Mercury ",planetEffect:"Mercury activates your analytical genius and brings extraordinary clarity to complex problems."},Libra:{overall:"Venus drapes your day in elegance and harmony today, Libra. Beauty, balance, and meaningful partnerships are highlighted. Negotiations, collaborations, and creative projects all flourish under this cosmic grace.",love:"Romance is exquisitely balanced and mutually fulfilling today. A heart-to-heart conversation brings beautiful resolution or deeper understanding. Singles encounter someone who matches their ideals.",career:"Partnerships and negotiations reach favorable outcomes today. Your diplomatic skills broker solutions that everyone celebrates. Creative collaborations produce work of exceptional quality.",health:"Balance is your medicine today. Ensure equal portions of activity and rest, social time and solitude, nourishment and movement. Your kidneys respond well to increased water intake.",spiritual:"Beauty itself is a spiritual practice for you today. Surround yourself with art, music, and harmony. Rose quartz and pink tourmaline support your heart chakra beautifully.",tip:"Seek beauty in every interaction today  your ability to find it is your greatest gift.",scores:{overall:86,love:93,career:84,health:79,energy:78},lucky:{number:6,color:"Rose Pink",time:"3:00 PM  5:00 PM",direction:"West",crystal:"Rose Quartz"},planet:"Venus ",planetEffect:"Venus fills your interactions with grace, charm, and the power to create lasting harmony."},Scorpio:{overall:"Pluto intensifies your already formidable perception today, Scorpio. Hidden truths surface, power dynamics shift in your favor, and your ability to transform challenges into victories is at its peak.",love:"Emotional and physical intimacy reach extraordinary intensity today. Deep vulnerability creates unbreakable bonds. Trust your instincts completely  they reveal what words cannot.",career:"Research, investigation, and strategic planning yield powerful results today. You uncover information others miss entirely. A power play at work resolves decisively in your favor.",health:"Intense emotions need healthy physical release today. High-intensity exercise, deep tissue massage, or cathartic creative work transforms tension into vitality and power.",spiritual:"Shadow work and transformation practices are exceptionally potent today. Work with obsidian or black tourmaline to transmute old wounds into wisdom and authentic power.",tip:"Face one difficult truth today  your transformation on the other side will be extraordinary.",scores:{overall:89,love:91,career:87,health:76,energy:85},lucky:{number:8,color:"Deep Crimson",time:"9:00 PM  11:00 PM",direction:"North",crystal:"Obsidian"},planet:"Pluto ",planetEffect:"Pluto awakens your power to transform, investigate, and rise from any circumstance."},Sagittarius:{overall:"Jupiter expands every horizon in your world today, Sagittarius. Opportunities for adventure, learning, and philosophical expansion appear from unexpected directions. Say yes to the journey.",love:"Adventure and shared laughter are the love languages of today. Plan something spontaneous with your partner. Singles attract through their infectious optimism and fearless authenticity.",career:"International connections, higher learning, and ambitious projects are strongly favored. A big-picture vision you share today sparks others' enthusiasm. Expansion is your theme.",health:"Movement and outdoor activity restore your vitality completely today. A long walk, run, or any physical adventure in nature recharges your spirit and body simultaneously.",spiritual:"Philosophy, spiritual study, and travel  even through books or meditation  deepen your connection to universal truth today. Turquoise and lapis lazuli expand your higher mind.",tip:"Follow your curiosity wherever it leads today  Jupiter's expansion energy is fully on your side.",scores:{overall:90,love:84,career:88,health:90,energy:93},lucky:{number:3,color:"Royal Blue",time:"11:00 AM  1:00 PM",direction:"East",crystal:"Turquoise"},planet:"Jupiter ",planetEffect:"Jupiter blesses every venture with expansion, abundance, and extraordinary good fortune."},Capricorn:{overall:"Saturn rewards your discipline with tangible recognition today, Capricorn. Authority figures take notice of your consistent excellence. Long-term ambitions receive powerful cosmic support.",love:"Steady devotion and practical gestures communicate love most powerfully today. Make plans for the future with your partner  shared goals deepen commitment beautifully.",career:"Your expertise and track record open important doors today. A leadership opportunity or significant responsibility is offered. Accept it with the confidence you have earned.",health:"Structure serves your body well today. Maintain your routines with extra discipline  consistency is your medicine. Your skeletal system benefits from calcium-rich foods and posture awareness.",spiritual:"Achievement itself is your spiritual path today. Set a meaningful intention and take one concrete step toward your highest goal. Garnet and smoky quartz ground your ambitious energy beautifully.",tip:"Show up with your full expertise today  the universe is watching and ready to reward you.",scores:{overall:86,love:78,career:94,health:82,energy:77},lucky:{number:8,color:"Charcoal",time:"6:00 AM  8:00 AM",direction:"South",crystal:"Garnet"},planet:"Saturn ",planetEffect:"Saturn rewards your hard work, discipline, and long-term commitment with lasting recognition."},Aquarius:{overall:"Uranus sparks a flash of genius in your mind today, Aquarius. An unconventional idea or breakthrough approach arrives with sudden, electric clarity. Your most innovative thinking is your greatest gift.",love:"Intellectual connection is the deepest form of intimacy for you today. A stimulating conversation sparks genuine attraction. Your authenticity and uniqueness draw exactly the right people close.",career:"Technology, innovation, and collaborative projects surge forward with brilliant momentum. An unconventional solution to a persistent problem earns admiration from unexpected quarters.",health:"Social connection and community activities boost your wellbeing significantly today. Group fitness, team sports, or any activity shared with others energizes you on every level.",spiritual:"Your connection to collective consciousness is heightened today. Humanitarian acts, community service, and working toward a vision larger than yourself align you with your highest purpose.",tip:"Share your most unconventional idea today  the world needs your revolutionary thinking.",scores:{overall:88,love:81,career:92,health:79,energy:87},lucky:{number:11,color:"Electric Blue",time:"4:00 PM  6:00 PM",direction:"West",crystal:"Amethyst"},planet:"Uranus ",planetEffect:"Uranus electrifies your genius, bringing sudden insights and revolutionary breakthroughs."},Pisces:{overall:"Neptune wraps your day in a luminous, dreamy glow today, Pisces. Your intuition, creativity, and spiritual sensitivity are operating at their absolute peak. Magic is real and it is happening for you.",love:"Romantic connection transcends the ordinary today  soulmate energy is strongly present. Let your guard down completely and allow yourself to be seen. Unconditional love flows both ways.",career:"Creative projects, artistic work, and anything requiring empathy or imagination flourish beautifully today. Your ability to feel what others need makes you invaluable in team settings.",health:"Water is your greatest healer today  swim, take a healing bath, or simply be near a natural water source. Rest is equally sacred. Your dreams tonight may carry important guidance.",spiritual:"Your psychic channels are wide open today. Meditation, dream work, and any intuitive practice yields extraordinary clarity and guidance. Protect your energy with intention and amethyst.",tip:"Trust the magical, impossible-seeming thing that keeps calling to your soul today.",scores:{overall:85,love:95,career:80,health:75,energy:80},lucky:{number:12,color:"Sea Foam",time:"7:00 PM  9:00 PM",direction:"North",crystal:"Amethyst"},planet:"Neptune ",planetEffect:"Neptune dissolves boundaries between worlds, opening you to divine inspiration and unconditional love."}},Pv=[" Inspired"," Energized"," Peaceful"," Determined"," Emotional"," Low Energy"," Grateful"," Frustrated"],Rv={Aries:"",Taurus:"",Gemini:"",Cancer:"",Leo:"",Virgo:"",Libra:"",Scorpio:"",Sagittarius:"",Capricorn:"",Aquarius:"",Pisces:""};function Ov(){const{profile:e}=at(),t=(e!=null&&e.date_of_birth?ht(e.date_of_birth):null)||(e==null?void 0:e.zodiac_sign)||"Aries",r=pc[t]||pc.Aries,[n,s]=S.useState("overall"),[i,a]=S.useState(null),[l,u]=S.useState(!1),[c,d]=S.useState(!1),p=new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}),h=w=>w>=85?"#22c55e":w>=70?"#f59e0b":"#ef4444",y=()=>{if(!r||!t)return;const w=`My ${t} horoscope today: "${r.overall.slice(0,120)}..."  Powered by AstroSoul `;navigator.clipboard.writeText(w).then(()=>{d(!0),setTimeout(()=>d(!1),2500)})},g={overall:r.overall,love:r.love,career:r.career,health:r.health,spiritual:r.spiritual};return o.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto pb-16 relative z-10",children:[o.jsx("style",{children:`
        @keyframes glow-pulse { 0%,100%{box-shadow:0 0 15px rgba(123,97,255,0.3)} 50%{box-shadow:0 0 30px rgba(123,97,255,0.6)} }
        @keyframes score-fill { from{width:0} to{width:var(--target)} }
        .score-bar { animation: score-fill 1.2s ease forwards; }
        .section-btn { transition: all .2s; }
      `}),o.jsxs("div",{className:"rounded-3xl p-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(45,27,105,0.9), rgba(10,1,24,0.95))",border:"1px solid rgba(123,97,255,0.3)"},children:[o.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 rounded-full opacity-20",style:{background:"radial-gradient(circle, #7B61FF, transparent)",transform:"translate(30%,-30%)"}}),o.jsxs("div",{className:"relative z-10 flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs tracking-widest uppercase text-purple-400 mb-1",children:p}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:"Daily Horoscope"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("span",{className:"text-2xl",children:Rv[t]||""}),o.jsx("span",{className:"text-cyan-400 font-semibold",children:t}),o.jsxs("span",{className:"text-purple-400 text-sm",children:[" ",r.planet]})]})]}),o.jsx("button",{onClick:y,className:"px-3 py-1.5 rounded-lg text-xs font-medium transition-all",style:{background:"rgba(123,97,255,0.2)",border:"1px solid rgba(123,97,255,0.4)",color:"#c4b5fd"},children:c?" Copied!":" Share"})]}),o.jsx("div",{className:"mt-4 p-3 rounded-xl relative z-10",style:{background:"rgba(255,255,255,0.05)"},children:o.jsxs("p",{className:"text-sm text-purple-200 italic",children:[" ",r.planetEffect]})})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:" Today's Cosmic Scores"}),o.jsx("div",{className:"space-y-3",children:Object.entries(r.scores).map(([w,b])=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-sm text-white/60 capitalize w-20",children:w}),o.jsx("div",{className:"flex-1 h-3 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.08)"},children:o.jsx("div",{className:"h-full rounded-full score-bar",style:{width:`${b}%`,"--target":`${b}%`,background:`linear-gradient(90deg, ${h(b)}88, ${h(b)})`}})}),o.jsx("span",{className:"text-sm font-bold w-10 text-right",style:{color:h(b)},children:b})]},w))})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("div",{className:"flex gap-2 flex-wrap mb-5",children:["overall","love","career","health","spiritual"].map(w=>o.jsxs("button",{onClick:()=>s(w),className:`section-btn px-3 py-1.5 rounded-lg text-xs font-medium capitalize border ${n===w?"bg-purple-600/40 border-purple-400 text-white":"border-transparent text-white/50 hover:text-white/80"}`,children:[w==="overall"?"":w==="love"?"":w==="career"?"":w==="health"?"":""," ",w]},w))}),o.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:g[n]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-white",children:" Lucky Details"}),o.jsx("button",{onClick:()=>u(!l),className:"text-xs text-purple-400 hover:text-purple-300",children:l?"Hide":"Reveal"})]}),l&&o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(r.lucky).map(([w,b])=>o.jsxs("div",{className:"p-3 rounded-xl",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(123,97,255,0.2)"},children:[o.jsx("span",{className:"text-xs text-white/40 block capitalize mb-1",children:w}),o.jsx("span",{className:"text-sm font-medium text-cyan-400",children:String(b)})]},w))})]}),o.jsxs("div",{className:"rounded-2xl p-5 text-center",style:{background:"linear-gradient(135deg, rgba(123,97,255,0.15), rgba(10,1,24,0.9))",border:"1px solid rgba(123,97,255,0.3)"},children:[o.jsx("p",{className:"text-purple-400 text-xs uppercase tracking-widest mb-2",children:"Cosmic Tip"}),o.jsxs("p",{className:"text-white/85 text-sm leading-relaxed italic",children:[" ",r.tip]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:" How Are You Feeling?"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Pv.map(w=>o.jsx("button",{onClick:()=>a(w),className:"px-3 py-1.5 rounded-full text-sm transition-all",style:{background:i===w?"rgba(123,97,255,0.4)":"rgba(255,255,255,0.06)",border:`1px solid ${i===w?"rgba(123,97,255,0.6)":"rgba(255,255,255,0.1)"}`,color:i===w?"white":"rgba(255,255,255,0.6)"},children:w},w))}),i&&o.jsxs("p",{className:"mt-3 text-sm text-purple-300",children:["The stars acknowledge your energy today: ",o.jsx("strong",{className:"text-white",children:i}),". Honor this feeling  it carries cosmic wisdom."]})]})]})}const Iv=["January","February","March","April","May","June","July","August","September","October","November","December"],mc={Aries:{theme:"Bold Beginnings",powerCrystal:"Carnelian",powerColor:"#FF4136",overview:"This month ignites your pioneering spirit, Aries. Mars energizes your drive for new ventures and bold actions. The first two weeks are ideal for launching initiatives you've been planning. Mid-month brings a surge in social connections that could lead to exciting collaborations. The final weeks call for reflection before your next powerful move forward.",weeks:[{title:"Week 1: Launch",focus:"New beginnings and bold initiatives",advice:"Start the project you've been delaying  cosmic timing is perfect."},{title:"Week 2: Build",focus:"Momentum and confidence",advice:"Double down on what's working. Your energy is magnetic."},{title:"Week 3: Connect",focus:"Alliances and collaborations",advice:"The right people are entering your orbit. Be open."},{title:"Week 4: Reflect",focus:"Integration and planning",advice:"Assess progress honestly before the next bold move."}],scores:{love:82,career:94,health:85,finance:78},transits:[{planet:"Mars",effect:"Supercharges ambition and physical vitality",date:"Week 1-2"},{planet:"Venus",effect:"Softens edges, invites romantic opportunity",date:"Week 2-3"},{planet:"Mercury",effect:"Accelerates communication and clever ideas",date:"Week 3-4"}],intentions:["I boldly claim what is mine","I lead with courage and passion","I initiate and I conquer"]},Taurus:{theme:"Abundance & Security",powerCrystal:"Emerald",powerColor:"#2ECC40",overview:"Venus showers your month with beauty, pleasure, and financial opportunity, Taurus. The opening weeks favor investments, creative projects, and deepening relationships. Mid-month brings a moment to reassess your values and what truly matters. The closing weeks deliver tangible rewards for your patient, consistent efforts throughout the month.",weeks:[{title:"Week 1: Cultivate",focus:"Financial and creative growth",advice:"Make one smart financial decision this week."},{title:"Week 2: Savor",focus:"Beauty, pleasure, and connection",advice:"Invest in relationships  they are your greatest asset."},{title:"Week 3: Value",focus:"Reassessing priorities",advice:"Release what no longer aligns with your authentic values."},{title:"Week 4: Harvest",focus:"Rewards and recognition",advice:"Accept what you've earned with gratitude and grace."}],scores:{love:90,career:81,health:84,finance:93},transits:[{planet:"Venus",effect:"Amplifies beauty, love, and financial magnetism",date:"All month"},{planet:"Jupiter",effect:"Expands abundance in all material areas",date:"Week 1-3"},{planet:"Saturn",effect:"Rewards disciplined efforts with lasting gains",date:"Week 3-4"}],intentions:["I am a magnet for abundance","I build with patience and love","I deserve all beautiful things"]},Gemini:{theme:"Communication & Connection",powerCrystal:"Citrine",powerColor:"#FFDC00",overview:"Mercury ignites your already brilliant mind this month, Gemini. Exceptional opportunities arise through conversations, writing, and networking. The first half of the month is perfect for pitching ideas and forging new connections. Mid-month brings a brief pause for processing. The final weeks see your most inspired ideas reach receptive audiences.",weeks:[{title:"Week 1: Spark",focus:"Ideas and initial connections",advice:"Share your vision widely  it resonates more than you know."},{title:"Week 2: Network",focus:"Strategic relationship building",advice:"The most valuable contact appears unexpectedly."},{title:"Week 3: Process",focus:"Integration and reflection",advice:"Slow down briefly to absorb all you've received."},{title:"Week 4: Broadcast",focus:"Sharing your best ideas",advice:"Publish, present, or pitch  your timing is perfect."}],scores:{love:79,career:93,health:72,finance:81},transits:[{planet:"Mercury",effect:"Electrifies communication and intellectual gifts",date:"Week 1-2"},{planet:"Sun",effect:"Illuminates your authentic self and voice",date:"Week 2-3"},{planet:"Jupiter",effect:"Expands reach and opens publishing doors",date:"Week 4"}],intentions:["I communicate my truth with clarity","I connect and I inspire","My words create positive change"]},Cancer:{theme:"Nurturing & Intuition",powerCrystal:"Moonstone",powerColor:"#00BFFF",overview:"The Moon heightens your extraordinary intuition to new peaks this month, Cancer. Home, family, and emotional foundations take center stage in beautiful ways. The first weeks bring domestic harmony and family connections that nourish your soul. Mid-month, your psychic insights guide an important decision with perfect accuracy. The final weeks call for honoring your own emotional needs as a sacred priority.",weeks:[{title:"Week 1: Nest",focus:"Home, family, and emotional foundations",advice:"Create beauty in your sanctuary  it directly affects your power."},{title:"Week 2: Nurture",focus:"Caring for self and loved ones",advice:"Balance giving and receiving  your wellbeing matters equally."},{title:"Week 3: Intuit",focus:"Psychic insights and inner knowing",advice:"Trust the feeling that keeps returning  it is accurate."},{title:"Week 4: Honor",focus:"Self-care and emotional truth",advice:"Your needs are not burdens. Honor them as sacred."}],scores:{love:94,career:77,health:82,finance:76},transits:[{planet:"Moon",effect:"Amplifies intuition and emotional intelligence",date:"All month"},{planet:"Venus",effect:"Blesses family relationships with warmth",date:"Week 1-2"},{planet:"Neptune",effect:"Deepens psychic sensitivity and creative vision",date:"Week 3"}],intentions:["I trust my intuition completely","I create safety for myself and those I love","My sensitivity is my superpower"]},Leo:{theme:"Radiance & Recognition",powerCrystal:"Sunstone",powerColor:"#FF851B",overview:"The Sun blazes through your chart this month, Leo, amplifying your natural radiance to extraordinary levels. Creative projects, leadership opportunities, and romantic adventures all flourish. The first two weeks are your time to shine most brilliantly in professional settings. Mid-month sparks a beautiful creative breakthrough. The final weeks bring well-deserved recognition and celebration.",weeks:[{title:"Week 1: Perform",focus:"Professional visibility and leadership",advice:"Step forward boldly  the spotlight is yours and you deserve it."},{title:"Week 2: Create",focus:"Artistic and expressive projects",advice:"Your creativity is at its most magnetic peak. Create freely."},{title:"Week 3: Breakthrough",focus:"Creative and personal breakthrough",advice:"One inspired idea this week changes your trajectory significantly."},{title:"Week 4: Celebrate",focus:"Recognition and joy",advice:"Receive praise with genuine grace. You have earned every bit of it."}],scores:{love:87,career:95,health:89,finance:82},transits:[{planet:"Sun",effect:"Maximizes your radiance, confidence, and appeal",date:"All month"},{planet:"Mars",effect:"Fuels creative fire and competitive drive",date:"Week 1-2"},{planet:"Jupiter",effect:"Brings abundant recognition and opportunity",date:"Week 4"}],intentions:["I shine my light for all to see","I create with joy and bold confidence","I am worthy of celebration"]},Virgo:{theme:"Precision & Mastery",powerCrystal:"Jade",powerColor:"#01FF70",overview:"Mercury sharpens your analytical genius to a perfect edge this month, Virgo. Systems you improve, details you catch, and processes you refine create remarkable outcomes. The first half rewards meticulous work with significant recognition. Mid-month brings an opportunity to demonstrate your expertise in an important setting. The final weeks deliver the satisfying results of your careful, dedicated efforts.",weeks:[{title:"Week 1: Analyze",focus:"Problem-solving and process improvement",advice:"The system flaw you identify and fix this week saves enormous resources."},{title:"Week 2: Refine",focus:"Perfecting and optimizing",advice:"Your attention to detail elevates everything it touches."},{title:"Week 3: Demonstrate",focus:"Showcasing expertise",advice:"Share your knowledge  your mastery deserves an audience."},{title:"Week 4: Deliver",focus:"Completing and celebrating results",advice:"The work is done. Accept the praise it earns with humility and pride."}],scores:{love:76,career:94,health:90,finance:85},transits:[{planet:"Mercury",effect:"Amplifies analytical thinking and precision",date:"All month"},{planet:"Saturn",effect:"Rewards systematic effort with lasting achievement",date:"Week 2-3"},{planet:"Chiron",effect:"Heals perfectionism, invites compassionate standards",date:"Week 4"}],intentions:["I achieve excellence through dedication","I serve with precision and love","My work creates lasting positive impact"]},Libra:{theme:"Balance & Beauty",powerCrystal:"Rose Quartz",powerColor:"#FF69B4",overview:"Venus graces your entire month with exceptional beauty, harmony, and relationship magic, Libra. Partnerships  both personal and professional  reach meaningful new depth. The first two weeks are ideal for important negotiations and creative collaborations. Mid-month, a heartfelt conversation transforms a key relationship beautifully. The final weeks bring the balanced, harmonious life you have been consciously creating.",weeks:[{title:"Week 1: Harmonize",focus:"Relationship alignment and collaboration",advice:"The partnership conversation you've been avoiding brings beautiful resolution."},{title:"Week 2: Negotiate",focus:"Agreements and contracts",advice:"Your diplomatic genius creates solutions that honor everyone involved."},{title:"Week 3: Deepen",focus:"Emotional intimacy and truth",advice:"Vulnerability in one key relationship creates unbreakable connection."},{title:"Week 4: Balance",focus:"Achieving harmony across all areas",advice:"You have created beauty. Take a moment to genuinely appreciate it."}],scores:{love:95,career:83,health:79,finance:80},transits:[{planet:"Venus",effect:"Blesses relationships and creative work with grace",date:"All month"},{planet:"Jupiter",effect:"Expands love, partnership, and social abundance",date:"Week 1-2"},{planet:"Mercury",effect:"Facilitates perfect diplomacy and elegant communication",date:"Week 2-3"}],intentions:["I create harmony in all my relationships","I attract beauty and balance effortlessly","Love flows freely through my life"]},Scorpio:{theme:"Transformation & Power",powerCrystal:"Obsidian",powerColor:"#85144b",overview:"Pluto intensifies your month with powerful transformation and breakthrough energy, Scorpio. Hidden truths surface, outdated patterns dissolve, and your authentic power rises. The first two weeks are potent for strategic moves and research that others miss. Mid-month brings a pivotal revelation that accelerates your transformation. The final weeks reveal the extraordinary version of yourself that was waiting beneath the surface.",weeks:[{title:"Week 1: Investigate",focus:"Research, strategy, and uncovering truth",advice:"The information you seek is closer than it appears. Look beneath the surface."},{title:"Week 2: Strategize",focus:"Power moves and intentional positioning",advice:"Make your move now  your timing and instincts are perfectly calibrated."},{title:"Week 3: Transform",focus:"Releasing old patterns and emerging anew",advice:"The old story ends here. Step fearlessly into the powerful new chapter."},{title:"Week 4: Rise",focus:"Claiming your authentic power",advice:"You have transformed. Own your power completely and unapologetically."}],scores:{love:88,career:90,health:78,finance:86},transits:[{planet:"Pluto",effect:"Catalyzes deep transformation and power awakening",date:"All month"},{planet:"Mars",effect:"Provides the courage to act on your deepest truths",date:"Week 1-2"},{planet:"Neptune",effect:"Dissolves illusions, revealing authentic reality",date:"Week 3"}],intentions:["I embrace transformation fearlessly","I claim my full authentic power","I rise from every challenge stronger"]},Sagittarius:{theme:"Freedom & Wisdom",powerCrystal:"Turquoise",powerColor:"#3D9970",overview:"Jupiter expands every horizon in your world this month, Sagittarius. Adventures  physical, intellectual, and spiritual  call your name irresistibly. The first two weeks are exceptional for travel, higher learning, and philosophical exploration. Mid-month brings a wisdom insight that shifts your entire perspective. The final weeks see your expansive vision attracting exactly the opportunities it needs to manifest.",weeks:[{title:"Week 1: Explore",focus:"Adventure, travel, and new horizons",advice:"Say yes to the unexpected opportunity  it expands your world beautifully."},{title:"Week 2: Learn",focus:"Higher education and philosophical growth",advice:"The teacher or teaching that appears now is exactly what your soul has been seeking."},{title:"Week 3: Insight",focus:"Wisdom integration and perspective shift",advice:"One profound realization this week changes how you see everything."},{title:"Week 4: Manifest",focus:"Vision becoming tangible reality",advice:"Your expanded perspective is now attracting aligned opportunities."}],scores:{love:81,career:89,health:92,finance:79},transits:[{planet:"Jupiter",effect:"Maximizes expansion, luck, and philosophical growth",date:"All month"},{planet:"Sun",effect:"Illuminates your authentic truth and purpose",date:"Week 1-2"},{planet:"Uranus",effect:"Delivers exciting, unexpected breakthroughs",date:"Week 3"}],intentions:["I embrace adventure and growth fearlessly","I seek and share wisdom generously","My freedom creates my greatest achievements"]},Capricorn:{theme:"Achievement & Legacy",powerCrystal:"Garnet",powerColor:"#AAAAAA",overview:"Saturn rewards your consistent discipline with remarkable recognition this month, Capricorn. Career matters dominate the first two weeks  a major opportunity, promotion, or responsibility arrives that reflects your years of dedicated work. Mid-month calls for grounding your ambition with personal warmth. The final weeks plant the seeds of a new achievement cycle that will define your legacy.",weeks:[{title:"Week 1: Ascend",focus:"Career breakthrough and authority",advice:"The opportunity that arrives this week is the one you have worked years to deserve."},{title:"Week 2: Lead",focus:"Stepping into greater responsibility",advice:"Accept the expanded role with the confidence your experience has fully earned."},{title:"Week 3: Balance",focus:"Integrating ambition with personal life",advice:"Success means nothing without the people who matter most. Invest in them."},{title:"Week 4: Plant",focus:"Sowing seeds for the next achievement cycle",advice:"One intentional investment now compounds into extraordinary results."}],scores:{love:75,career:96,health:80,finance:91},transits:[{planet:"Saturn",effect:"Rewards long-term discipline with career elevation",date:"All month"},{planet:"Jupiter",effect:"Brings abundant recognition and material rewards",date:"Week 1-2"},{planet:"Venus",effect:"Softens ambition with genuine warmth and connection",date:"Week 3"}],intentions:["I build my legacy with patience and excellence","I master every challenge I face","My disciplined efforts create lasting abundance"]},Aquarius:{theme:"Revolution & Vision",powerCrystal:"Amethyst",powerColor:"#00B4D8",overview:"Uranus electrifies your month with breakthrough energy and revolutionary insights, Aquarius. Your most unconventional ideas are exactly what the world needs. The early weeks are exceptional for innovation, technology, and community building. Mid-month, a group project or collaborative venture gains unstoppable momentum. The final days bring a meaningful connection that feeds your vision and accelerates your impact.",weeks:[{title:"Week 1: Innovate",focus:"Breakthrough ideas and technology",advice:"The unconventional solution you're hesitating to share is the right one. Share it."},{title:"Week 2: Connect",focus:"Community and collaborative energy",advice:"Your network is your greatest resource this week. Activate it intentionally."},{title:"Week 3: Build",focus:"Collaborative momentum and group projects",advice:"The collective vision gains power when you step fully into your leadership role."},{title:"Week 4: Vision",focus:"Future-oriented planning and meaningful connection",advice:"The person or idea that arrives this week expands your vision of what's possible."}],scores:{love:79,career:92,health:81,finance:83},transits:[{planet:"Uranus",effect:"Catalyzes innovation, breakthroughs, and liberation",date:"All month"},{planet:"Saturn",effect:"Grounds revolutionary ideas into lasting structures",date:"Week 2-3"},{planet:"Jupiter",effect:"Expands community influence and humanitarian reach",date:"Week 4"}],intentions:["I think beyond all conventional limits","I innovate for the benefit of all humanity","My unique vision creates positive global change"]},Pisces:{theme:"Surrender & Magic",powerCrystal:"Amethyst",powerColor:"#74C0FC",overview:"Neptune wraps your entire month in luminous, magical energy, Pisces. Your creative gifts, spiritual sensitivity, and psychic abilities are operating at their absolute peak. The opening weeks are extraordinary for artistic work and spiritual practice. Mid-month, a full moon illuminates a profound emotional truth that sets you free. The final days bring a soul connection or spiritual experience that opens an entirely new chapter.",weeks:[{title:"Week 1: Create",focus:"Artistic expression and spiritual practice",advice:"Create without judgment this week  your most inspired work emerges from pure flow."},{title:"Week 2: Flow",focus:"Intuition and emotional intelligence",advice:"Follow the current rather than fighting it  the universe knows the best path."},{title:"Week 3: Illuminate",focus:"Emotional truth and release",advice:"The full moon reveals what you've been avoiding. Face it  freedom awaits."},{title:"Week 4: Connect",focus:"Soul connections and new chapters",advice:"The arrival at month's end  whether a person or an insight  is profoundly significant."}],scores:{love:94,career:79,health:76,finance:74},transits:[{planet:"Neptune",effect:"Maximizes creativity, spirituality, and psychic gifts",date:"All month"},{planet:"Venus",effect:"Deepens romantic and spiritual love",date:"Week 1-2"},{planet:"Full Moon",effect:"Illuminates emotional truths and enables release",date:"Week 3"}],intentions:["I surrender to the magic of the universe","I trust the wisdom of my deepest feelings","I create beauty and healing wherever I flow"]}};function Lv(){const{profile:e}=at(),t=(e!=null&&e.date_of_birth?ht(e.date_of_birth):null)||(e==null?void 0:e.zodiac_sign)||"Aries",r=mc[t]||mc.Aries,n=new Date,s=Iv[n.getMonth()],i=new Date(n.getFullYear(),n.getMonth()+1,0).getDate(),a=n.getDate(),[l,u]=S.useState(null),[c,d]=S.useState(["","",""]),[p,h]=S.useState(!1),[y,g]=S.useState(null),w=m=>m>=85?"#22c55e":m>=70?"#f59e0b":"#ef4444",b=m=>m>=85?"Excellent":m>=70?"Good":"Challenging";return o.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto pb-16 relative z-10",children:[o.jsx("style",{children:`
        .cal-day:hover { transform: scale(1.1); transition: all .15s; }
        .pulse-glow { animation: pulse-ring 3s ease infinite; }
        @keyframes pulse-ring { 0%,100%{opacity:.6} 50%{opacity:1} }
      `}),o.jsxs("div",{className:"rounded-3xl p-6 relative overflow-hidden",style:{background:"linear-gradient(135deg, rgba(45,27,105,0.9), rgba(10,1,24,0.95))",border:`1px solid ${r.powerColor}44`},children:[o.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 rounded-full opacity-15",style:{background:`radial-gradient(circle, ${r.powerColor}, transparent)`,transform:"translate(30%, -30%)"}}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("p",{className:"text-xs tracking-widest uppercase mb-1",style:{color:r.powerColor},children:[s,"  ",t]}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:r.theme}),o.jsx("div",{className:"flex gap-2 mb-4",children:o.jsxs("span",{className:"px-2 py-1 rounded-lg text-xs",style:{background:`${r.powerColor}25`,color:r.powerColor},children:[" ",r.powerCrystal]})}),o.jsx("p",{className:"text-sm text-white/75 leading-relaxed",children:r.overview})]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:" Monthly Cosmic Scores"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(r.scores).map(([m,f])=>o.jsxs("div",{className:"p-4 rounded-xl",style:{background:`${w(f)}10`,border:`1px solid ${w(f)}30`},children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm text-white/70 capitalize",children:m}),o.jsx("span",{className:"text-sm font-bold",style:{color:w(f)},children:b(f)})]}),o.jsx("div",{className:"h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.08)"},children:o.jsx("div",{className:"h-full rounded-full",style:{width:`${f}%`,background:`linear-gradient(90deg, ${w(f)}88, ${w(f)})`}})}),o.jsxs("span",{className:"text-xs text-white/40 mt-1 block",children:[f,"/100"]})]},m))})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:" Weekly Breakdown"}),o.jsx("div",{className:"space-y-3",children:r.weeks.map((m,f)=>o.jsxs("div",{children:[o.jsx("button",{onClick:()=>u(l===f?null:f),className:"w-full text-left p-4 rounded-xl transition-all",style:{background:l===f?`${r.powerColor}18`:"rgba(255,255,255,0.04)",border:`1px solid ${l===f?r.powerColor+"44":"rgba(255,255,255,0.08)"}`},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-semibold text-white",children:m.title}),o.jsx("span",{className:"text-xs",style:{color:r.powerColor},children:m.focus})]})}),l===f&&o.jsx("div",{className:"mt-2 p-4 rounded-xl",style:{background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)"},children:o.jsxs("p",{className:"text-sm text-white/80 leading-relaxed",children:[" ",m.advice]})})]},f))})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsxs("h2",{className:"text-lg font-semibold text-white mb-4",children:[" ",s," at a Glance"]}),o.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(m=>o.jsx("div",{className:"text-center text-xs text-white/40 pb-2",children:m},m)),Array.from({length:i},(m,f)=>f+1).map(m=>o.jsx("div",{className:"cal-day text-center text-xs rounded-lg p-1.5 cursor-default",style:{background:m===a?`${r.powerColor}40`:"rgba(255,255,255,0.04)",border:`1px solid ${m===a?r.powerColor:"rgba(255,255,255,0.06)"}`,color:m===a?"white":m<a?"rgba(255,255,255,0.3)":"rgba(255,255,255,0.7)",fontWeight:m===a?700:400},children:m},m))]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:" Key Planetary Influences"}),o.jsx("div",{className:"space-y-3",children:r.transits.map((m,f)=>o.jsxs("div",{children:[o.jsx("button",{onClick:()=>g(y===f?null:f),className:"w-full text-left p-4 rounded-xl transition-all",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-semibold text-cyan-400",children:m.planet}),o.jsx("span",{className:"text-xs text-purple-400",children:m.date})]})}),y===f&&o.jsx("div",{className:"mt-2 p-3 rounded-xl",style:{background:"rgba(0,191,255,0.05)",border:"1px solid rgba(0,191,255,0.2)"},children:o.jsx("p",{className:"text-sm text-white/80",children:m.effect})})]},f))})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{background:"rgba(255,255,255,0.04)",border:"1px solid rgba(255,255,255,0.08)"},children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-2",children:" Monthly Intentions"}),o.jsxs("p",{className:"text-xs text-white/40 mb-4",children:["Set three intentions to align with ",s,"\\'s cosmic energy"]}),o.jsx("div",{className:"space-y-3 mb-4",children:c.map((m,f)=>o.jsx("input",{value:m,onChange:v=>d(x=>{const _=[...x];return _[f]=v.target.value,_}),placeholder:r.intentions[f],className:"w-full px-4 py-2.5 rounded-xl text-sm text-white placeholder-white/30 outline-none",style:{background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)"}},f))}),o.jsx("button",{onClick:()=>{h(!0),setTimeout(()=>h(!1),2e3)},className:"px-5 py-2 rounded-full text-sm font-medium transition-all",style:{background:`${r.powerColor}25`,color:r.powerColor,border:`1px solid ${r.powerColor}44`},children:p?" Intentions Set!":" Set Intentions"})]})]})}const Na={Aries:"",Taurus:"",Gemini:"",Cancer:"",Leo:"",Virgo:"",Libra:"",Scorpio:"",Sagittarius:"",Capricorn:"",Aquarius:"",Pisces:""},$v={Aries:"Fire",Leo:"Fire",Sagittarius:"Fire",Taurus:"Earth",Virgo:"Earth",Capricorn:"Earth",Gemini:"Air",Libra:"Air",Aquarius:"Air",Cancer:"Water",Scorpio:"Water",Pisces:"Water"},Dv={Fire:"#FF6B35",Earth:"#8B7355",Air:"#87CEEB",Water:"#4169E1"},gc=["","","","","","","",""],vn=["#7B61FF","#FF6B9D","#06B6D4","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],wn={background:"linear-gradient(135deg, rgba(45,27,105,0.6), rgba(10,1,24,0.8))",border:"1px solid rgba(123,97,255,0.2)"};function zv(){const{profile:e,user:t,refreshProfile:r}=at(),[n,s]=S.useState(!1),[i,a]=S.useState((e==null?void 0:e.full_name)||""),[l,u]=S.useState((e==null?void 0:e.date_of_birth)||""),[c,d]=S.useState((e==null?void 0:e.gender)||""),[p,h]=S.useState(!1),[y,g]=S.useState("");S.useEffect(()=>{e&&(a(e.full_name||""),u(e.date_of_birth||""),d(e.gender||""))},[e]);const w=l?ht(l):(e==null?void 0:e.zodiac_sign)||"",[b,m]=S.useState(!1),[f,v]=S.useState(""),[x,_]=S.useState(""),[k,E]=S.useState(""),[N,O]=S.useState(""),[P,Y]=S.useState(!1),[z,ae]=S.useState(0),[ue,je]=S.useState(0),[T,V]=S.useState({dailyHoroscope:!0,fullMoonAlert:!0,weeklyForecast:!1,compatibilityUpdates:!1,cosmicEvents:!0,emailDigest:!1}),[C,I]=S.useState(!1),[D,Z]=S.useState(""),B=(e==null?void 0:e.zodiac_sign)||w||"",Et=$v[B]||"Air",Ee=Dv[Et]||"#7B61FF",ln=t!=null&&t.created_at?new Date(t.created_at).toLocaleDateString("en-US",{month:"long",year:"numeric"}):"Unknown";async function ft(){if(!(t!=null&&t.id))return;h(!0),g("");const U=l?ht(l):(e==null?void 0:e.zodiac_sign)||"",{error:me}=await q.from("profiles").update({full_name:i,date_of_birth:l||null,gender:c||null,zodiac_sign:U}).eq("id",t.id);me?g("Failed to save: "+me.message):(await r(),g("Profile updated successfully!"),s(!1)),h(!1),setTimeout(()=>g(""),4e3)}async function yr(){if(x!==k){O("Passwords do not match.");return}if(x.length<6){O("Password must be at least 6 characters.");return}Y(!0),O("");const{error:U}=await q.auth.updateUser({password:x});O(U?"Error: "+U.message:"Password updated successfully!"),Y(!1),U||(v(""),_(""),E(""),m(!1)),setTimeout(()=>O(""),4e3)}const vr="w-full px-3 py-2 rounded-xl text-white text-sm outline-none",wr={background:"rgba(255,255,255,0.07)",border:"1px solid rgba(123,97,255,0.3)"};return o.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6 pb-16",children:[o.jsx("style",{children:"@keyframes avatar-pulse { 0%,100%{box-shadow:0 0 20px rgba(123,97,255,0.3)} 50%{box-shadow:0 0 40px rgba(123,97,255,0.6)} }"}),o.jsxs("div",{className:"rounded-3xl p-6 text-center",style:{background:"linear-gradient(135deg, rgba(45,27,105,0.9), rgba(10,1,24,0.95))",border:`1px solid ${Ee}44`},children:[o.jsxs("div",{className:"relative inline-block mb-4",children:[o.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mx-auto text-4xl font-bold cursor-pointer",style:{background:`radial-gradient(circle, ${vn[ue]}55, ${vn[ue]}22)`,border:`3px solid ${vn[ue]}80`,animation:"avatar-pulse 4s ease infinite",color:vn[ue]},children:gc[z]}),o.jsx("div",{className:"absolute -bottom-1 -right-1 text-2xl",style:{filter:`drop-shadow(0 0 6px ${Ee})`},children:Na[B]||""})]}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:(e==null?void 0:e.full_name)||"Cosmic Traveler"}),o.jsx("p",{className:"text-sm text-white/50 mb-1",children:t==null?void 0:t.email}),o.jsxs("div",{className:"flex justify-center gap-2 mt-2 flex-wrap",children:[o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{background:`${Ee}25`,color:Ee},children:[Et,"  ",B||"Unknown Sign"]}),o.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium",style:{background:"rgba(255,255,255,0.08)",color:"rgba(255,255,255,0.5)"},children:["Member since ",ln]})]}),o.jsxs("div",{className:"mt-5 pt-5 border-t border-white/10",children:[o.jsx("p",{className:"text-xs text-white/40 mb-3 uppercase tracking-wider",children:"Customize Avatar"}),o.jsx("div",{className:"flex justify-center gap-2 mb-3 flex-wrap",children:gc.map((U,me)=>o.jsx("button",{onClick:()=>ae(me),className:"w-9 h-9 rounded-lg text-lg transition-all",style:{background:z===me?"rgba(123,97,255,0.4)":"rgba(255,255,255,0.06)",border:`1px solid ${z===me?"rgba(123,97,255,0.6)":"rgba(255,255,255,0.1)"}`,color:z===me?"#e0d7ff":"rgba(255,255,255,0.5)"},children:U},me))}),o.jsx("div",{className:"flex justify-center gap-2",children:vn.map((U,me)=>o.jsx("button",{onClick:()=>je(me),className:"w-7 h-7 rounded-full transition-all",style:{background:U,border:`2px solid ${ue===me?"white":"transparent"}`,transform:ue===me?"scale(1.2)":"scale(1)"}},me))})]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:wn,children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:" Account Details"}),n?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{s(!1),a((e==null?void 0:e.full_name)||""),u((e==null?void 0:e.date_of_birth)||""),d((e==null?void 0:e.gender)||"")},className:"text-xs px-3 py-1.5 rounded-lg",style:{background:"rgba(255,255,255,0.06)",color:"rgba(255,255,255,0.5)",border:"1px solid rgba(255,255,255,0.12)"},children:"Cancel"}),o.jsx("button",{onClick:ft,disabled:p,className:"text-xs px-3 py-1.5 rounded-lg",style:{background:"rgba(34,197,94,0.25)",color:"#86efac",border:"1px solid rgba(34,197,94,0.35)"},children:p?"Saving...":"Save"})]}):o.jsx("button",{onClick:()=>s(!0),className:"text-xs px-3 py-1.5 rounded-lg",style:{background:"rgba(123,97,255,0.2)",color:"#a78bfa",border:"1px solid rgba(123,97,255,0.3)"},children:"Edit"})]}),y&&o.jsx("div",{className:"mb-3 text-xs text-green-400",children:y}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"Full Name"}),n?o.jsx("input",{value:i,onChange:U=>a(U.target.value),className:vr,style:wr}):o.jsx("p",{className:"text-sm text-white",children:(e==null?void 0:e.full_name)||""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"Email"}),o.jsx("p",{className:"text-sm text-white",children:(t==null?void 0:t.email)||""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"Date of Birth"}),n?o.jsxs("div",{children:[o.jsx("input",{type:"date",value:l,onChange:U=>u(U.target.value),className:vr,style:{...wr,colorScheme:"dark"}}),l&&o.jsxs("p",{className:"mt-1 text-xs text-cyan-400",children:["Detected sign: ",o.jsx("strong",{children:ht(l)||""})]})]}):o.jsx("p",{className:"text-sm text-white",children:e!=null&&e.date_of_birth?new Date(e.date_of_birth+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"Gender"}),n?o.jsxs("select",{value:c,onChange:U=>d(U.target.value),className:vr,style:{...wr,cursor:"pointer"},children:[o.jsx("option",{value:"",children:"Select gender"}),o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"}),o.jsx("option",{value:"Other",children:"Other"})]}):o.jsx("p",{className:"text-sm text-white",children:(e==null?void 0:e.gender)||""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"Zodiac Sign"}),o.jsx("p",{className:"text-sm text-white flex items-center gap-1",children:B?o.jsxs(o.Fragment,{children:[o.jsx("span",{children:Na[B]}),o.jsx("span",{children:B})]}):o.jsx("span",{className:"text-white/30",children:"Set your date of birth to auto-detect"})})]})]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:wn,children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:" Password"}),o.jsx("button",{onClick:()=>m(!b),className:"text-xs px-3 py-1.5 rounded-lg",style:{background:"rgba(123,97,255,0.2)",color:"#a78bfa",border:"1px solid rgba(123,97,255,0.3)"},children:b?"Cancel":"Change Password"})]}),N&&o.jsx("div",{className:"mb-3 text-xs text-cyan-400",children:N}),b&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"New Password"}),o.jsx("input",{type:"password",value:x,onChange:U=>_(U.target.value),placeholder:"New password",className:vr,style:wr})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs text-white/40 mb-1",children:"Confirm New Password"}),o.jsx("input",{type:"password",value:k,onChange:U=>E(U.target.value),placeholder:"Confirm new password",className:vr,style:wr})]}),o.jsx("button",{onClick:yr,disabled:P,className:"px-4 py-2 rounded-lg text-sm font-medium",style:{background:"rgba(123,97,255,0.3)",color:"#e0d7ff",border:"1px solid rgba(123,97,255,0.5)"},children:P?"Updating...":"Update Password"})]})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:wn,children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:" Cosmic Birth Profile"}),B?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative flex items-center justify-center mb-5",style:{height:"200px"},children:[o.jsx("div",{className:"w-32 h-32 rounded-full flex items-center justify-center text-5xl",style:{background:`radial-gradient(circle, ${Ee}22, transparent)`,border:`2px solid ${Ee}44`},children:Na[B]||""}),[{label:"Sun ",value:B,angle:0},{label:"Moon ",value:"Intuitive",angle:60},{label:"Rising ",value:"Ambitious",angle:120},{label:"Venus ",value:"Romantic",angle:180},{label:"Mars ",value:"Dynamic",angle:240},{label:"Mercury ",value:"Articulate",angle:300}].map(U=>{const ps=(U.angle-90)*Math.PI/180,ms=50+85*Math.cos(ps),tf=50+85*Math.sin(ps);return o.jsxs("div",{className:"absolute text-center",style:{left:`calc(${ms}% - 32px)`,top:`calc(${tf}% - 20px)`,transform:"translate(-50%,-50%)"},children:[o.jsx("div",{className:"text-xs text-white/50 whitespace-nowrap",children:U.label}),o.jsx("div",{className:"text-xs font-medium text-purple-300 whitespace-nowrap",children:U.value})]},U.label)})]}),o.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{icon:"",label:"Element",value:Et},{icon:"",label:"Quality",value:["Aries","Cancer","Libra","Capricorn"].includes(B)?"Cardinal":["Taurus","Leo","Scorpio","Aquarius"].includes(B)?"Fixed":"Mutable"},{icon:"",label:"Polarity",value:["Aries","Gemini","Leo","Libra","Sagittarius","Aquarius"].includes(B)?"Positive":"Negative"}].map(U=>o.jsxs("div",{className:"text-center p-3 rounded-xl",style:{background:"rgba(255,255,255,0.04)"},children:[o.jsx("div",{className:"text-xl mb-1",children:U.icon}),o.jsx("div",{className:"text-xs text-white/40",children:U.label}),o.jsx("div",{className:"text-sm font-medium",style:{color:Ee},children:U.value})]},U.label))})]}):o.jsx("div",{className:"text-center py-6 text-white/40 text-sm",children:"Add your date of birth above to reveal your cosmic birth profile "})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:wn,children:[o.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:" Notifications"}),o.jsx("div",{className:"space-y-3",children:Object.entries(T).map(([U,me])=>{const ps={dailyHoroscope:"Daily Horoscope",fullMoonAlert:"Full Moon Alert",weeklyForecast:"Weekly Forecast",compatibilityUpdates:"Compatibility Updates",cosmicEvents:"Cosmic Events",emailDigest:"Email Digest"};return o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-white/70",children:ps[U]}),o.jsx("button",{onClick:()=>V(ms=>({...ms,[U]:!ms[U]})),className:"w-10 h-5 rounded-full transition-all relative",style:{background:me?"rgba(123,97,255,0.6)":"rgba(255,255,255,0.1)"},children:o.jsx("div",{className:"w-4 h-4 rounded-full bg-white absolute top-0.5 transition-all",style:{left:me?"22px":"2px"}})})]},U)})})]}),o.jsxs("div",{className:"rounded-2xl p-6",style:{...wn,borderColor:"rgba(239,68,68,0.2)"},children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h2",{className:"text-lg font-semibold text-red-400",children:" Danger Zone"}),o.jsx("button",{onClick:()=>I(!C),className:"text-xs px-3 py-1.5 rounded-lg",style:{background:"rgba(239,68,68,0.1)",color:"#f87171",border:"1px solid rgba(239,68,68,0.3)"},children:C?"Hide":"Show"})]}),C&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("p",{className:"text-xs text-white/50",children:["Type ",o.jsx("strong",{className:"text-white",children:"DELETE"})," to permanently delete your account. This cannot be undone."]}),o.jsx("input",{value:D,onChange:U=>Z(U.target.value),placeholder:"Type DELETE to confirm",className:vr,style:{...wr,borderColor:"rgba(239,68,68,0.3)"}}),o.jsx("button",{disabled:D!=="DELETE",className:"px-4 py-2 rounded-lg text-sm font-medium transition-all",style:{background:D==="DELETE"?"rgba(239,68,68,0.3)":"rgba(255,255,255,0.05)",color:D==="DELETE"?"#f87171":"rgba(255,255,255,0.2)",border:`1px solid ${D==="DELETE"?"rgba(239,68,68,0.5)":"rgba(255,255,255,0.1)"}`,cursor:D==="DELETE"?"pointer":"not-allowed"},children:"Delete Account"})]})]})]})}const Ca={Aries:"",Taurus:"",Gemini:"",Cancer:"",Leo:"",Virgo:"",Libra:"",Scorpio:"",Sagittarius:"",Capricorn:"",Aquarius:"",Pisces:""};function Mv(){var je;const{profile:e}=at(),[t,r]=S.useState(0),[n,s]=S.useState(0),[i,a]=S.useState([]),[l,u]=S.useState([]),[c,d]=S.useState(!0),[p,h]=S.useState(""),[y,g]=S.useState("overview"),[w,b]=S.useState(null),[m,f]=S.useState(null),[v,x]=S.useState(null);async function _(){d(!0);const[T,V,C,I]=await Promise.all([q.from("profiles").select("*",{count:"exact",head:!0}).eq("role","user"),q.from("zodiac_signs").select("*",{count:"exact",head:!0}),q.from("profiles").select("*").order("created_at",{ascending:!1}).limit(5),q.from("profiles").select("*").order("created_at",{ascending:!1})]);r(T.count||0),s(V.count||0),a(C.data||[]),u(I.data||[]),d(!1)}S.useEffect(()=>{_()},[]);async function k(T){b(T),await q.from("profiles").delete().eq("id",T),b(null),f(null),await _()}async function E(T){x(T.id);const V=T.role==="admin"?"user":"admin";await q.from("profiles").update({role:V}).eq("id",T.id),x(null),await _()}const N=l.filter(T=>{var V,C,I;return((V=T.full_name)==null?void 0:V.toLowerCase().includes(p.toLowerCase()))||((C=T.zodiac_sign)==null?void 0:C.toLowerCase().includes(p.toLowerCase()))||((I=T.gender)==null?void 0:I.toLowerCase().includes(p.toLowerCase()))}),O={};l.forEach(T=>{T.zodiac_sign&&(O[T.zodiac_sign]=(O[T.zodiac_sign]||0)+1)});const P=Object.entries(O).sort((T,V)=>V[1]-T[1]).slice(0,5),Y=l.filter(T=>T.role==="admin").length,z=new Date,ae=z.getHours()<12?"Good Morning":z.getHours()<17?"Good Afternoon":"Good Evening",ue=T=>({background:`linear-gradient(135deg, ${T}15, rgba(10,22,40,0.95))`,border:`1px solid ${T}30`});return c?o.jsxs("div",{className:"p-8 flex items-center gap-3 text-slate-300",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-cyan-400 border-t-transparent rounded-full animate-spin"}),"Loading dashboard..."]}):o.jsxs("div",{className:"p-8 max-w-6xl",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("p",{className:"text-slate-500 text-xs uppercase tracking-widest mb-1",children:"Admin Panel"}),o.jsxs("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:[ae,", ",((je=e==null?void 0:e.full_name)==null?void 0:je.split(" ")[0])||"Admin"," "]}),o.jsx("p",{className:"text-slate-400 text-sm",children:z.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),o.jsx("div",{className:"flex gap-2 mb-8",children:["overview","users"].map(T=>o.jsx("button",{onClick:()=>g(T),className:"px-5 py-2 rounded-lg text-sm font-medium capitalize transition-all",style:{background:y===T?"rgba(0,191,255,0.2)":"rgba(255,255,255,0.04)",color:y===T?"#7dd3fc":"rgba(255,255,255,0.4)",border:`1px solid ${y===T?"rgba(0,191,255,0.4)":"rgba(255,255,255,0.08)"}`},children:T==="overview"?" Overview":" Manage Users"},T))}),y==="overview"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[{icon:Ni,label:"Total Users",value:t,color:"#00BFFF"},{icon:os,label:"Zodiac Signs",value:n,color:"#7B61FF"},{icon:ur,label:"Admins",value:Y,color:"#F59E0B"},{icon:ef,label:"Est. Active",value:Math.max(1,Math.floor(t*.3)),color:"#22c55e"}].map(({icon:T,label:V,value:C,color:I})=>o.jsxs("div",{className:"rounded-2xl p-5",style:ue(I),children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx(T,{size:20,style:{color:I}}),o.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{background:`${I}15`,color:I},children:"live"})]}),o.jsx("p",{className:"text-3xl font-bold text-white mb-1",children:C}),o.jsx("p",{className:"text-slate-400 text-xs",children:V})]},V))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"rgba(10,22,40,0.8)",border:"1px solid rgba(0,191,255,0.15)"},children:[o.jsxs("div",{className:"px-6 py-4 border-b border-blue-900/30 flex items-center gap-2",children:[o.jsx(dv,{size:15,className:"text-cyan-400"}),o.jsx("h3",{className:"text-white font-semibold text-sm",children:"Recent Registrations"})]}),i.length===0?o.jsx("p",{className:"px-6 py-8 text-slate-500 text-sm text-center",children:"No users yet."}):o.jsx("div",{className:"divide-y divide-blue-900/20",children:i.map(T=>{var V,C;return o.jsxs("div",{className:"px-6 py-3 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm flex-shrink-0",style:{background:"rgba(123,97,255,0.2)",color:"#a78bfa"},children:((C=(V=T.full_name)==null?void 0:V[0])==null?void 0:C.toUpperCase())||"?"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white text-sm font-medium truncate",children:T.full_name||"Unknown"}),o.jsx("p",{className:"text-slate-500 text-xs",children:new Date(T.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),o.jsx("span",{className:"text-lg flex-shrink-0",title:T.zodiac_sign,children:Ca[T.zodiac_sign]||""}),o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full flex-shrink-0 ${T.role==="admin"?"text-yellow-400 bg-yellow-400/10 border border-yellow-400/20":"text-slate-400 bg-slate-400/10 border border-slate-400/20"}`,children:T.role})]},T.id)})})]}),o.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"rgba(10,22,40,0.8)",border:"1px solid rgba(123,97,255,0.15)"},children:[o.jsxs("div",{className:"px-6 py-4 border-b border-purple-900/30 flex items-center gap-2",children:[o.jsx(os,{size:15,className:"text-purple-400"}),o.jsx("h3",{className:"text-white font-semibold text-sm",children:"Top Zodiac Signs Among Users"})]}),P.length===0?o.jsx("p",{className:"px-6 py-8 text-slate-500 text-sm text-center",children:"No data yet."}):o.jsx("div",{className:"px-6 py-4 space-y-3",children:P.map(([T,V])=>o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-xl w-7 text-center",children:Ca[T]||""}),o.jsx("span",{className:"text-white text-sm w-24",children:T}),o.jsx("div",{className:"flex-1 h-2 rounded-full overflow-hidden",style:{background:"rgba(255,255,255,0.08)"},children:o.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${V/Math.max(1,t)*100}%`,background:"linear-gradient(90deg, #7B61FF, #00BFFF)"}})}),o.jsx("span",{className:"text-cyan-400 text-sm font-bold w-6 text-right",children:V})]},T))})]})]})]}),y==="users"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative mb-5 max-w-md",children:[o.jsx(Qh,{size:15,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",value:p,onChange:T=>h(T.target.value),placeholder:"Search by name, sign, or gender...",className:"w-full pl-10 pr-4 py-3 rounded-xl text-white placeholder-slate-500 outline-none text-sm",style:{background:"rgba(10,22,40,0.8)",border:"1px solid rgba(0,191,255,0.2)"}})]}),o.jsxs("p",{className:"text-slate-500 text-xs mb-3",children:[N.length," of ",l.length," accounts"]}),o.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"rgba(10,22,40,0.7)",border:"1px solid rgba(0,191,255,0.15)"},children:[o.jsxs("div",{className:"grid px-5 py-3 border-b border-blue-900/30 text-xs uppercase tracking-wider text-slate-500",style:{gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr"},children:[o.jsx("div",{children:"User"}),o.jsx("div",{children:"Sign"}),o.jsx("div",{children:"Gender"}),o.jsx("div",{children:"Role"}),o.jsx("div",{className:"text-right",children:"Actions"})]}),N.length===0?o.jsxs("div",{className:"px-5 py-10 text-center text-slate-500 flex flex-col items-center gap-2",children:[o.jsx(Ni,{size:24}),o.jsx("p",{className:"text-sm",children:"No users found."})]}):o.jsx("div",{className:"divide-y divide-blue-900/20",children:N.map(T=>{var V,C;return o.jsxs("div",{className:"grid px-5 py-4 items-center hover:bg-white/[0.02] transition-colors",style:{gridTemplateColumns:"2fr 1fr 1fr 1fr 1fr"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm flex-shrink-0 font-bold",style:{background:"rgba(123,97,255,0.2)",color:"#a78bfa"},children:((C=(V=T.full_name)==null?void 0:V[0])==null?void 0:C.toUpperCase())||"?"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-white text-sm font-medium",children:T.full_name||""}),o.jsx("p",{className:"text-slate-500 text-xs",children:T.date_of_birth||"No DOB"})]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"text-lg",children:Ca[T.zodiac_sign]||""}),o.jsx("span",{className:"text-cyan-400 text-sm",children:T.zodiac_sign||""})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:T.gender||""}),o.jsx("div",{children:o.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${T.role==="admin"?"text-yellow-400 bg-yellow-400/10 border border-yellow-400/20":"text-slate-400 bg-slate-400/10 border border-slate-400/20"}`,children:T.role})}),o.jsx("div",{className:"flex items-center justify-end gap-2",children:T.id!==(e==null?void 0:e.id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>E(T),disabled:v===T.id,title:T.role==="admin"?"Demote to user":"Promote to admin",className:"p-1.5 rounded-lg transition-all hover:bg-yellow-400/10 disabled:opacity-50",style:{color:"#f59e0b"},children:o.jsx(hv,{size:14})}),m===T.id?o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>f(null),className:"text-xs text-slate-400 hover:text-white px-2 py-1 rounded",children:"Cancel"}),o.jsx("button",{onClick:()=>k(T.id),disabled:w===T.id,className:"text-xs px-2 py-1 rounded-lg disabled:opacity-60",style:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.3)",color:"#f87171"},children:w===T.id?"...":"Confirm"})]}):o.jsx("button",{onClick:()=>f(T.id),className:"p-1.5 rounded-lg transition-all hover:bg-red-400/10 text-slate-500 hover:text-red-400",children:o.jsx(Zh,{size:14})})]}):o.jsx("span",{className:"text-xs text-slate-600 italic",children:"you"})})]},T.id)})})]})]})]})}function Uv(){const[e,t]=S.useState([]),[r,n]=S.useState(!0),[s,i]=S.useState(null),[a,l]=S.useState(!1),[u,c]=S.useState("");async function d(){const{data:g}=await q.from("zodiac_signs").select("*").order("id");t(g||[]),n(!1)}S.useEffect(()=>{d()},[]);async function p(g){if(g.preventDefault(),!s)return;l(!0),c("");const{error:w}=await q.from("zodiac_signs").update({sign_name:s.sign_name,symbol:s.symbol,date_range:s.date_range,element:s.element,ruling_planet:s.ruling_planet,traits:s.traits,compatibility:s.compatibility,color_hex:s.color_hex,description:s.description,daily_horoscope:s.daily_horoscope,monthly_horoscope:s.monthly_horoscope}).eq("id",s.id);l(!1),w||(c("Saved successfully!"),await d(),setTimeout(()=>{c(""),i(null)},1500))}const h="w-full px-3 py-2 rounded-lg text-white placeholder-slate-500 outline-none text-sm",y={background:"rgba(10,22,40,0.8)",border:"1px solid rgba(0,191,255,0.2)"};return r?o.jsx("div",{className:"p-8 text-slate-300",children:"Loading zodiac signs..."}):o.jsxs("div",{className:"p-8 max-w-5xl",children:[o.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:"Manage Zodiac Signs"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Edit horoscope content for all 12 signs"})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-400",children:[o.jsx("span",{className:"w-2 h-2 rounded-full bg-cyan-400 inline-block"}),e.length," signs"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 mb-6",children:e.map(g=>o.jsxs("div",{className:"rounded-xl p-4 flex items-center gap-3 cursor-pointer transition-all hover:scale-105",style:{background:`linear-gradient(135deg, ${g.color_hex}15, rgba(10,22,40,0.8))`,border:`1px solid ${g.color_hex}33`},onClick:()=>i({...g}),children:[o.jsx("span",{className:"text-2xl",children:g.symbol}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-medium text-sm",children:g.sign_name}),o.jsx("p",{className:"text-slate-400 text-xs truncate",children:g.date_range})]}),o.jsx(fv,{size:14,style:{color:g.color_hex}})]},g.id))}),s&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{background:"rgba(0,0,0,0.7)",backdropFilter:"blur(8px)"},children:o.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl",style:{background:"linear-gradient(135deg, #0A1628, #1A2744)",border:"1px solid rgba(0,191,255,0.2)"},children:[o.jsxs("div",{className:"sticky top-0 px-6 py-4 border-b border-blue-900/30 flex items-center justify-between",style:{background:"rgba(10,22,40,0.95)",backdropFilter:"blur(8px)"},children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-2xl",children:s.symbol}),o.jsxs("h2",{className:"text-white font-bold",style:{fontFamily:"Cinzel, serif"},children:["Edit ",s.sign_name]})]}),o.jsx("button",{onClick:()=>i(null),className:"text-slate-400 hover:text-white",children:o.jsx(mv,{size:20})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[u&&o.jsx("div",{className:"p-3 rounded-lg text-green-300 text-sm",style:{background:"rgba(34,197,94,0.1)",border:"1px solid rgba(34,197,94,0.3)"},children:u}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Date Range"}),o.jsx("input",{value:s.date_range,onChange:g=>i({...s,date_range:g.target.value}),className:h,style:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Element"}),o.jsxs("select",{value:s.element,onChange:g=>i({...s,element:g.target.value}),className:h,style:{...y,WebkitAppearance:"none"},children:[o.jsx("option",{children:"Fire"}),o.jsx("option",{children:"Earth"}),o.jsx("option",{children:"Air"}),o.jsx("option",{children:"Water"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Ruling Planet"}),o.jsx("input",{value:s.ruling_planet,onChange:g=>i({...s,ruling_planet:g.target.value}),className:h,style:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Accent Color (hex)"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"color",value:s.color_hex,onChange:g=>i({...s,color_hex:g.target.value}),className:"w-10 h-9 rounded cursor-pointer bg-transparent border-0 p-0"}),o.jsx("input",{value:s.color_hex,onChange:g=>i({...s,color_hex:g.target.value}),className:`${h} flex-1`,style:y})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Traits (comma-separated)"}),o.jsx("input",{value:s.traits,onChange:g=>i({...s,traits:g.target.value}),className:h,style:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Compatibility (comma-separated)"}),o.jsx("input",{value:s.compatibility,onChange:g=>i({...s,compatibility:g.target.value}),className:h,style:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Description"}),o.jsx("textarea",{value:s.description,onChange:g=>i({...s,description:g.target.value}),rows:4,className:`${h} resize-none`,style:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Daily Horoscope"}),o.jsx("textarea",{value:s.daily_horoscope,onChange:g=>i({...s,daily_horoscope:g.target.value}),rows:4,className:`${h} resize-none`,style:y})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-slate-300 text-xs mb-1.5",children:"Monthly Horoscope"}),o.jsx("textarea",{value:s.monthly_horoscope,onChange:g=>i({...s,monthly_horoscope:g.target.value}),rows:4,className:`${h} resize-none`,style:y})]}),o.jsxs("div",{className:"flex gap-3 pt-2",children:[o.jsxs("button",{type:"submit",disabled:a,className:"flex items-center gap-2 px-6 py-2.5 rounded-xl text-white text-sm font-medium transition-all hover:scale-105 disabled:opacity-60",style:{background:"linear-gradient(135deg, #0A4D8C, #00BFFF33)",border:"1px solid rgba(0,191,255,0.4)"},children:[o.jsx(pv,{size:14})," ",a?"Saving...":"Save Changes"]}),o.jsx("button",{type:"button",onClick:()=>i(null),className:"px-6 py-2.5 rounded-xl text-slate-400 text-sm hover:text-white transition-colors",style:{border:"1px solid rgba(100,100,100,0.3)"},children:"Cancel"})]})]})]})})]})}function Fv(){const{profile:e}=at(),[t,r]=S.useState([]),[n,s]=S.useState(!0),[i,a]=S.useState(""),[l,u]=S.useState(null),[c,d]=S.useState(null);async function p(){const{data:w}=await q.from("profiles").select("*").order("created_at",{ascending:!1});r(w||[]),s(!1)}S.useEffect(()=>{p()},[]);async function h(w){u(w),await q.from("profiles").delete().eq("id",w),u(null),d(null),await p()}const y=t.filter(w=>w.full_name.toLowerCase().includes(i.toLowerCase())||w.zodiac_sign.toLowerCase().includes(i.toLowerCase())),g={Aries:"",Taurus:"",Gemini:"",Cancer:"",Leo:"",Virgo:"",Libra:"",Scorpio:"",Sagittarius:"",Capricorn:"",Aquarius:"",Pisces:""};return n?o.jsx("div",{className:"p-8 text-slate-300",children:"Loading users..."}):o.jsxs("div",{className:"p-8 max-w-5xl",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-1",style:{fontFamily:"Cinzel, serif"},children:"Manage Users"}),o.jsxs("p",{className:"text-slate-400 text-sm",children:[t.length," registered accounts"]})]}),o.jsxs("div",{className:"relative mb-5",children:[o.jsx(Qh,{size:16,className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",value:i,onChange:w=>a(w.target.value),placeholder:"Search by name or zodiac sign...",className:"w-full pl-10 pr-4 py-3 rounded-xl text-white placeholder-slate-500 outline-none text-sm max-w-md",style:{background:"rgba(10,22,40,0.8)",border:"1px solid rgba(0,191,255,0.2)"}})]}),o.jsxs("div",{className:"rounded-2xl overflow-hidden",style:{background:"rgba(10,22,40,0.7)",border:"1px solid rgba(0,191,255,0.15)"},children:[o.jsxs("div",{className:"grid grid-cols-5 gap-2 px-5 py-3 border-b border-blue-900/30 text-xs uppercase tracking-wider text-slate-500",children:[o.jsx("div",{className:"col-span-2",children:"User"}),o.jsx("div",{children:"Sign"}),o.jsx("div",{children:"Role"}),o.jsx("div",{className:"text-right",children:"Action"})]}),y.length===0?o.jsxs("div",{className:"px-5 py-10 text-center text-slate-500 flex flex-col items-center gap-2",children:[o.jsx(Ni,{size:24}),o.jsx("p",{className:"text-sm",children:"No users found."})]}):o.jsx("div",{className:"divide-y divide-blue-900/20",children:y.map(w=>o.jsxs("div",{className:"grid grid-cols-5 gap-2 px-5 py-4 items-center hover:bg-white/[0.02] transition-colors",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("p",{className:"text-white text-sm font-medium",children:w.full_name}),o.jsxs("p",{className:"text-slate-500 text-xs",children:[w.date_of_birth||"No DOB","  ",w.gender]})]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:"text-lg",children:g[w.zodiac_sign]||""}),o.jsx("span",{className:"text-cyan-400 text-sm",children:w.zodiac_sign})]}),o.jsx("div",{children:o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${w.role==="admin"?"text-yellow-400 bg-yellow-400/10 border border-yellow-400/20":"text-slate-400 bg-slate-400/10 border border-slate-400/20"}`,children:w.role})}),o.jsx("div",{className:"text-right",children:w.id!==(e==null?void 0:e.id)&&o.jsx(o.Fragment,{children:c===w.id?o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>d(null),className:"text-xs text-slate-400 hover:text-white px-2 py-1 rounded",children:"Cancel"}),o.jsx("button",{onClick:()=>h(w.id),disabled:l===w.id,className:"text-xs text-red-400 hover:text-red-300 px-3 py-1 rounded-lg disabled:opacity-60",style:{background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.3)"},children:l===w.id?"...":"Confirm"})]}):o.jsx("button",{onClick:()=>d(w.id),className:"text-slate-500 hover:text-red-400 transition-colors p-1.5 rounded-lg hover:bg-red-400/10",children:o.jsx(Zh,{size:15})})})})]},w.id))})]})]})}function Bv(){return o.jsxs("div",{className:"min-h-screen flex items-center justify-center",style:{background:"radial-gradient(ellipse at top, #1A0533 0%, #0A0118 100%)"},children:[o.jsx(Kh,{}),o.jsxs("div",{className:"relative z-10 text-center",children:[o.jsx("div",{className:"text-5xl mb-4 animate-pulse",children:""}),o.jsx("p",{className:"text-purple-300 text-sm tracking-widest uppercase",children:"Aligning the stars..."})]})]})}const yc=["landing","login","register","admin-register"],Wv=["dashboard","my-zodiac","daily","monthly","profile","admin-dashboard","admin-signs","admin-users"];function qv(){const{user:e,profile:t,loading:r}=at(),[n,s]=S.useState("landing"),i=S.useRef(!1);function a(p){i.current=!0,s(p),setTimeout(()=>{i.current=!1},100)}if(S.useEffect(()=>{r||i.current||(e?e&&t&&yc.includes(n)&&s(t.role==="admin"?"admin-dashboard":"dashboard"):Wv.includes(n)&&s("landing"))},[e,t,r,n]),r)return o.jsx(Bv,{});const l=n.startsWith("admin-")&&n!=="admin-register",u=yc.includes(n),c=!l&&!u,d=()=>{switch(n){case"landing":return o.jsx(hc,{onNavigate:a});case"login":return o.jsx(kv,{onNavigate:a});case"register":return o.jsx(Sv,{onNavigate:a});case"admin-register":return o.jsx(Cv,{onNavigate:a});case"dashboard":return o.jsx(Ev,{onNavigate:a});case"my-zodiac":return o.jsx(Av,{});case"daily":return o.jsx(Ov,{});case"monthly":return o.jsx(Lv,{});case"profile":return o.jsx(zv,{});case"admin-dashboard":return o.jsx(Mv,{});case"admin-signs":return o.jsx(Uv,{});case"admin-users":return o.jsx(Fv,{});default:return o.jsx(hc,{onNavigate:a})}};return o.jsxs("div",{className:"min-h-screen",style:{background:"radial-gradient(ellipse at top, #1A0533 0%, #0A0118 100%)"},children:[o.jsx(Kh,{}),c?o.jsx(vv,{currentPage:n,onNavigate:a,children:d()}):l?o.jsx(bv,{currentPage:n,onNavigate:a,children:d()}):o.jsx("div",{className:"relative z-10",children:d()})]})}function Vv(){return o.jsx(av,{children:o.jsx(qv,{})})}Ah(document.getElementById("root")).render(o.jsx(S.StrictMode,{children:o.jsx(Vv,{})}));
